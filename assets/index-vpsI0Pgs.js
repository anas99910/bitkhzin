const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./InventoryList-B4FRR0Od.js","./InventoryForm-CVBCfmRk.js","./SwipeableItem-M-imXXXc.js","./TodoView-BwP61ozG.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function oV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kg={exports:{}},rc={};var HS;function lV(){if(HS)return rc;HS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return rc.Fragment=t,rc.jsx=e,rc.jsxs=e,rc}var GS;function uV(){return GS||(GS=1,Kg.exports=lV()),Kg.exports}var z=uV(),Qg={exports:{}},Rt={};var KS;function cV(){if(KS)return Rt;KS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function X(O,nt,ft){this.props=O,this.context=nt,this.refs=B,this.updater=ft||V}X.prototype.isReactComponent={},X.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},X.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=X.prototype;function K(O,nt,ft){this.props=O,this.context=nt,this.refs=B,this.updater=ft||V}var ot=K.prototype=new $;ot.constructor=K,k(ot,X.prototype),ot.isPureReactComponent=!0;var at=Array.isArray;function lt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,nt,ft){var dt=ft.ref;return{$$typeof:n,type:O,key:nt,ref:dt!==void 0?dt:null,props:ft}}function N(O,nt){return C(O.type,nt,O.props)}function P(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function U(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ft){return nt[ft]})}var x=/\/+/g;function re(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):nt.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(lt,lt):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,nt,ft,dt,wt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var Ft=!1;if(O===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(O.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=O._init,Z(Ft(O._payload),nt,ft,dt,wt)}}if(Ft)return wt=wt(O),Ft=dt===""?"."+re(O,0):dt,at(wt)?(ft="",Ft!=null&&(ft=Ft.replace(x,"$&/")+"/"),Z(wt,nt,ft,"",function(Zr){return Zr})):wt!=null&&(P(wt)&&(wt=N(wt,ft+(wt.key==null||O&&O.key===wt.key?"":(""+wt.key).replace(x,"$&/")+"/")+Ft)),nt.push(wt)),1;Ft=0;var Fe=dt===""?".":dt+":";if(at(O))for(var ce=0;ce<O.length;ce++)dt=O[ce],Vt=Fe+re(dt,ce),Ft+=Z(dt,nt,ft,Vt,wt);else if(ce=I(O),typeof ce=="function")for(O=ce.call(O),ce=0;!(dt=O.next()).done;)dt=dt.value,Vt=Fe+re(dt,ce++),Ft+=Z(dt,nt,ft,Vt,wt);else if(Vt==="object"){if(typeof O.then=="function")return Z(ye(O),nt,ft,dt,wt);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function rt(O,nt,ft){if(O==null)return O;var dt=[],wt=0;return Z(O,dt,"","",function(Vt){return nt.call(ft,Vt,wt++)}),dt}function mt(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(ft){(O._status===0||O._status===-1)&&(O._status=1,O._result=ft)},function(ft){(O._status===0||O._status===-1)&&(O._status=2,O._result=ft)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},kt={map:rt,forEach:function(O,nt,ft){rt(O,function(){nt.apply(this,arguments)},ft)},count:function(O){var nt=0;return rt(O,function(){nt++}),nt},toArray:function(O){return rt(O,function(nt){return nt})||[]},only:function(O){if(!P(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=X,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=K,Rt.StrictMode=i,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,nt,ft){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var dt=k({},O.props),wt=O.key;if(nt!=null)for(Vt in nt.key!==void 0&&(wt=""+nt.key),nt)!w.call(nt,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&nt.ref===void 0||(dt[Vt]=nt[Vt]);var Vt=arguments.length-2;if(Vt===1)dt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),Fe=0;Fe<Vt;Fe++)Ft[Fe]=arguments[Fe+2];dt.children=Ft}return C(O.type,wt,dt)},Rt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Rt.createElement=function(O,nt,ft){var dt,wt={},Vt=null;if(nt!=null)for(dt in nt.key!==void 0&&(Vt=""+nt.key),nt)w.call(nt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(wt[dt]=nt[dt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ft;else if(1<Ft){for(var Fe=Array(Ft),ce=0;ce<Ft;ce++)Fe[ce]=arguments[ce+2];wt.children=Fe}if(O&&O.defaultProps)for(dt in Ft=O.defaultProps,Ft)wt[dt]===void 0&&(wt[dt]=Ft[dt]);return C(O,Vt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:h,render:O}},Rt.isValidElement=P,Rt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:mt}},Rt.memo=function(O,nt){return{$$typeof:p,type:O,compare:nt===void 0?null:nt}},Rt.startTransition=function(O){var nt=R.T,ft={};R.T=ft;try{var dt=O(),wt=R.S;wt!==null&&wt(ft,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(lt,Dt)}catch(Vt){Dt(Vt)}finally{nt!==null&&ft.types!==null&&(nt.types=ft.types),R.T=nt}},Rt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Rt.use=function(O){return R.H.use(O)},Rt.useActionState=function(O,nt,ft){return R.H.useActionState(O,nt,ft)},Rt.useCallback=function(O,nt){return R.H.useCallback(O,nt)},Rt.useContext=function(O){return R.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,nt){return R.H.useDeferredValue(O,nt)},Rt.useEffect=function(O,nt){return R.H.useEffect(O,nt)},Rt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Rt.useId=function(){return R.H.useId()},Rt.useImperativeHandle=function(O,nt,ft){return R.H.useImperativeHandle(O,nt,ft)},Rt.useInsertionEffect=function(O,nt){return R.H.useInsertionEffect(O,nt)},Rt.useLayoutEffect=function(O,nt){return R.H.useLayoutEffect(O,nt)},Rt.useMemo=function(O,nt){return R.H.useMemo(O,nt)},Rt.useOptimistic=function(O,nt){return R.H.useOptimistic(O,nt)},Rt.useReducer=function(O,nt,ft){return R.H.useReducer(O,nt,ft)},Rt.useRef=function(O){return R.H.useRef(O)},Rt.useState=function(O){return R.H.useState(O)},Rt.useSyncExternalStore=function(O,nt,ft){return R.H.useSyncExternalStore(O,nt,ft)},Rt.useTransition=function(){return R.H.useTransition()},Rt.version="19.2.3",Rt}var QS;function O_(){return QS||(QS=1,Qg.exports=cV()),Qg.exports}var st=O_();const MB=oV(st);var Yg={exports:{}},ac={},Xg={exports:{}},$g={};var YS;function hV(){return YS||(YS=1,(function(n){function t(Z,rt){var mt=Z.length;Z.push(rt);t:for(;0<mt;){var Dt=mt-1>>>1,kt=Z[Dt];if(0<a(kt,rt))Z[Dt]=rt,Z[mt]=kt,mt=Dt;else break t}}function e(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var rt=Z[0],mt=Z.pop();if(mt!==rt){Z[0]=mt;t:for(var Dt=0,kt=Z.length,O=kt>>>1;Dt<O;){var nt=2*(Dt+1)-1,ft=Z[nt],dt=nt+1,wt=Z[dt];if(0>a(ft,mt))dt<kt&&0>a(wt,ft)?(Z[Dt]=wt,Z[dt]=mt,Dt=dt):(Z[Dt]=ft,Z[nt]=mt,Dt=nt);else if(dt<kt&&0>a(wt,mt))Z[Dt]=wt,Z[dt]=mt,Dt=dt;else break t}}return rt}function a(Z,rt){var mt=Z.sortIndex-rt.sortIndex;return mt!==0?mt:Z.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,S=3,I=!1,V=!1,k=!1,B=!1,X=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ot(Z){for(var rt=e(p);rt!==null;){if(rt.callback===null)i(p);else if(rt.startTime<=Z)i(p),rt.sortIndex=rt.expirationTime,t(d,rt);else break;rt=e(p)}}function at(Z){if(k=!1,ot(Z),!V)if(e(d)!==null)V=!0,lt||(lt=!0,U());else{var rt=e(p);rt!==null&&ye(at,rt.startTime-Z)}}var lt=!1,R=-1,w=5,C=-1;function N(){return B?!0:!(n.unstable_now()-C<w)}function P(){if(B=!1,lt){var Z=n.unstable_now();C=Z;var rt=!0;try{t:{V=!1,k&&(k=!1,$(R),R=-1),I=!0;var mt=S;try{e:{for(ot(Z),v=e(d);v!==null&&!(v.expirationTime>Z&&N());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,S=v.priorityLevel;var kt=Dt(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof kt=="function"){v.callback=kt,ot(Z),rt=!0;break e}v===e(d)&&i(d),ot(Z)}else i(d);v=e(d)}if(v!==null)rt=!0;else{var O=e(p);O!==null&&ye(at,O.startTime-Z),rt=!1}}break t}finally{v=null,S=mt,I=!1}rt=void 0}}finally{rt?U():lt=!1}}}var U;if(typeof K=="function")U=function(){K(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,re=x.port2;x.port1.onmessage=P,U=function(){re.postMessage(null)}}else U=function(){X(P,0)};function ye(Z,rt){R=X(function(){Z(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var mt=S;S=rt;try{return Z()}finally{S=mt}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var mt=S;S=Z;try{return rt()}finally{S=mt}},n.unstable_scheduleCallback=function(Z,rt,mt){var Dt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Dt+mt:Dt):mt=Dt,Z){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=mt+kt,Z={id:y++,callback:rt,priorityLevel:Z,startTime:mt,expirationTime:kt,sortIndex:-1},mt>Dt?(Z.sortIndex=mt,t(p,Z),e(d)===null&&Z===e(p)&&(k?($(R),R=-1):k=!0,ye(at,mt-Dt))):(Z.sortIndex=kt,t(d,Z),V||I||(V=!0,lt||(lt=!0,U()))),Z},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Z){var rt=S;return function(){var mt=S;S=rt;try{return Z.apply(this,arguments)}finally{S=mt}}}})($g)),$g}var XS;function fV(){return XS||(XS=1,Xg.exports=hV()),Xg.exports}var Wg={exports:{}},ln={};var $S;function dV(){if($S)return ln;$S=1;var n=O_();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,y)},ln.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},ln.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},ln.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ln.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:I}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:S,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ln.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},ln.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ln.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},ln.requestFormReset=function(d){i.d.r(d)},ln.unstable_batchedUpdates=function(d,p){return d(p)},ln.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var WS;function mV(){if(WS)return Wg.exports;WS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wg.exports=dV(),Wg.exports}var JS;function pV(){if(JS)return ac;JS=1;var n=fV(),t=O_(),e=mV();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),s;if(g===c)return d(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,A=m.child;A;){if(A===o){T=!0,o=m,c=g;break}if(A===c){T=!0,c=m,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,c=m;break}if(A===c){T=!0,c=g,o=m;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var x=Symbol.for("react.client.reference");function re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===x?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case X:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case lt:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case V:return"Portal";case K:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case ot:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:re(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return re(s(r))}catch{}}return null}var ye=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function O(s){return{current:s}}function nt(s){0>kt||(s.current=Dt[kt],Dt[kt]=null,kt--)}function ft(s,r){kt++,Dt[kt]=s.current,s.current=r}var dt=O(null),wt=O(null),Vt=O(null),Ft=O(null);function Fe(s,r){switch(ft(Vt,r),ft(wt,s),ft(dt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?dS(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=dS(r),s=mS(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}nt(dt),ft(dt,s)}function ce(){nt(dt),nt(wt),nt(Vt)}function Zr(s){s.memoizedState!==null&&ft(Ft,s);var r=dt.current,o=mS(r,s.type);r!==o&&(ft(wt,s),ft(dt,o))}function lo(s){wt.current===s&&(nt(dt),nt(wt)),Ft.current===s&&(nt(Ft),ec._currentValue=mt)}var uo,co;function Ii(s){if(uo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);uo=r&&r[1]||"",co=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uo+s+co}var eu=!1;function ta(s,r){if(!s||eu)return"";eu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var G=Y}Reflect.construct(s,[],et)}else{try{et.call()}catch(Y){G=Y}s.call(et.prototype)}}else{try{throw Error()}catch(Y){G=Y}(et=s())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var D=T.split(`
`),H=A.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===H.length)for(c=D.length-1,m=H.length-1;1<=c&&0<=m&&D[c]!==H[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==H[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==H[m]){var W=`
`+D[c].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=c&&0<=m);break}}}finally{eu=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Ii(o):""}function nu(s,r){switch(s.tag){case 26:case 27:case 5:return Ii(s.type);case 16:return Ii("Lazy");case 13:return s.child!==r&&r!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ta(s.type,!1);case 11:return ta(s.type.render,!1);case 1:return ta(s.type,!0);case 31:return Ii("Activity");default:return""}}function iu(s){try{var r="",o=null;do r+=nu(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var De=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,Hs=n.unstable_cancelCallback,Ym=n.unstable_shouldYield,Ah=n.unstable_requestPaint,gn=n.unstable_now,ea=n.unstable_getCurrentPriorityLevel,su=n.unstable_ImmediatePriority,ru=n.unstable_UserBlockingPriority,Gs=n.unstable_NormalPriority,Xm=n.unstable_LowPriority,bh=n.unstable_IdlePriority,wh=n.log,Ih=n.unstable_setDisableYieldValue,li=null,Ze=null;function Gn(s){if(typeof wh=="function"&&Ih(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(li,s)}catch{}}var Se=Math.clz32?Math.clz32:Ch,Rh=Math.log,ho=Math.LN2;function Ch(s){return s>>>=0,s===0?32:31-(Rh(s)/ho|0)|0}var Ri=256,na=262144,Ve=4194304;function Ci(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xi(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=Ci(c):(T&=A,T!==0?m=Ci(T):o||(o=A&~s,o!==0&&(m=Ci(o))))):(A=c&~g,A!==0?m=Ci(A):T!==0?m=Ci(T):o||(o=c&~s,o!==0&&(m=Ci(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ui(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function $m(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xh(){var s=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),s}function Di(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ia(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wm(s,r,o,c,m,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,D=s.expirationTimes,H=s.hiddenUpdates;for(o=T&~o;0<o;){var W=31-Se(o),et=1<<W;A[W]=0,D[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}o&=~et}c!==0&&sa(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function sa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Se(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function au(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-Se(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function ou(s,r){var o=r&-r;return o=(o&42)!==0?1:ra(o),(o&(s.suspendedLanes|r))!==0?0:o}function ra(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dh(){var s=rt.p;return s!==0?s:(s=window.event,s===void 0?32:LS(s.type))}function ci(s,r){var o=rt.p;try{return rt.p=s,r()}finally{rt.p=o}}var hi=Math.random().toString(36).slice(2),Pe="__reactFiber$"+hi,Ye="__reactProps$"+hi,Vi="__reactContainer$"+hi,fo="__reactEvents$"+hi,Jm="__reactListeners$"+hi,Vh="__reactHandles$"+hi,Ph="__reactResources$"+hi,Pi="__reactMarker$"+hi;function mo(s){delete s[Pe],delete s[Ye],delete s[fo],delete s[Jm],delete s[Vh]}function Mi(s){var r=s[Pe];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Vi]||o[Pe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=ES(s);s!==null;){if(o=s[Pe])return o;s=ES(s)}return r}s=o,o=s.parentNode}return null}function Kn(s){if(s=s[Pe]||s[Vi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Vn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ni(s){var r=s[Ph];return r||(r=s[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Me(s){s[Pi]=!0}var lu=new Set,uu={};function Oi(s,r){ki(s,r),ki(s+"Capture",r)}function ki(s,r){for(uu[s]=r,s=0;s<r.length;s++)lu.add(r[s])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},fu={};function Mh(s){return De.call(fu,s)?!0:De.call(hu,s)?!1:cu.test(s)?fu[s]=!0:(hu[s]=!0,!1)}function po(s,r,o){if(Mh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Pn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ne(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Xe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ks(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function du(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xt(s){if(!s._valueTracker){var r=Ks(s)?"checked":"value";s._valueTracker=du(s,r,""+s[r])}}function aa(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Ks(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function Li(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oa=/[\n"\\]/g;function En(s){return s.replace(oa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function go(s,r,o,c,m,g,T,A){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xe(r)):s.value!==""+Xe(r)&&(s.value=""+Xe(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?mu(s,T,Xe(r)):o!=null?mu(s,T,Xe(o)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Xe(A):s.removeAttribute("name")}function Nh(s,r,o,c,m,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xt(s);return}o=o!=null?""+Xe(o):"",r=r!=null?""+Xe(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=A?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Xt(s)}function mu(s,r,o){r==="number"&&Li(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qs(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Xe(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Oh(s,r,o){if(r!=null&&(r=""+Xe(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Xe(o):""}function Ys(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(ye(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Xe(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Xt(s)}function Sn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||kh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function gu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&pu(s,m,c)}else for(var g in r)r.hasOwnProperty(g)&&pu(s,g,r[g])}function yo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(s){return Xs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fi(){}var yu=null;function Qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $s=null,Ui=null;function la(s){var r=Kn(s);if(r&&(s=r.stateNode)){var o=s[Ye]||null;t:switch(s=r.stateNode,r.type){case"input":if(go(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[Ye]||null;if(!m)throw Error(i(90));go(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&aa(c)}break t;case"textarea":Oh(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Qs(s,!!o.multiple,r,!1)}}}var vo=!1;function Ws(s,r,o){if(vo)return s(r,o);vo=!0;try{var c=s(r);return c}finally{if(vo=!1,($s!==null||Ui!==null)&&(Vf(),$s&&(r=$s,s=Ui,Ui=$s=null,la(r),s)))for(r=0;r<s.length;r++)la(s[r])}}function di(s,r){var o=s.stateNode;if(o===null)return null;var c=o[Ye]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(Yn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{ua=!1}var Bi=null,_u=null,ca=null;function vu(){if(ca)return ca;var s,r=_u,o=r.length,c,m="value"in Bi?Bi.value:Bi.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===m[g-c];c++);return ca=m.slice(s,1<c?1-c:void 0)}function ha(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function mi(){return!1}function tn(s){function r(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=tn(us),Js=v({},us,{view:0,detail:0}),Tu=tn(Js),Zs,To,ji,Eo=v({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(Zs=s.screenX-ji.screenX,To=s.screenY-ji.screenY):To=Zs=0,ji=s),Zs)},movementY:function(s){return"movementY"in s?s.movementY:To}}),Eu=tn(Eo),fa=v({},Eo,{dataTransfer:0}),Uh=tn(fa),Bh=v({},Js,{relatedTarget:0}),da=tn(Bh),Su=v({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=tn(Su),So=v({},us,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jh=tn(So),Fh=v({},us,{data:0}),Fi=tn(Fh),qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Gh[s])?!!r[s]:!1}function tr(){return Kh}var yn=v({},Js,{key:function(s){if(s.key){var r=qh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(s){return s.type==="keypress"?ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qh=tn(yn),Yh=v({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=tn(Yh),f=v({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),_=tn(f),E=v({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(E),F=v({},Eo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=tn(F),ct=v({},us,{newState:0,oldState:0}),Ct=tn(ct),Ae=[9,13,27,32],Kt=Yn&&"CompositionEvent"in window,he=null;Yn&&"documentMode"in document&&(he=document.documentMode);var Xn=Yn&&"TextEvent"in window&&!he,qi=Yn&&(!Kt||he&&8<he&&11>=he),pi=" ",gi=!1;function ma(s,r){switch(s){case"keyup":return Ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bo=!1;function V2(s,r){switch(s){case"compositionend":return Ao(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return s=r.data,s===pi&&gi?null:s;default:return null}}function P2(s,r){if(bo)return s==="compositionend"||!Kt&&ma(s,r)?(s=vu(),ca=_u=Bi=null,bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!M2[s.type]:r==="textarea"}function wT(s,r,o,c){$s?Ui?Ui.push(c):Ui=[c]:$s=c,r=Uf(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Au=null,bu=null;function N2(s){oS(s,0)}function Xh(s){var r=Vn(s);if(aa(r))return s}function IT(s,r){if(s==="change")return r}var RT=!1;if(Yn){var Zm;if(Yn){var tp="oninput"in document;if(!tp){var CT=document.createElement("div");CT.setAttribute("oninput","return;"),tp=typeof CT.oninput=="function"}Zm=tp}else Zm=!1;RT=Zm&&(!document.documentMode||9<document.documentMode)}function xT(){Au&&(Au.detachEvent("onpropertychange",DT),bu=Au=null)}function DT(s){if(s.propertyName==="value"&&Xh(bu)){var r=[];wT(r,bu,s,Qn(s)),Ws(N2,r)}}function O2(s,r,o){s==="focusin"?(xT(),Au=r,bu=o,Au.attachEvent("onpropertychange",DT)):s==="focusout"&&xT()}function k2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xh(bu)}function L2(s,r){if(s==="click")return Xh(r)}function U2(s,r){if(s==="input"||s==="change")return Xh(r)}function B2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Mn=typeof Object.is=="function"?Object.is:B2;function wu(s,r){if(Mn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!De.call(r,m)||!Mn(s[m],r[m]))return!1}return!0}function VT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function PT(s,r){var o=VT(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=VT(o)}}function MT(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?MT(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function NT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Li(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Li(s.document)}return r}function ep(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var z2=Yn&&"documentMode"in document&&11>=document.documentMode,wo=null,np=null,Iu=null,ip=!1;function OT(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ip||wo==null||wo!==Li(c)||(c=wo,"selectionStart"in c&&ep(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Iu&&wu(Iu,c)||(Iu=c,c=Uf(np,"onSelect"),0<c.length&&(r=new zi("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=wo)))}function pa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Io={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},sp={},kT={};Yn&&(kT=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function ga(s){if(sp[s])return sp[s];if(!Io[s])return s;var r=Io[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in kT)return sp[s]=r[o];return s}var LT=ga("animationend"),UT=ga("animationiteration"),BT=ga("animationstart"),j2=ga("transitionrun"),F2=ga("transitionstart"),q2=ga("transitioncancel"),zT=ga("transitionend"),jT=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function yi(s,r){jT.set(s,r),Oi(r,[s])}var $h=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$n=[],Ro=0,ap=0;function Wh(){for(var s=Ro,r=ap=Ro=0;r<s;){var o=$n[r];$n[r++]=null;var c=$n[r];$n[r++]=null;var m=$n[r];$n[r++]=null;var g=$n[r];if($n[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&FT(o,m,g)}}function Jh(s,r,o,c){$n[Ro++]=s,$n[Ro++]=r,$n[Ro++]=o,$n[Ro++]=c,ap|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function op(s,r,o,c){return Jh(s,r,o,c),Zh(s)}function ya(s,r){return Jh(s,null,null,r),Zh(s)}function FT(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-Se(o),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Zh(s){if(50<Yu)throw Yu=0,gg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Co={};function H2(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,r,o,c){return new H2(s,r,o,c)}function lp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,r){var o=s.alternate;return o===null?(o=Nn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function qT(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function tf(s,r,o,c,m,g){var T=0;if(c=s,typeof s=="function")lp(s)&&(T=1);else if(typeof s=="string")T=XD(s,o,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case C:return s=Nn(31,o,r,m),s.elementType=C,s.lanes=g,s;case k:return _a(o.children,m,g,r);case B:T=8,m|=24;break;case X:return s=Nn(12,o,r,m|2),s.elementType=X,s.lanes=g,s;case at:return s=Nn(13,o,r,m),s.elementType=at,s.lanes=g,s;case lt:return s=Nn(19,o,r,m),s.elementType=lt,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:T=10;break t;case $:T=9;break t;case ot:T=11;break t;case R:T=14;break t;case w:T=16,c=null;break t}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Nn(T,o,r,m),r.elementType=s,r.type=c,r.lanes=g,r}function _a(s,r,o,c){return s=Nn(7,s,c,r),s.lanes=o,s}function up(s,r,o){return s=Nn(6,s,null,r),s.lanes=o,s}function HT(s){var r=Nn(18,null,null,0);return r.stateNode=s,r}function cp(s,r,o){return r=Nn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var GT=new WeakMap;function Wn(s,r){if(typeof s=="object"&&s!==null){var o=GT.get(s);return o!==void 0?o:(r={value:s,source:r,stack:iu(r)},GT.set(s,r),r)}return{value:s,source:r,stack:iu(r)}}var xo=[],Do=0,ef=null,Ru=0,Jn=[],Zn=0,er=null,Hi=1,Gi="";function fs(s,r){xo[Do++]=Ru,xo[Do++]=ef,ef=s,Ru=r}function KT(s,r,o){Jn[Zn++]=Hi,Jn[Zn++]=Gi,Jn[Zn++]=er,er=s;var c=Hi;s=Gi;var m=32-Se(c)-1;c&=~(1<<m),o+=1;var g=32-Se(r)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Hi=1<<32-Se(r)+m|o<<m|c,Gi=g+s}else Hi=1<<g|o<<m|c,Gi=s}function hp(s){s.return!==null&&(fs(s,1),KT(s,1,0))}function fp(s){for(;s===ef;)ef=xo[--Do],xo[Do]=null,Ru=xo[--Do],xo[Do]=null;for(;s===er;)er=Jn[--Zn],Jn[Zn]=null,Gi=Jn[--Zn],Jn[Zn]=null,Hi=Jn[--Zn],Jn[Zn]=null}function QT(s,r){Jn[Zn++]=Hi,Jn[Zn++]=Gi,Jn[Zn++]=er,Hi=r.id,Gi=r.overflow,er=s}var en=null,le=null,jt=!1,nr=null,ti=!1,dp=Error(i(519));function ir(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(Wn(r,s)),dp}function YT(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Pe]=s,r[Ye]=c,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<$u.length;o++)Ot($u[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Nh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ys(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||hS(r.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),c.onScroll!=null&&Ot("scroll",r),c.onScrollEnd!=null&&Ot("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||ir(s,!0)}function XT(s){for(en=s.return;en;)switch(en.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:en=en.return}}function Vo(s){if(s!==en)return!1;if(!jt)return XT(s),jt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Vg(s.type,s.memoizedProps)),o=!o),o&&le&&ir(s),XT(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));le=TS(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));le=TS(s)}else r===27?(r=le,yr(s.type)?(s=kg,kg=null,le=s):le=r):le=en?ni(s.stateNode.nextSibling):null;return!0}function va(){le=en=null,jt=!1}function mp(){var s=nr;return s!==null&&(In===null?In=s:In.push.apply(In,s),nr=null),s}function Cu(s){nr===null?nr=[s]:nr.push(s)}var pp=O(null),Ta=null,ds=null;function sr(s,r,o){ft(pp,r._currentValue),r._currentValue=o}function ms(s){s._currentValue=pp.current,nt(pp)}function gp(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function yp(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=m;for(var D=0;D<r.length;D++)if(A.context===r[D]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),gp(g.return,o,s),c||(T=null);break t}g=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),gp(T,o,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Po(s,r,o,c){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=m.type;Mn(m.pendingProps.value,T.value)||(s!==null?s.push(A):s=[A])}}else if(m===Ft.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(ec):s=[ec])}m=m.return}s!==null&&yp(r,s,o,c),r.flags|=262144}function nf(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){Ta=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nn(s){return $T(Ta,s)}function sf(s,r){return Ta===null&&Ea(s),$T(s,r)}function $T(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(s===null)throw Error(i(308));ds=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ds=ds.next=r;return o}var G2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},K2=n.unstable_scheduleCallback,Q2=n.unstable_NormalPriority,Oe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new G2,data:new Map,refCount:0}}function xu(s){s.refCount--,s.refCount===0&&K2(Q2,function(){s.controller.abort()})}var Du=null,vp=0,Mo=0,No=null;function Y2(s,r){if(Du===null){var o=Du=[];vp=0,Mo=Sg(),No={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vp++,r.then(WT,WT),r}function WT(){if(--vp===0&&Du!==null){No!==null&&(No.status="fulfilled");var s=Du;Du=null,Mo=0,No=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function X2(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var JT=Z.S;Z.S=function(s,r){OE=gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Y2(s,r),JT!==null&&JT(s,r)};var Sa=O(null);function Tp(){var s=Sa.current;return s!==null?s:ae.pooledCache}function rf(s,r){r===null?ft(Sa,Sa.current):ft(Sa,r.pool)}function ZT(){var s=Tp();return s===null?null:{parent:Oe._currentValue,pool:s}}var Oo=Error(i(460)),Ep=Error(i(474)),af=Error(i(542)),of={then:function(){}};function t0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function e0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,i0(s),s;default:if(typeof r.status=="string")r.then(fi,fi);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,i0(s),s}throw ba=r,Oo}}function Aa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,Oo):o}}var ba=null;function n0(){if(ba===null)throw Error(i(459));var s=ba;return ba=null,s}function i0(s){if(s===Oo||s===af)throw Error(i(483))}var ko=null,Vu=0;function lf(s){var r=Vu;return Vu+=1,ko===null&&(ko=[]),e0(ko,s,r)}function Pu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function uf(s,r){throw r.$$typeof===S?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function s0(s){function r(L,M){if(s){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function o(L,M){if(!s)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function c(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function m(L,M){return L=hs(L,M),L.index=0,L.sibling=null,L}function g(L,M,q){return L.index=q,s?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function T(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function A(L,M,q,tt){return M===null||M.tag!==6?(M=up(q,L.mode,tt),M.return=L,M):(M=m(M,q),M.return=L,M)}function D(L,M,q,tt){var Tt=q.type;return Tt===k?W(L,M,q.props.children,tt,q.key):M!==null&&(M.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===w&&Aa(Tt)===M.type)?(M=m(M,q.props),Pu(M,q),M.return=L,M):(M=tf(q.type,q.key,q.props,null,L.mode,tt),Pu(M,q),M.return=L,M)}function H(L,M,q,tt){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=cp(q,L.mode,tt),M.return=L,M):(M=m(M,q.children||[]),M.return=L,M)}function W(L,M,q,tt,Tt){return M===null||M.tag!==7?(M=_a(q,L.mode,tt,Tt),M.return=L,M):(M=m(M,q),M.return=L,M)}function et(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=up(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return q=tf(M.type,M.key,M.props,null,L.mode,q),Pu(q,M),q.return=L,q;case V:return M=cp(M,L.mode,q),M.return=L,M;case w:return M=Aa(M),et(L,M,q)}if(ye(M)||U(M))return M=_a(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return et(L,lf(M),q);if(M.$$typeof===K)return et(L,sf(L,M),q);uf(L,M)}return null}function G(L,M,q,tt){var Tt=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Tt!==null?null:A(L,M,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===Tt?D(L,M,q,tt):null;case V:return q.key===Tt?H(L,M,q,tt):null;case w:return q=Aa(q),G(L,M,q,tt)}if(ye(q)||U(q))return Tt!==null?null:W(L,M,q,tt,null);if(typeof q.then=="function")return G(L,M,lf(q),tt);if(q.$$typeof===K)return G(L,M,sf(L,q),tt);uf(L,q)}return null}function Y(L,M,q,tt,Tt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return L=L.get(q)||null,A(M,L,""+tt,Tt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:return L=L.get(tt.key===null?q:tt.key)||null,D(M,L,tt,Tt);case V:return L=L.get(tt.key===null?q:tt.key)||null,H(M,L,tt,Tt);case w:return tt=Aa(tt),Y(L,M,q,tt,Tt)}if(ye(tt)||U(tt))return L=L.get(q)||null,W(M,L,tt,Tt,null);if(typeof tt.then=="function")return Y(L,M,q,lf(tt),Tt);if(tt.$$typeof===K)return Y(L,M,q,sf(M,tt),Tt);uf(M,tt)}return null}function gt(L,M,q,tt){for(var Tt=null,Ht=null,_t=M,Pt=M=0,Ut=null;_t!==null&&Pt<q.length;Pt++){_t.index>Pt?(Ut=_t,_t=null):Ut=_t.sibling;var Gt=G(L,_t,q[Pt],tt);if(Gt===null){_t===null&&(_t=Ut);break}s&&_t&&Gt.alternate===null&&r(L,_t),M=g(Gt,M,Pt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt,_t=Ut}if(Pt===q.length)return o(L,_t),jt&&fs(L,Pt),Tt;if(_t===null){for(;Pt<q.length;Pt++)_t=et(L,q[Pt],tt),_t!==null&&(M=g(_t,M,Pt),Ht===null?Tt=_t:Ht.sibling=_t,Ht=_t);return jt&&fs(L,Pt),Tt}for(_t=c(_t);Pt<q.length;Pt++)Ut=Y(_t,L,Pt,q[Pt],tt),Ut!==null&&(s&&Ut.alternate!==null&&_t.delete(Ut.key===null?Pt:Ut.key),M=g(Ut,M,Pt),Ht===null?Tt=Ut:Ht.sibling=Ut,Ht=Ut);return s&&_t.forEach(function(Sr){return r(L,Sr)}),jt&&fs(L,Pt),Tt}function St(L,M,q,tt){if(q==null)throw Error(i(151));for(var Tt=null,Ht=null,_t=M,Pt=M=0,Ut=null,Gt=q.next();_t!==null&&!Gt.done;Pt++,Gt=q.next()){_t.index>Pt?(Ut=_t,_t=null):Ut=_t.sibling;var Sr=G(L,_t,Gt.value,tt);if(Sr===null){_t===null&&(_t=Ut);break}s&&_t&&Sr.alternate===null&&r(L,_t),M=g(Sr,M,Pt),Ht===null?Tt=Sr:Ht.sibling=Sr,Ht=Sr,_t=Ut}if(Gt.done)return o(L,_t),jt&&fs(L,Pt),Tt;if(_t===null){for(;!Gt.done;Pt++,Gt=q.next())Gt=et(L,Gt.value,tt),Gt!==null&&(M=g(Gt,M,Pt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt);return jt&&fs(L,Pt),Tt}for(_t=c(_t);!Gt.done;Pt++,Gt=q.next())Gt=Y(_t,L,Pt,Gt.value,tt),Gt!==null&&(s&&Gt.alternate!==null&&_t.delete(Gt.key===null?Pt:Gt.key),M=g(Gt,M,Pt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt);return s&&_t.forEach(function(aV){return r(L,aV)}),jt&&fs(L,Pt),Tt}function se(L,M,q,tt){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:t:{for(var Tt=q.key;M!==null;){if(M.key===Tt){if(Tt=q.type,Tt===k){if(M.tag===7){o(L,M.sibling),tt=m(M,q.props.children),tt.return=L,L=tt;break t}}else if(M.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===w&&Aa(Tt)===M.type){o(L,M.sibling),tt=m(M,q.props),Pu(tt,q),tt.return=L,L=tt;break t}o(L,M);break}else r(L,M);M=M.sibling}q.type===k?(tt=_a(q.props.children,L.mode,tt,q.key),tt.return=L,L=tt):(tt=tf(q.type,q.key,q.props,null,L.mode,tt),Pu(tt,q),tt.return=L,L=tt)}return T(L);case V:t:{for(Tt=q.key;M!==null;){if(M.key===Tt)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){o(L,M.sibling),tt=m(M,q.children||[]),tt.return=L,L=tt;break t}else{o(L,M);break}else r(L,M);M=M.sibling}tt=cp(q,L.mode,tt),tt.return=L,L=tt}return T(L);case w:return q=Aa(q),se(L,M,q,tt)}if(ye(q))return gt(L,M,q,tt);if(U(q)){if(Tt=U(q),typeof Tt!="function")throw Error(i(150));return q=Tt.call(q),St(L,M,q,tt)}if(typeof q.then=="function")return se(L,M,lf(q),tt);if(q.$$typeof===K)return se(L,M,sf(L,q),tt);uf(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(o(L,M.sibling),tt=m(M,q),tt.return=L,L=tt):(o(L,M),tt=up(q,L.mode,tt),tt.return=L,L=tt),T(L)):o(L,M)}return function(L,M,q,tt){try{Vu=0;var Tt=se(L,M,q,tt);return ko=null,Tt}catch(_t){if(_t===Oo||_t===af)throw _t;var Ht=Nn(29,_t,null,L.mode);return Ht.lanes=tt,Ht.return=L,Ht}}}var wa=s0(!0),r0=s0(!1),rr=!1;function Sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ar(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function or(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Zh(s),FT(s,null,o),r}return Jh(s,c,r,o),Zh(s)}function Mu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,au(s,o)}}function bp(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var wp=!1;function Nu(){if(wp){var s=No;if(s!==null)throw s}}function Ou(s,r,o,c){wp=!1;var m=s.updateQueue;rr=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var D=A,H=D.next;D.next=null,T===null?g=H:T.next=H,T=D;var W=s.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==T&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=D))}if(g!==null){var et=m.baseState;T=0,W=H=D=null,A=g;do{var G=A.lane&-536870913,Y=G!==A.lane;if(Y?(Lt&G)===G:(c&G)===G){G!==0&&G===Mo&&(wp=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var gt=s,St=A;G=r;var se=o;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){et=gt.call(se,et,G);break t}et=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,G=typeof gt=="function"?gt.call(se,et,G):gt,G==null)break t;et=v({},et,G);break t;case 2:rr=!0}}G=A.callback,G!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=Y,D=et):W=W.next=Y,T|=G;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);W===null&&(D=et),m.baseState=D,m.firstBaseUpdate=H,m.lastBaseUpdate=W,g===null&&(m.shared.lanes=0),fr|=T,s.lanes=T,s.memoizedState=et}}function a0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function o0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)a0(o[s],r)}var Lo=O(null),cf=O(0);function l0(s,r){s=As,ft(cf,s),ft(Lo,r),As=s|r.baseLanes}function Ip(){ft(cf,As),ft(Lo,Lo.current)}function Rp(){As=cf.current,nt(Lo),nt(cf)}var On=O(null),ei=null;function lr(s){var r=s.alternate;ft(be,be.current&1),ft(On,s),ei===null&&(r===null||Lo.current!==null||r.memoizedState!==null)&&(ei=s)}function Cp(s){ft(be,be.current),ft(On,s),ei===null&&(ei=s)}function u0(s){s.tag===22?(ft(be,be.current),ft(On,s),ei===null&&(ei=s)):ur()}function ur(){ft(be,be.current),ft(On,On.current)}function kn(s){nt(On),ei===s&&(ei=null),nt(be)}var be=O(0);function hf(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ng(o)||Og(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ps=0,xt=null,ne=null,ke=null,ff=!1,Uo=!1,Ia=!1,df=0,ku=0,Bo=null,$2=0;function _e(){throw Error(i(321))}function xp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Mn(s[o],r[o]))return!1;return!0}function Dp(s,r,o,c,m,g){return ps=g,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=s===null||s.memoizedState===null?K0:Gp,Ia=!1,g=o(c,m),Ia=!1,Uo&&(g=h0(r,o,c,m)),c0(s),g}function c0(s){Z.H=Bu;var r=ne!==null&&ne.next!==null;if(ps=0,ke=ne=xt=null,ff=!1,ku=0,Bo=null,r)throw Error(i(300));s===null||Le||(s=s.dependencies,s!==null&&nf(s)&&(Le=!0))}function h0(s,r,o,c){xt=s;var m=0;do{if(Uo&&(Bo=null),ku=0,Uo=!1,25<=m)throw Error(i(301));if(m+=1,ke=ne=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=Q0,g=r(o,c)}while(Uo);return g}function W2(){var s=Z.H,r=s.useState()[0];return r=typeof r.then=="function"?Lu(r):r,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(xt.flags|=1024),r}function Vp(){var s=df!==0;return df=0,s}function Pp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Mp(s){if(ff){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ff=!1}ps=0,ke=ne=xt=null,Uo=!1,ku=df=0,Bo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?xt.memoizedState=ke=s:ke=ke.next=s,ke}function we(){if(ne===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var r=ke===null?xt.memoizedState:ke.next;if(r!==null)ke=r,ne=s;else{if(s===null)throw xt.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ke===null?xt.memoizedState=ke=s:ke=ke.next=s}return ke}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(s){var r=ku;return ku+=1,Bo===null&&(Bo=[]),s=e0(Bo,s,r),r=xt,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?K0:Gp),s}function pf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lu(s);if(s.$$typeof===K)return nn(s)}throw Error(i(438,String(s)))}function Np(s){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=mf(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=N;return r.index++,o}function gs(s,r){return typeof r=="function"?r(s):r}function gf(s){var r=we();return Op(r,ne,s)}function Op(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var A=T=null,D=null,H=r,W=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(Lt&et)===et:(ps&et)===et){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===Mo&&(W=!0);else if((ps&G)===G){H=H.next,G===Mo&&(W=!0);continue}else et={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=et,T=g):D=D.next=et,xt.lanes|=G,fr|=G;et=H.action,Ia&&o(g,et),g=H.hasEagerState?H.eagerState:o(g,et)}else G={lane:et,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=G,T=g):D=D.next=G,xt.lanes|=et,fr|=et;H=H.next}while(H!==null&&H!==r);if(D===null?T=g:D.next=A,!Mn(g,s.memoizedState)&&(Le=!0,W&&(o=No,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=D,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function kp(s){var r=we(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=s(g,T.action),T=T.next;while(T!==m);Mn(g,r.memoizedState)||(Le=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function f0(s,r,o){var c=xt,m=we(),g=jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!Mn((ne||m).memoizedState,o);if(T&&(m.memoizedState=o,Le=!0),m=m.queue,Bp(p0.bind(null,c,m,s),[s]),m.getSnapshot!==r||T||ke!==null&&ke.memoizedState.tag&1){if(c.flags|=2048,zo(9,{destroy:void 0},m0.bind(null,c,m,o,r),null),ae===null)throw Error(i(349));g||(ps&127)!==0||d0(c,r,o)}return o}function d0(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=mf(),xt.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function m0(s,r,o,c){r.value=o,r.getSnapshot=c,g0(r)&&y0(s)}function p0(s,r,o){return o(function(){g0(r)&&y0(s)})}function g0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Mn(s,o)}catch{return!0}}function y0(s){var r=ya(s,2);r!==null&&Rn(r,s,2)}function Lp(s){var r=_n();if(typeof s=="function"){var o=s;if(s=o(),Ia){Gn(!0);try{o()}finally{Gn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},r}function _0(s,r,o,c){return s.baseState=o,Op(s,ne,typeof c=="function"?c:gs)}function J2(s,r,o,c,m){if(vf(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,v0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function v0(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var g=Z.T,T={};Z.T=T;try{var A=o(m,c),D=Z.S;D!==null&&D(T,A),T0(s,r,A)}catch(H){Up(s,r,H)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=o(m,c),T0(s,r,g)}catch(H){Up(s,r,H)}}function T0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){E0(s,r,c)},function(c){return Up(s,r,c)}):E0(s,r,o)}function E0(s,r,o){r.status="fulfilled",r.value=o,S0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,v0(s,o)))}function Up(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,S0(r),r=r.next;while(r!==c)}s.action=null}function S0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function A0(s,r){return r}function b0(s,r){if(jt){var o=ae.formState;if(o!==null){t:{var c=xt;if(jt){if(le){e:{for(var m=le,g=ti;m.nodeType!==8;){if(!g){m=null;break e}if(m=ni(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){le=ni(m.nextSibling),c=m.data==="F!";break t}}ir(c)}c=!1}c&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:r},o.queue=c,o=q0.bind(null,xt,c),c.dispatch=o,c=Lp(!1),g=Hp.bind(null,xt,!1,c.queue),c=_n(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=J2.bind(null,xt,m,g,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function w0(s){var r=we();return I0(r,ne,s)}function I0(s,r,o){if(r=Op(s,r,A0)[0],s=gf(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Lu(r)}catch(T){throw T===Oo?af:T}else c=r;r=we();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,zo(9,{destroy:void 0},Z2.bind(null,m,o),null)),[c,g,s]}function Z2(s,r){s.action=r}function R0(s){var r=we(),o=ne;if(o!==null)return I0(r,o,s);we(),r=r.memoizedState,o=we();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function zo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=xt.updateQueue,r===null&&(r=mf(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function C0(){return we().memoizedState}function yf(s,r,o,c){var m=_n();xt.flags|=s,m.memoizedState=zo(1|r,{destroy:void 0},o,c===void 0?null:c)}function _f(s,r,o,c){var m=we();c=c===void 0?null:c;var g=m.memoizedState.inst;ne!==null&&c!==null&&xp(c,ne.memoizedState.deps)?m.memoizedState=zo(r,g,o,c):(xt.flags|=s,m.memoizedState=zo(1|r,g,o,c))}function x0(s,r){yf(8390656,8,s,r)}function Bp(s,r){_f(2048,8,s,r)}function tD(s){xt.flags|=4;var r=xt.updateQueue;if(r===null)r=mf(),xt.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function D0(s){var r=we().memoizedState;return tD({ref:r,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function V0(s,r){return _f(4,2,s,r)}function P0(s,r){return _f(4,4,s,r)}function M0(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function N0(s,r,o){o=o!=null?o.concat([s]):null,_f(4,4,M0.bind(null,r,s),o)}function zp(){}function O0(s,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&xp(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function k0(s,r){var o=we();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&xp(r,c[1]))return c[0];if(c=s(),Ia){Gn(!0);try{s()}finally{Gn(!1)}}return o.memoizedState=[c,r],c}function jp(s,r,o){return o===void 0||(ps&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=LE(),xt.lanes|=s,fr|=s,o)}function L0(s,r,o,c){return Mn(o,r)?o:Lo.current!==null?(s=jp(s,o,c),Mn(s,r)||(Le=!0),s):(ps&42)===0||(ps&1073741824)!==0&&(Lt&261930)===0?(Le=!0,s.memoizedState=o):(s=LE(),xt.lanes|=s,fr|=s,r)}function U0(s,r,o,c,m){var g=rt.p;rt.p=g!==0&&8>g?g:8;var T=Z.T,A={};Z.T=A,Hp(s,!1,r,o);try{var D=m(),H=Z.S;if(H!==null&&H(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=X2(D,c);Uu(s,r,W,Bn(s))}else Uu(s,r,c,Bn(s))}catch(et){Uu(s,r,{then:function(){},status:"rejected",reason:et},Bn())}finally{rt.p=g,T!==null&&A.types!==null&&(T.types=A.types),Z.T=T}}function eD(){}function Fp(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=B0(s).queue;U0(s,m,r,mt,o===null?eD:function(){return z0(s),o(c)})}function B0(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:mt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function z0(s){var r=B0(s);r.next===null&&(r=s.alternate.memoizedState),Uu(s,r.next.queue,{},Bn())}function qp(){return nn(ec)}function j0(){return we().memoizedState}function F0(){return we().memoizedState}function nD(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();s=ar(o);var c=or(r,s,o);c!==null&&(Rn(c,r,o),Mu(c,r,o)),r={cache:_p()},s.payload=r;return}r=r.return}}function iD(s,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vf(s)?H0(r,o):(o=op(s,r,o,c),o!==null&&(Rn(o,s,c),G0(o,r,c)))}function q0(s,r,o){var c=Bn();Uu(s,r,o,c)}function Uu(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(vf(s))H0(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,A=g(T,o);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,T))return Jh(s,r,m,0),ae===null&&Wh(),!1}catch{}if(o=op(s,r,m,c),o!==null)return Rn(o,s,c),G0(o,r,c),!0}return!1}function Hp(s,r,o,c){if(c={lane:2,revertLane:Sg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},vf(s)){if(r)throw Error(i(479))}else r=op(s,o,c,2),r!==null&&Rn(r,s,2)}function vf(s){var r=s.alternate;return s===xt||r!==null&&r===xt}function H0(s,r){Uo=ff=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function G0(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,au(s,o)}}var Bu={readContext:nn,use:pf,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Bu.useEffectEvent=_e;var K0={readContext:nn,use:pf,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:nn,useEffect:x0,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,yf(4194308,4,M0.bind(null,r,s),o)},useLayoutEffect:function(s,r){return yf(4194308,4,s,r)},useInsertionEffect:function(s,r){yf(4,2,s,r)},useMemo:function(s,r){var o=_n();r=r===void 0?null:r;var c=s();if(Ia){Gn(!0);try{s()}finally{Gn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=_n();if(o!==void 0){var m=o(r);if(Ia){Gn(!0);try{o(r)}finally{Gn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=iD.bind(null,xt,s),[c.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=Lp(s);var r=s.queue,o=q0.bind(null,xt,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:zp,useDeferredValue:function(s,r){var o=_n();return jp(o,s,r)},useTransition:function(){var s=Lp(!1);return s=U0.bind(null,xt,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=xt,m=_n();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ae===null)throw Error(i(349));(Lt&127)!==0||d0(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,x0(p0.bind(null,c,g,s),[s]),c.flags|=2048,zo(9,{destroy:void 0},m0.bind(null,c,g,o,r),null),o},useId:function(){var s=_n(),r=ae.identifierPrefix;if(jt){var o=Gi,c=Hi;o=(c&~(1<<32-Se(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=df++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=$2++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:qp,useFormState:b0,useActionState:b0,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Hp.bind(null,xt,!0,o),o.dispatch=r,[s,r]},useMemoCache:Np,useCacheRefresh:function(){return _n().memoizedState=nD.bind(null,xt)},useEffectEvent:function(s){var r=_n(),o={impl:s};return r.memoizedState=o,function(){if((Qt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Gp={readContext:nn,use:pf,useCallback:O0,useContext:nn,useEffect:Bp,useImperativeHandle:N0,useInsertionEffect:V0,useLayoutEffect:P0,useMemo:k0,useReducer:gf,useRef:C0,useState:function(){return gf(gs)},useDebugValue:zp,useDeferredValue:function(s,r){var o=we();return L0(o,ne.memoizedState,s,r)},useTransition:function(){var s=gf(gs)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Lu(s),r]},useSyncExternalStore:f0,useId:j0,useHostTransitionStatus:qp,useFormState:w0,useActionState:w0,useOptimistic:function(s,r){var o=we();return _0(o,ne,s,r)},useMemoCache:Np,useCacheRefresh:F0};Gp.useEffectEvent=D0;var Q0={readContext:nn,use:pf,useCallback:O0,useContext:nn,useEffect:Bp,useImperativeHandle:N0,useInsertionEffect:V0,useLayoutEffect:P0,useMemo:k0,useReducer:kp,useRef:C0,useState:function(){return kp(gs)},useDebugValue:zp,useDeferredValue:function(s,r){var o=we();return ne===null?jp(o,s,r):L0(o,ne.memoizedState,s,r)},useTransition:function(){var s=kp(gs)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Lu(s),r]},useSyncExternalStore:f0,useId:j0,useHostTransitionStatus:qp,useFormState:R0,useActionState:R0,useOptimistic:function(s,r){var o=we();return ne!==null?_0(o,ne,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Np,useCacheRefresh:F0};Q0.useEffectEvent=D0;function Kp(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Qp={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Bn(),m=ar(c);m.payload=r,o!=null&&(m.callback=o),r=or(s,m,c),r!==null&&(Rn(r,s,c),Mu(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Bn(),m=ar(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=or(s,m,c),r!==null&&(Rn(r,s,c),Mu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Bn(),c=ar(o);c.tag=2,r!=null&&(c.callback=r),r=or(s,c,o),r!==null&&(Rn(r,s,o),Mu(r,s,o))}};function Y0(s,r,o,c,m,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!wu(o,c)||!wu(m,g):!0}function X0(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&Qp.enqueueReplaceState(r,r.state,null)}function Ra(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function $0(s){$h(s)}function W0(s){console.error(s)}function J0(s){$h(s)}function Tf(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Z0(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yp(s,r,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Tf(s,r)},o}function tE(s){return s=ar(s),s.tag=3,s}function eE(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){Z0(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){Z0(r,o,c),typeof m!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function sD(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,m,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return ei===null?Pf():o.alternate===null&&ve===0&&(ve=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===of?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),vg(s,c,m)),!1;case 22:return o.flags|=65536,c===of?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),vg(s,c,m)),!1}throw Error(i(435,o.tag))}return vg(s,c,m),Pf(),!1}if(jt)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==dp&&(s=Error(i(422),{cause:c}),Cu(Wn(s,o)))):(c!==dp&&(r=Error(i(423),{cause:c}),Cu(Wn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Wn(c,o),m=Yp(s.stateNode,c,m),bp(s,m),ve!==4&&(ve=2)),!1;var g=Error(i(520),{cause:c});if(g=Wn(g,o),Qu===null?Qu=[g]:Qu.push(g),ve!==4&&(ve=2),r===null)return!0;c=Wn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=Yp(o.stateNode,c,s),bp(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=tE(m),eE(m,s,o,c),bp(o,m),!1}o=o.return}while(o!==null);return!1}var Xp=Error(i(461)),Le=!1;function sn(s,r,o,c){r.child=s===null?r0(r,null,o,c):wa(r,s.child,o,c)}function nE(s,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return Ea(r),c=Dp(s,r,o,T,g,m),A=Vp(),s!==null&&!Le?(Pp(s,r,m),ys(s,r,m)):(jt&&A&&hp(r),r.flags|=1,sn(s,r,c,m),r.child)}function iE(s,r,o,c,m){if(s===null){var g=o.type;return typeof g=="function"&&!lp(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,sE(s,r,g,c,m)):(s=tf(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!ig(s,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:wu,o(T,c)&&s.ref===r.ref)return ys(s,r,m)}return r.flags|=1,s=hs(g,c),s.ref=r.ref,s.return=r,r.child=s}function sE(s,r,o,c,m){if(s!==null){var g=s.memoizedProps;if(wu(g,c)&&s.ref===r.ref)if(Le=!1,r.pendingProps=c=g,ig(s,m))(s.flags&131072)!==0&&(Le=!0);else return r.lanes=s.lanes,ys(s,r,m)}return $p(s,r,o,c,m)}function rE(s,r,o,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return aE(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&rf(r,g!==null?g.cachePool:null),g!==null?l0(r,g):Ip(),u0(r);else return c=r.lanes=536870912,aE(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(rf(r,g.cachePool),l0(r,g),ur(),r.memoizedState=null):(s!==null&&rf(r,null),Ip(),ur());return sn(s,r,m,o),r.child}function zu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function aE(s,r,o,c,m){var g=Tp();return g=g===null?null:{parent:Oe._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&rf(r,null),Ip(),u0(r),s!==null&&Po(s,r,c,!0),r.childLanes=m,null}function Ef(s,r){return r=Af({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function oE(s,r,o){return wa(r,s.child,null,o),s=Ef(r,r.pendingProps),s.flags|=2,kn(r),r.memoizedState=null,s}function rD(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(jt){if(c.mode==="hidden")return s=Ef(r,c),r.lanes=536870912,zu(null,s);if(Cp(r),(s=le)?(s=vS(s,ti),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:er!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=HT(s),o.return=r,r.child=o,en=r,le=null)):s=null,s===null)throw ir(r);return r.lanes=536870912,null}return Ef(r,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(Cp(r),m)if(r.flags&256)r.flags&=-257,r=oE(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Le||Po(s,r,o,!1),m=(o&s.childLanes)!==0,Le||m){if(c=ae,c!==null&&(T=ou(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ya(s,T),Rn(c,s,T),Xp;Pf(),r=oE(s,r,o)}else s=g.treeContext,le=ni(T.nextSibling),en=r,jt=!0,nr=null,ti=!1,s!==null&&QT(r,s),r=Ef(r,c),r.flags|=4096;return r}return s=hs(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Sf(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function $p(s,r,o,c,m){return Ea(r),o=Dp(s,r,o,c,void 0,m),c=Vp(),s!==null&&!Le?(Pp(s,r,m),ys(s,r,m)):(jt&&c&&hp(r),r.flags|=1,sn(s,r,o,m),r.child)}function lE(s,r,o,c,m,g){return Ea(r),r.updateQueue=null,o=h0(r,c,o,m),c0(s),c=Vp(),s!==null&&!Le?(Pp(s,r,g),ys(s,r,g)):(jt&&c&&hp(r),r.flags|=1,sn(s,r,o,g),r.child)}function uE(s,r,o,c,m){if(Ea(r),r.stateNode===null){var g=Co,T=o.contextType;typeof T=="object"&&T!==null&&(g=nn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Sp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?nn(T):Co,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Kp(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Qp.enqueueReplaceState(g,g.state,null),Ou(r,c,g,m),Nu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var A=r.memoizedProps,D=Ra(o,A);g.props=D;var H=g.context,W=o.contextType;T=Co,typeof W=="object"&&W!==null&&(T=nn(W));var et=o.getDerivedStateFromProps;W=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==T)&&X0(r,g,c,T),rr=!1;var G=r.memoizedState;g.state=G,Ou(r,c,g,m),Nu(),H=r.memoizedState,A||G!==H||rr?(typeof et=="function"&&(Kp(r,o,et,c),H=r.memoizedState),(D=rr||Y0(r,o,D,c,G,H,T))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=H),g.props=c,g.state=H,g.context=T,c=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Ap(s,r),T=r.memoizedProps,W=Ra(o,T),g.props=W,et=r.pendingProps,G=g.context,H=o.contextType,D=Co,typeof H=="object"&&H!==null&&(D=nn(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==et||G!==D)&&X0(r,g,c,D),rr=!1,G=r.memoizedState,g.state=G,Ou(r,c,g,m),Nu();var Y=r.memoizedState;T!==et||G!==Y||rr||s!==null&&s.dependencies!==null&&nf(s.dependencies)?(typeof A=="function"&&(Kp(r,o,A,c),Y=r.memoizedState),(W=rr||Y0(r,o,W,c,G,Y,D)||s!==null&&s.dependencies!==null&&nf(s.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Y,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Y,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Y),g.props=c,g.state=Y,g.context=D,c=W):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Sf(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=wa(r,s.child,null,m),r.child=wa(r,null,o,m)):sn(s,r,o,m),r.memoizedState=g.state,s=r.child):s=ys(s,r,m),s}function cE(s,r,o,c){return va(),r.flags|=256,sn(s,r,o,c),r.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jp(s){return{baseLanes:s,cachePool:ZT()}}function Zp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Un),s}function hE(s,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(be.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(jt){if(m?lr(r):ur(),(s=le)?(s=vS(s,ti),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:er!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=HT(s),o.return=r,r.child=o,en=r,le=null)):s=null,s===null)throw ir(r);return Og(s)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(ur(),m=r.mode,A=Af({mode:"hidden",children:A},m),c=_a(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=Jp(o),c.childLanes=Zp(s,T,o),r.memoizedState=Wp,zu(null,c)):(lr(r),tg(r,A))}var D=s.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(g)r.flags&256?(lr(r),r.flags&=-257,r=eg(s,r,o)):r.memoizedState!==null?(ur(),r.child=s.child,r.flags|=128,r=null):(ur(),A=c.fallback,m=r.mode,c=Af({mode:"visible",children:c.children},m),A=_a(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,wa(r,s.child,null,o),c=r.child,c.memoizedState=Jp(o),c.childLanes=Zp(s,T,o),r.memoizedState=Wp,r=zu(null,c));else if(lr(r),Og(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var H=T.dgst;T=H,c=Error(i(419)),c.stack="",c.digest=T,Cu({value:c,source:null,stack:null}),r=eg(s,r,o)}else if(Le||Po(s,r,o,!1),T=(o&s.childLanes)!==0,Le||T){if(T=ae,T!==null&&(c=ou(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,ya(s,c),Rn(T,s,c),Xp;Ng(A)||Pf(),r=eg(s,r,o)}else Ng(A)?(r.flags|=192,r.child=s.child,r=null):(s=D.treeContext,le=ni(A.nextSibling),en=r,jt=!0,nr=null,ti=!1,s!==null&&QT(r,s),r=tg(r,c.children),r.flags|=4096);return r}return m?(ur(),A=c.fallback,m=r.mode,D=s.child,H=D.sibling,c=hs(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,H!==null?A=hs(H,A):(A=_a(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,zu(null,c),c=r.child,A=s.child.memoizedState,A===null?A=Jp(o):(m=A.cachePool,m!==null?(D=Oe._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=ZT(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=Zp(s,T,o),r.memoizedState=Wp,zu(s.child,c)):(lr(r),o=s.child,s=o.sibling,o=hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function tg(s,r){return r=Af({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Af(s,r){return s=Nn(22,s,null,r),s.lanes=0,s}function eg(s,r,o){return wa(r,s.child,null,o),s=tg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function fE(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),gp(s.return,r,o)}function ng(s,r,o,c,m,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function dE(s,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=be.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ft(be,T),sn(s,r,c,o),c=jt?Ru:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fE(s,o,r);else if(s.tag===19)fE(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&hf(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),ng(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&hf(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}ng(r,!0,o,null,g,c);break;case"together":ng(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ys(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),fr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Po(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=hs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=hs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function ig(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&nf(s)))}function aD(s,r,o){switch(r.tag){case 3:Fe(r,r.stateNode.containerInfo),sr(r,Oe,s.memoizedState.cache),va();break;case 27:case 5:Zr(r);break;case 4:Fe(r,r.stateNode.containerInfo);break;case 10:sr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Cp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?hE(s,r,o):(lr(r),s=ys(s,r,o),s!==null?s.sibling:null);lr(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Po(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return dE(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(be,be.current),c)break;return null;case 22:return r.lanes=0,rE(s,r,o,r.pendingProps);case 24:sr(r,Oe,s.memoizedState.cache)}return ys(s,r,o)}function mE(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Le=!0;else{if(!ig(s,o)&&(r.flags&128)===0)return Le=!1,aD(s,r,o);Le=(s.flags&131072)!==0}else Le=!1,jt&&(r.flags&1048576)!==0&&KT(r,Ru,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(s=Aa(r.elementType),r.type=s,typeof s=="function")lp(s)?(c=Ra(s,c),r.tag=1,r=uE(null,r,s,c,o)):(r.tag=0,r=$p(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===ot){r.tag=11,r=nE(null,r,s,c,o);break t}else if(m===R){r.tag=14,r=iE(null,r,s,c,o);break t}}throw r=re(s)||s,Error(i(306,r,""))}}return r;case 0:return $p(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ra(c,r.pendingProps),uE(s,r,c,m,o);case 3:t:{if(Fe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Ap(s,r),Ou(r,c,null,o);var T=r.memoizedState;if(c=T.cache,sr(r,Oe,c),c!==g.cache&&yp(r,[Oe],o,!0),Nu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=cE(s,r,c,o);break t}else if(c!==m){m=Wn(Error(i(424)),r),Cu(m),r=cE(s,r,c,o);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,le=ni(s.firstChild),en=r,jt=!0,nr=null,ti=!0,o=r0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(va(),c===m){r=ys(s,r,o);break t}sn(s,r,c,o)}r=r.child}return r;case 26:return Sf(s,r),s===null?(o=wS(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,s=r.pendingProps,c=Bf(Vt.current).createElement(o),c[Pe]=r,c[Ye]=s,rn(c,o,s),Me(c),r.stateNode=c):r.memoizedState=wS(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Zr(r),s===null&&jt&&(c=r.stateNode=SS(r.type,r.pendingProps,Vt.current),en=r,ti=!0,m=le,yr(r.type)?(kg=m,le=ni(c.firstChild)):le=m),sn(s,r,r.pendingProps.children,o),Sf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&jt&&((m=c=le)&&(c=kD(c,r.type,r.pendingProps,ti),c!==null?(r.stateNode=c,en=r,le=ni(c.firstChild),ti=!1,m=!0):m=!1),m||ir(r)),Zr(r),m=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,Vg(m,g)?c=null:T!==null&&Vg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Dp(s,r,W2,null,null,o),ec._currentValue=m),Sf(s,r),sn(s,r,c,o),r.child;case 6:return s===null&&jt&&((s=o=le)&&(o=LD(o,r.pendingProps,ti),o!==null?(r.stateNode=o,en=r,le=null,s=!0):s=!1),s||ir(r)),null;case 13:return hE(s,r,o);case 4:return Fe(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=wa(r,null,c,o):sn(s,r,c,o),r.child;case 11:return nE(s,r,r.type,r.pendingProps,o);case 7:return sn(s,r,r.pendingProps,o),r.child;case 8:return sn(s,r,r.pendingProps.children,o),r.child;case 12:return sn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,sr(r,r.type,c.value),sn(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ea(r),m=nn(m),c=c(m),r.flags|=1,sn(s,r,c,o),r.child;case 14:return iE(s,r,r.type,r.pendingProps,o);case 15:return sE(s,r,r.type,r.pendingProps,o);case 19:return dE(s,r,o);case 31:return rD(s,r,o);case 22:return rE(s,r,o,r.pendingProps);case 24:return Ea(r),c=nn(Oe),s===null?(m=Tp(),m===null&&(m=ae,g=_p(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Sp(r),sr(r,Oe,m)):((s.lanes&o)!==0&&(Ap(s,r),Ou(r,null,null,o),Nu()),m=s.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),sr(r,Oe,c)):(c=g.cache,sr(r,Oe,c),c!==m.cache&&yp(r,[Oe],o,!0))),sn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _s(s){s.flags|=4}function sg(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(jE())s.flags|=8192;else throw ba=of,Ep}else s.flags&=-16777217}function pE(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!DS(r))if(jE())s.flags|=8192;else throw ba=of,Ep}function bf(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?xh():536870912,s.lanes|=r,Ho|=r)}function ju(s,r){if(!jt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ue(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function oD(s,r,o){var c=r.pendingProps;switch(fp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ms(Oe),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Vo(r)?_s(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,mp())),ue(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(_s(r),g!==null?(ue(r),pE(r,g)):(ue(r),sg(r,m,null,c,o))):g?g!==s.memoizedState?(_s(r),ue(r),pE(r,g)):(ue(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&_s(r),ue(r),sg(r,m,s,c,o)),null;case 27:if(lo(r),o=Vt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ue(r),null}s=dt.current,Vo(r)?YT(r):(s=SS(m,c,o),r.stateNode=s,_s(r))}return ue(r),null;case 5:if(lo(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ue(r),null}if(g=dt.current,Vo(r))YT(r);else{var T=Bf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Pe]=r,g[Ye]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(rn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&_s(r)}}return ue(r),sg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&_s(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Vt.current,Vo(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=en,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Pe]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||hS(s.nodeValue,o)),s||ir(r,!0)}else s=Bf(s).createTextNode(c),s[Pe]=r,r.stateNode=s}return ue(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=Vo(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Pe]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),s=!1}else o=mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ue(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Vo(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Pe]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),m=!1}else m=mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),bf(r,r.updateQueue),ue(r),null);case 4:return ce(),s===null&&Ig(r.stateNode.containerInfo),ue(r),null;case 10:return ms(r.type),ue(r),null;case 19:if(nt(be),c=r.memoizedState,c===null)return ue(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)ju(c,!1);else{if(ve!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=hf(s),g!==null){for(r.flags|=128,ju(c,!1),s=g.updateQueue,r.updateQueue=s,bf(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)qT(o,s),o=o.sibling;return ft(be,be.current&1|2),jt&&fs(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&gn()>xf&&(r.flags|=128,m=!0,ju(c,!1),r.lanes=4194304)}else{if(!m)if(s=hf(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,bf(r,s),ju(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return ue(r),null}else 2*gn()-c.renderingStartTime>xf&&o!==536870912&&(r.flags|=128,m=!0,ju(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=gn(),s.sibling=null,o=be.current,ft(be,m?o&1|2:o&1),jt&&fs(r,c.treeForkCount),s):(ue(r),null);case 22:case 23:return kn(r),Rp(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),o=r.updateQueue,o!==null&&bf(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&nt(Sa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(Oe),ue(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function lD(s,r){switch(fp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ms(Oe),ce(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return lo(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(i(340));va()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(kn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));va()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return nt(be),null;case 4:return ce(),null;case 10:return ms(r.type),null;case 22:case 23:return kn(r),Rp(),s!==null&&nt(Sa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ms(Oe),null;case 25:return null;default:return null}}function gE(s,r){switch(fp(r),r.tag){case 3:ms(Oe),ce();break;case 26:case 27:case 5:lo(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:nt(be);break;case 10:ms(r.type);break;case 22:case 23:kn(r),Rp(),s!==null&&nt(Sa);break;case 24:ms(Oe)}}function Fu(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(A){Wt(r,r.return,A)}}function cr(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=r;var D=o,H=A;try{H()}catch(W){Wt(m,D,W)}}}c=c.next}while(c!==g)}}catch(W){Wt(r,r.return,W)}}function yE(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{o0(r,o)}catch(c){Wt(s,s.return,c)}}}function _E(s,r,o){o.props=Ra(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Wt(s,r,c)}}function qu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){Wt(s,r,m)}}function Ki(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Wt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Wt(s,r,m)}else o.current=null}function vE(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Wt(s,s.return,m)}}function rg(s,r,o){try{var c=s.stateNode;DD(c,s.type,o,r),c[Ye]=r}catch(m){Wt(s,s.return,m)}}function TE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&yr(s.type)||s.tag===4}function ag(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||TE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&yr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function og(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&yr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(og(s,r,o),s=s.sibling;s!==null;)og(s,r,o),s=s.sibling}function wf(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&yr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(wf(s,r,o),s=s.sibling;s!==null;)wf(s,r,o),s=s.sibling}function EE(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);rn(r,c,o),r[Pe]=s,r[Ye]=o}catch(g){Wt(s,s.return,g)}}var vs=!1,Ue=!1,lg=!1,SE=typeof WeakSet=="function"?WeakSet:Set,$e=null;function uD(s,r){if(s=s.containerInfo,xg=Kf,s=NT(s),ep(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,A=-1,D=-1,H=0,W=0,et=s,G=null;e:for(;;){for(var Y;et!==o||m!==0&&et.nodeType!==3||(A=T+m),et!==g||c!==0&&et.nodeType!==3||(D=T+c),et.nodeType===3&&(T+=et.nodeValue.length),(Y=et.firstChild)!==null;)G=et,et=Y;for(;;){if(et===s)break e;if(G===o&&++H===m&&(A=T),G===g&&++W===c&&(D=T),(Y=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Y}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dg={focusedElem:s,selectionRange:o},Kf=!1,$e=r;$e!==null;)if(r=$e,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,$e=s;else for(;$e!==null;){switch(r=$e,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Ra(o.type,m);s=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(St){Wt(o,o.return,St)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Mg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$e=s;break}$e=r.return}}function AE(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Es(s,o),c&4&&Fu(5,o);break;case 1:if(Es(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){Wt(o,o.return,T)}else{var m=Ra(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(o,o.return,T)}}c&64&&yE(o),c&512&&qu(o,o.return);break;case 3:if(Es(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{o0(s,r)}catch(T){Wt(o,o.return,T)}}break;case 27:r===null&&c&4&&EE(o);case 26:case 5:Es(s,o),r===null&&c&4&&vE(o),c&512&&qu(o,o.return);break;case 12:Es(s,o);break;case 31:Es(s,o),c&4&&IE(s,o);break;case 13:Es(s,o),c&4&&RE(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=_D.bind(null,o),UD(s,o))));break;case 22:if(c=o.memoizedState!==null||vs,!c){r=r!==null&&r.memoizedState!==null||Ue,m=vs;var g=Ue;vs=c,(Ue=r)&&!g?Ss(s,o,(o.subtreeFlags&8772)!==0):Es(s,o),vs=m,Ue=g}break;case 30:break;default:Es(s,o)}}function bE(s){var r=s.alternate;r!==null&&(s.alternate=null,bE(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&mo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fe=null,An=!1;function Ts(s,r,o){for(o=o.child;o!==null;)wE(s,r,o),o=o.sibling}function wE(s,r,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Ue||Ki(o,r),Ts(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ue||Ki(o,r);var c=fe,m=An;yr(o.type)&&(fe=o.stateNode,An=!1),Ts(s,r,o),Ju(o.stateNode),fe=c,An=m;break;case 5:Ue||Ki(o,r);case 6:if(c=fe,m=An,fe=null,Ts(s,r,o),fe=c,An=m,fe!==null)if(An)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(g){Wt(o,r,g)}else try{fe.removeChild(o.stateNode)}catch(g){Wt(o,r,g)}break;case 18:fe!==null&&(An?(s=fe,yS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Jo(s)):yS(fe,o.stateNode));break;case 4:c=fe,m=An,fe=o.stateNode.containerInfo,An=!0,Ts(s,r,o),fe=c,An=m;break;case 0:case 11:case 14:case 15:cr(2,o,r),Ue||cr(4,o,r),Ts(s,r,o);break;case 1:Ue||(Ki(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_E(o,r,c)),Ts(s,r,o);break;case 21:Ts(s,r,o);break;case 22:Ue=(c=Ue)||o.memoizedState!==null,Ts(s,r,o),Ue=c;break;default:Ts(s,r,o)}}function IE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Jo(s)}catch(o){Wt(r,r.return,o)}}}function RE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Jo(s)}catch(o){Wt(r,r.return,o)}}function cD(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new SE),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new SE),r;default:throw Error(i(435,s.tag))}}function If(s,r){var o=cD(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=vD.bind(null,s,c);c.then(m,m)}})}function bn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=s,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(yr(A.type)){fe=A.stateNode,An=!1;break t}break;case 5:fe=A.stateNode,An=!1;break t;case 3:case 4:fe=A.stateNode.containerInfo,An=!0;break t}A=A.return}if(fe===null)throw Error(i(160));wE(g,T,m),fe=null,An=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)CE(r,s),r=r.sibling}var _i=null;function CE(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:bn(r,s),wn(s),c&4&&(cr(3,s,s.return),Fu(3,s),cr(5,s,s.return));break;case 1:bn(r,s),wn(s),c&512&&(Ue||o===null||Ki(o,o.return)),c&64&&vs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=_i;if(bn(r,s),wn(s),c&512&&(Ue||o===null||Ki(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){t:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pi]||g[Pe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),rn(g,c,o),g[Pe]=s,Me(g),c=g;break t;case"link":var T=CS("link","href",m).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}g=m.createElement(c),rn(g,c,o),m.head.appendChild(g);break;case"meta":if(T=CS("meta","content",m).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}g=m.createElement(c),rn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Pe]=s,Me(g),c=g}s.stateNode=c}else xS(m,s.type,s.stateNode);else s.stateNode=RS(m,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?xS(m,s.type,s.stateNode):RS(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&rg(s,s.memoizedProps,o.memoizedProps)}break;case 27:bn(r,s),wn(s),c&512&&(Ue||o===null||Ki(o,o.return)),o!==null&&c&4&&rg(s,s.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,s),wn(s),c&512&&(Ue||o===null||Ki(o,o.return)),s.flags&32){m=s.stateNode;try{Sn(m,"")}catch(gt){Wt(s,s.return,gt)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,rg(s,m,o!==null?o.memoizedProps:m)),c&1024&&(lg=!0);break;case 6:if(bn(r,s),wn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(gt){Wt(s,s.return,gt)}}break;case 3:if(Ff=null,m=_i,_i=zf(r.containerInfo),bn(r,s),_i=m,wn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(r.containerInfo)}catch(gt){Wt(s,s.return,gt)}lg&&(lg=!1,xE(s));break;case 4:c=_i,_i=zf(s.stateNode.containerInfo),bn(r,s),wn(s),_i=c;break;case 12:bn(r,s),wn(s);break;case 31:bn(r,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,If(s,c)));break;case 13:bn(r,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cf=gn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,If(s,c)));break;case 22:m=s.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,H=vs,W=Ue;if(vs=H||m,Ue=W||D,bn(r,s),Ue=W,vs=H,wn(s),c&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||D||vs||Ue||Ca(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(g=D.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var et=D.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(gt){Wt(D,D.return,gt)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(gt){Wt(D,D.return,gt)}}}else if(r.tag===18){if(o===null){D=r;try{var Y=D.stateNode;m?_S(Y,!0):_S(D.stateNode,!1)}catch(gt){Wt(D,D.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,If(s,o))));break;case 19:bn(r,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,If(s,c)));break;case 30:break;case 21:break;default:bn(r,s),wn(s)}}function wn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(TE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=ag(s);wf(s,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Sn(T,""),o.flags&=-33);var A=ag(s);wf(s,A,T);break;case 3:case 4:var D=o.stateNode.containerInfo,H=ag(s);og(s,H,D);break;default:throw Error(i(161))}}catch(W){Wt(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function xE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;xE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Es(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)AE(s,r.alternate,r),r=r.sibling}function Ca(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:cr(4,r,r.return),Ca(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&_E(r,r.return,o),Ca(r);break;case 27:Ju(r.stateNode);case 26:case 5:Ki(r,r.return),Ca(r);break;case 22:r.memoizedState===null&&Ca(r);break;case 30:Ca(r);break;default:Ca(r)}s=s.sibling}}function Ss(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ss(m,g,o),Fu(4,g);break;case 1:if(Ss(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){Wt(c,c.return,H)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)a0(D[m],A)}catch(H){Wt(c,c.return,H)}}o&&T&64&&yE(g),qu(g,g.return);break;case 27:EE(g);case 26:case 5:Ss(m,g,o),o&&c===null&&T&4&&vE(g),qu(g,g.return);break;case 12:Ss(m,g,o);break;case 31:Ss(m,g,o),o&&T&4&&IE(m,g);break;case 13:Ss(m,g,o),o&&T&4&&RE(m,g);break;case 22:g.memoizedState===null&&Ss(m,g,o),qu(g,g.return);break;case 30:break;default:Ss(m,g,o)}r=r.sibling}}function ug(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&xu(o))}function cg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xu(s))}function vi(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)DE(s,r,o,c),r=r.sibling}function DE(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:vi(s,r,o,c),m&2048&&Fu(9,r);break;case 1:vi(s,r,o,c);break;case 3:vi(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xu(s)));break;case 12:if(m&2048){vi(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){Wt(r,r.return,D)}}else vi(s,r,o,c);break;case 31:vi(s,r,o,c);break;case 13:vi(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?vi(s,r,o,c):Hu(s,r):g._visibility&2?vi(s,r,o,c):(g._visibility|=2,jo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&ug(T,r);break;case 24:vi(s,r,o,c),m&2048&&cg(r.alternate,r);break;default:vi(s,r,o,c)}}function jo(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,A=o,D=c,H=T.flags;switch(T.tag){case 0:case 11:case 15:jo(g,T,A,D,m),Fu(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?jo(g,T,A,D,m):Hu(g,T):(W._visibility|=2,jo(g,T,A,D,m)),m&&H&2048&&ug(T.alternate,T);break;case 24:jo(g,T,A,D,m),m&&H&2048&&cg(T.alternate,T);break;default:jo(g,T,A,D,m)}r=r.sibling}}function Hu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:Hu(o,c),m&2048&&ug(c.alternate,c);break;case 24:Hu(o,c),m&2048&&cg(c.alternate,c);break;default:Hu(o,c)}r=r.sibling}}var Gu=8192;function Fo(s,r,o){if(s.subtreeFlags&Gu)for(s=s.child;s!==null;)VE(s,r,o),s=s.sibling}function VE(s,r,o){switch(s.tag){case 26:Fo(s,r,o),s.flags&Gu&&s.memoizedState!==null&&$D(o,_i,s.memoizedState,s.memoizedProps);break;case 5:Fo(s,r,o);break;case 3:case 4:var c=_i;_i=zf(s.stateNode.containerInfo),Fo(s,r,o),_i=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Gu,Gu=16777216,Fo(s,r,o),Gu=c):Fo(s,r,o));break;default:Fo(s,r,o)}}function PE(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ku(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$e=c,NE(c,s)}PE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ME(s),s=s.sibling}function ME(s){switch(s.tag){case 0:case 11:case 15:Ku(s),s.flags&2048&&cr(9,s,s.return);break;case 3:Ku(s);break;case 12:Ku(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Rf(s)):Ku(s);break;default:Ku(s)}}function Rf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$e=c,NE(c,s)}PE(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:cr(8,r,r.return),Rf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rf(r));break;default:Rf(r)}s=s.sibling}}function NE(s,r){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:cr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$e=c;else t:for(o=s;$e!==null;){c=$e;var m=c.sibling,g=c.return;if(bE(c),c===o){$e=null;break t}if(m!==null){m.return=g,$e=m;break t}$e=g}}}var hD={getCacheForType:function(s){var r=nn(Oe),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return nn(Oe).controller.signal}},fD=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ae=null,Nt=null,Lt=0,$t=0,Ln=null,hr=!1,qo=!1,hg=!1,As=0,ve=0,fr=0,xa=0,fg=0,Un=0,Ho=0,Qu=null,In=null,dg=!1,Cf=0,OE=0,xf=1/0,Df=null,dr=null,He=0,mr=null,Go=null,bs=0,mg=0,pg=null,kE=null,Yu=0,gg=null;function Bn(){return(Qt&2)!==0&&Lt!==0?Lt&-Lt:Z.T!==null?Sg():Dh()}function LE(){if(Un===0)if((Lt&536870912)===0||jt){var s=na;na<<=1,(na&3932160)===0&&(na=262144),Un=s}else Un=536870912;return s=On.current,s!==null&&(s.flags|=32),Un}function Rn(s,r,o){(s===ae&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Ko(s,0),pr(s,Lt,Un,!1)),ia(s,o),((Qt&2)===0||s!==ae)&&(s===ae&&((Qt&2)===0&&(xa|=o),ve===4&&pr(s,Lt,Un,!1)),Qi(s))}function UE(s,r,o){if((Qt&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ui(s,r),m=c?pD(s,r):_g(s,r,!0),g=c;do{if(m===0){qo&&!c&&pr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!dD(o)){m=_g(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=s;m=Qu;var D=A.current.memoizedState.isDehydrated;if(D&&(Ko(A,T).flags|=256),T=_g(A,T,!1),T!==2){if(hg&&!D){A.errorRecoveryDisabledLanes|=g,xa|=g,m=4;break t}g=In,In=m,g!==null&&(In===null?In=g:In.push.apply(In,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Ko(s,0),pr(s,r,0,!0);break}t:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:pr(c,r,Un,!hr);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Cf+300-gn(),10<m)){if(pr(c,r,Un,!hr),xi(c,0,!0)!==0)break t;bs=r,c.timeoutHandle=pS(BE.bind(null,c,o,In,Df,dg,r,Un,xa,Ho,hr,g,"Throttled",-0,0),m);break t}BE(c,o,In,Df,dg,r,Un,xa,Ho,hr,g,null,-0,0)}}break}while(!0);Qi(s)}function BE(s,r,o,c,m,g,T,A,D,H,W,et,G,Y){if(s.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},VE(r,g,et);var gt=(g&62914560)===g?Cf-gn():(g&4194048)===g?OE-gn():0;if(gt=WD(et,gt),gt!==null){bs=g,s.cancelPendingCommit=gt(QE.bind(null,s,r,g,o,c,m,T,A,D,W,et,null,G,Y)),pr(s,g,T,!H);return}}QE(s,r,g,o,c,m,T,A,D)}function dD(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(s,r,o,c){r&=~fg,r&=~xa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var g=31-Se(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&sa(s,o,r)}function Vf(){return(Qt&6)===0?(Xu(0),!1):!0}function yg(){if(Nt!==null){if($t===0)var s=Nt.return;else s=Nt,ds=Ta=null,Mp(s),ko=null,Vu=0,s=Nt;for(;s!==null;)gE(s.alternate,s),s=s.return;Nt=null}}function Ko(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,MD(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),bs=0,yg(),ae=s,Nt=o=hs(s.current,null),Lt=r,$t=0,Ln=null,hr=!1,qo=ui(s,r),hg=!1,Ho=Un=fg=xa=fr=ve=0,In=Qu=null,dg=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-Se(c),g=1<<m;r|=s[m],c&=~g}return As=r,Wh(),o}function zE(s,r){xt=null,Z.H=Bu,r===Oo||r===af?(r=n0(),$t=3):r===Ep?(r=n0(),$t=4):$t=r===Xp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Nt===null&&(ve=1,Tf(s,Wn(r,s.current)))}function jE(){var s=On.current;return s===null?!0:(Lt&4194048)===Lt?ei===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===ei:!1}function FE(){var s=Z.H;return Z.H=Bu,s===null?Bu:s}function qE(){var s=Z.A;return Z.A=hD,s}function Pf(){ve=4,hr||(Lt&4194048)!==Lt&&On.current!==null||(qo=!0),(fr&134217727)===0&&(xa&134217727)===0||ae===null||pr(ae,Lt,Un,!1)}function _g(s,r,o){var c=Qt;Qt|=2;var m=FE(),g=qE();(ae!==s||Lt!==r)&&(Df=null,Ko(s,r)),r=!1;var T=ve;t:do try{if($t!==0&&Nt!==null){var A=Nt,D=Ln;switch($t){case 8:yg(),T=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var H=$t;if($t=0,Ln=null,Qo(s,A,D,H),o&&qo){T=0;break t}break;default:H=$t,$t=0,Ln=null,Qo(s,A,D,H)}}mD(),T=ve;break}catch(W){zE(s,W)}while(!0);return r&&s.shellSuspendCounter++,ds=Ta=null,Qt=c,Z.H=m,Z.A=g,Nt===null&&(ae=null,Lt=0,Wh()),T}function mD(){for(;Nt!==null;)HE(Nt)}function pD(s,r){var o=Qt;Qt|=2;var c=FE(),m=qE();ae!==s||Lt!==r?(Df=null,xf=gn()+500,Ko(s,r)):qo=ui(s,r);t:do try{if($t!==0&&Nt!==null){r=Nt;var g=Ln;e:switch($t){case 1:$t=0,Ln=null,Qo(s,r,g,1);break;case 2:case 9:if(t0(g)){$t=0,Ln=null,GE(r);break}r=function(){$t!==2&&$t!==9||ae!==s||($t=7),Qi(s)},g.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:t0(g)?($t=0,Ln=null,GE(r)):($t=0,Ln=null,Qo(s,r,g,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var A=Nt;if(T?DS(T):A.stateNode.complete){$t=0,Ln=null;var D=A.sibling;if(D!==null)Nt=D;else{var H=A.return;H!==null?(Nt=H,Mf(H)):Nt=null}break e}}$t=0,Ln=null,Qo(s,r,g,5);break;case 6:$t=0,Ln=null,Qo(s,r,g,6);break;case 8:yg(),ve=6;break t;default:throw Error(i(462))}}gD();break}catch(W){zE(s,W)}while(!0);return ds=Ta=null,Z.H=c,Z.A=m,Qt=o,Nt!==null?0:(ae=null,Lt=0,Wh(),ve)}function gD(){for(;Nt!==null&&!Ym();)HE(Nt)}function HE(s){var r=mE(s.alternate,s,As);s.memoizedProps=s.pendingProps,r===null?Mf(s):Nt=r}function GE(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=lE(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=lE(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Mp(r);default:gE(o,r),r=Nt=qT(r,As),r=mE(o,r,As)}s.memoizedProps=s.pendingProps,r===null?Mf(s):Nt=r}function Qo(s,r,o,c){ds=Ta=null,Mp(r),ko=null,Vu=0;var m=r.return;try{if(sD(s,m,r,o,Lt)){ve=1,Tf(s,Wn(o,s.current)),Nt=null;return}}catch(g){if(m!==null)throw Nt=m,g;ve=1,Tf(s,Wn(o,s.current)),Nt=null;return}r.flags&32768?(jt||c===1?s=!0:qo||(Lt&536870912)!==0?s=!1:(hr=s=!0,(c===2||c===9||c===3||c===6)&&(c=On.current,c!==null&&c.tag===13&&(c.flags|=16384))),KE(r,s)):Mf(r)}function Mf(s){var r=s;do{if((r.flags&32768)!==0){KE(r,hr);return}s=r.return;var o=oD(r.alternate,r,As);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=s}while(r!==null);ve===0&&(ve=5)}function KE(s,r){do{var o=lD(s.alternate,s);if(o!==null){o.flags&=32767,Nt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=o}while(s!==null);ve=6,Nt=null}function QE(s,r,o,c,m,g,T,A,D){s.cancelPendingCommit=null;do Nf();while(He!==0);if((Qt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=ap,Wm(s,o,g,T,A,D),s===ae&&(Nt=ae=null,Lt=0),Go=r,mr=s,bs=o,mg=g,pg=m,kE=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,TD(Gs,function(){return JE(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=rt.p,rt.p=2,T=Qt,Qt|=4;try{uD(s,r,o)}finally{Qt=T,rt.p=m,Z.T=c}}He=1,YE(),XE(),$E()}}function YE(){if(He===1){He=0;var s=mr,r=Go,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=Qt;Qt|=4;try{CE(r,s);var g=Dg,T=NT(s.containerInfo),A=g.focusedElem,D=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&MT(A.ownerDocument.documentElement,A)){if(D!==null&&ep(A)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(W,A.value.length);else{var et=A.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Y=G.getSelection(),gt=A.textContent.length,St=Math.min(D.start,gt),se=D.end===void 0?St:Math.min(D.end,gt);!Y.extend&&St>se&&(T=se,se=St,St=T);var L=PT(A,St),M=PT(A,se);if(L&&M&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var q=et.createRange();q.setStart(L.node,L.offset),Y.removeAllRanges(),St>se?(Y.addRange(q),Y.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Y.addRange(q))}}}}for(et=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var tt=et[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kf=!!xg,Dg=xg=null}finally{Qt=m,rt.p=c,Z.T=o}}s.current=r,He=2}}function XE(){if(He===2){He=0;var s=mr,r=Go,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=rt.p;rt.p=2;var m=Qt;Qt|=4;try{AE(s,r.alternate,r)}finally{Qt=m,rt.p=c,Z.T=o}}He=3}}function $E(){if(He===4||He===3){He=0,Ah();var s=mr,r=Go,o=bs,c=kE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,Go=mr=null,WE(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(dr=null),os(o),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Z.T,m=rt.p,rt.p=2,Z.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,rt.p=m}}(bs&3)!==0&&Nf(),Qi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===gg?Yu++:(Yu=0,gg=s):Yu=0,Xu(0)}}function WE(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,xu(r)))}function Nf(){return YE(),XE(),$E(),JE()}function JE(){if(He!==5)return!1;var s=mr,r=mg;mg=0;var o=os(bs),c=Z.T,m=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=pg,pg=null;var g=mr,T=bs;if(He=0,Go=mr=null,bs=0,(Qt&6)!==0)throw Error(i(331));var A=Qt;if(Qt|=4,ME(g.current),DE(g,g.current,T,o),Qt=A,Xu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{rt.p=m,Z.T=c,WE(s,r)}}function ZE(s,r,o){r=Wn(o,r),r=Yp(s.stateNode,r,2),s=or(s,r,2),s!==null&&(ia(s,2),Qi(s))}function Wt(s,r,o){if(s.tag===3)ZE(s,s,o);else for(;r!==null;){if(r.tag===3){ZE(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(dr===null||!dr.has(c))){s=Wn(o,s),o=tE(2),c=or(r,o,2),c!==null&&(eE(o,c,r,s),ia(c,2),Qi(c));break}}r=r.return}}function vg(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new fD;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(hg=!0,m.add(o),s=yD.bind(null,s,r,o),r.then(s,s))}function yD(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ae===s&&(Lt&o)===o&&(ve===4||ve===3&&(Lt&62914560)===Lt&&300>gn()-Cf?(Qt&2)===0&&Ko(s,0):fg|=o,Ho===Lt&&(Ho=0)),Qi(s)}function tS(s,r){r===0&&(r=xh()),s=ya(s,r),s!==null&&(ia(s,r),Qi(s))}function _D(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),tS(s,o)}function vD(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),tS(s,o)}function TD(s,r){return qe(s,r)}var Of=null,Yo=null,Tg=!1,kf=!1,Eg=!1,gr=0;function Qi(s){s!==Yo&&s.next===null&&(Yo===null?Of=Yo=s:Yo=Yo.next=s),kf=!0,Tg||(Tg=!0,SD())}function Xu(s,r){if(!Eg&&kf){Eg=!0;do for(var o=!1,c=Of;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Se(42|s)+1)-1,g&=m&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,sS(c,g))}else g=Lt,g=xi(c,c===ae?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,sS(c,g));c=c.next}while(o);Eg=!1}}function ED(){eS()}function eS(){kf=Tg=!1;var s=0;gr!==0&&PD()&&(s=gr);for(var r=gn(),o=null,c=Of;c!==null;){var m=c.next,g=nS(c,r);g===0?(c.next=null,o===null?Of=m:o.next=m,m===null&&(Yo=o)):(o=c,(s!==0||(g&3)!==0)&&(kf=!0)),c=m}He!==0&&He!==5||Xu(s),gr!==0&&(gr=0)}function nS(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Se(g),A=1<<T,D=m[T];D===-1?((A&o)===0||(A&c)!==0)&&(m[T]=$m(A,r)):D<=r&&(s.expiredLanes|=A),g&=~A}if(r=ae,o=Lt,o=xi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Hs(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ui(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Hs(c),os(o)){case 2:case 8:o=ru;break;case 32:o=Gs;break;case 268435456:o=bh;break;default:o=Gs}return c=iS.bind(null,s),o=qe(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Hs(c),s.callbackPriority=2,s.callbackNode=null,2}function iS(s,r){if(He!==0&&He!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Nf()&&s.callbackNode!==o)return null;var c=Lt;return c=xi(s,s===ae?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(UE(s,c,r),nS(s,gn()),s.callbackNode!=null&&s.callbackNode===o?iS.bind(null,s):null)}function sS(s,r){if(Nf())return null;UE(s,r,!0)}function SD(){ND(function(){(Qt&6)!==0?qe(su,ED):eS()})}function Sg(){if(gr===0){var s=Mo;s===0&&(s=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),gr=s}return gr}function rS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_o(""+s)}function aS(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function AD(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=rS((m[Ye]||null).action),T=c.submitter;T&&(r=(r=T[Ye]||null)?rS(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var A=new zi("action","action",null,c,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gr!==0){var D=T?aS(m,T):new FormData(m);Fp(o,{pending:!0,data:D,method:m.method,action:g},null,D)}}else typeof g=="function"&&(A.preventDefault(),D=T?aS(m,T):new FormData(m),Fp(o,{pending:!0,data:D,method:m.method,action:g},g,D))},currentTarget:m}]})}}for(var Ag=0;Ag<rp.length;Ag++){var bg=rp[Ag],bD=bg.toLowerCase(),wD=bg[0].toUpperCase()+bg.slice(1);yi(bD,"on"+wD)}yi(LT,"onAnimationEnd"),yi(UT,"onAnimationIteration"),yi(BT,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(j2,"onTransitionRun"),yi(F2,"onTransitionStart"),yi(q2,"onTransitionCancel"),yi(zT,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ID=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function oS(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var A=c[T],D=A.instance,H=A.currentTarget;if(A=A.listener,D!==g&&m.isPropagationStopped())break t;g=A,m.currentTarget=H;try{g(m)}catch(W){$h(W)}m.currentTarget=null,g=D}else for(T=0;T<c.length;T++){if(A=c[T],D=A.instance,H=A.currentTarget,A=A.listener,D!==g&&m.isPropagationStopped())break t;g=A,m.currentTarget=H;try{g(m)}catch(W){$h(W)}m.currentTarget=null,g=D}}}}function Ot(s,r){var o=r[fo];o===void 0&&(o=r[fo]=new Set);var c=s+"__bubble";o.has(c)||(lS(r,s,2,!1),o.add(c))}function wg(s,r,o){var c=0;r&&(c|=4),lS(o,s,c,r)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Ig(s){if(!s[Lf]){s[Lf]=!0,lu.forEach(function(o){o!=="selectionchange"&&(ID.has(o)||wg(o,!1,s),wg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Lf]||(r[Lf]=!0,wg("selectionchange",!1,r))}}function lS(s,r,o,c){switch(LS(r)){case 2:var m=tV;break;case 8:m=eV;break;default:m=jg}o=m.bind(null,r,o,s),m=void 0,!ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Rg(s,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=Mi(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=g=T;continue t}A=A.parentNode}}c=c.return}Ws(function(){var H=g,W=Qn(o),et=[];t:{var G=jT.get(s);if(G!==void 0){var Y=zi,gt=s;switch(s){case"keypress":if(ha(o)===0)break t;case"keydown":case"keyup":Y=Qh;break;case"focusin":gt="focus",Y=da;break;case"focusout":gt="blur",Y=da;break;case"beforeblur":case"afterblur":Y=da;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case LT:case UT:case BT:Y=zh;break;case zT:Y=b;break;case"scroll":case"scrollend":Y=Tu;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cs;break;case"toggle":case"beforetoggle":Y=Ct}var St=(r&4)!==0,se=!St&&(s==="scroll"||s==="scrollend"),L=St?G!==null?G+"Capture":null:G;St=[];for(var M=H,q;M!==null;){var tt=M;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||L===null||(tt=di(M,L),tt!=null&&St.push(Wu(M,tt,q))),se)break;M=M.return}0<St.length&&(G=new Y(G,gt,null,o,W),et.push({event:G,listeners:St}))}}if((r&7)===0){t:{if(G=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",G&&o!==yu&&(gt=o.relatedTarget||o.fromElement)&&(Mi(gt)||gt[Vi]))break t;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(gt=o.relatedTarget||o.toElement,Y=H,gt=gt?Mi(gt):null,gt!==null&&(se=l(gt),St=gt.tag,gt!==se||St!==5&&St!==27&&St!==6)&&(gt=null)):(Y=null,gt=H),Y!==gt)){if(St=Eu,tt="onMouseLeave",L="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(St=cs,tt="onPointerLeave",L="onPointerEnter",M="pointer"),se=Y==null?G:Vn(Y),q=gt==null?G:Vn(gt),G=new St(tt,M+"leave",Y,o,W),G.target=se,G.relatedTarget=q,tt=null,Mi(W)===H&&(St=new St(L,M+"enter",gt,o,W),St.target=q,St.relatedTarget=se,tt=St),se=tt,Y&&gt)e:{for(St=RD,L=Y,M=gt,q=0,tt=L;tt;tt=St(tt))q++;tt=0;for(var Tt=M;Tt;Tt=St(Tt))tt++;for(;0<q-tt;)L=St(L),q--;for(;0<tt-q;)M=St(M),tt--;for(;q--;){if(L===M||M!==null&&L===M.alternate){St=L;break e}L=St(L),M=St(M)}St=null}else St=null;Y!==null&&uS(et,G,Y,St,!1),gt!==null&&se!==null&&uS(et,se,gt,St,!0)}}t:{if(G=H?Vn(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Ht=IT;else if(bT(G))if(RT)Ht=U2;else{Ht=k2;var _t=O2}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&yo(H.elementType)&&(Ht=IT):Ht=L2;if(Ht&&(Ht=Ht(s,H))){wT(et,Ht,o,W);break t}_t&&_t(s,G,H),s==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&mu(G,"number",G.value)}switch(_t=H?Vn(H):window,s){case"focusin":(bT(_t)||_t.contentEditable==="true")&&(wo=_t,np=H,Iu=null);break;case"focusout":Iu=np=wo=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,OT(et,o,W);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":OT(et,o,W)}var Pt;if(Kt)t:{switch(s){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else bo?ma(s,o)&&(Ut="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(qi&&o.locale!=="ko"&&(bo||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&bo&&(Pt=vu()):(Bi=W,_u="value"in Bi?Bi.value:Bi.textContent,bo=!0)),_t=Uf(H,Ut),0<_t.length&&(Ut=new Fi(Ut,s,null,o,W),et.push({event:Ut,listeners:_t}),Pt?Ut.data=Pt:(Pt=Ao(o),Pt!==null&&(Ut.data=Pt)))),(Pt=Xn?V2(s,o):P2(s,o))&&(Ut=Uf(H,"onBeforeInput"),0<Ut.length&&(_t=new Fi("onBeforeInput","beforeinput",null,o,W),et.push({event:_t,listeners:Ut}),_t.data=Pt)),AD(et,s,H,o,W)}oS(et,r)})}function Wu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Uf(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=di(s,o),m!=null&&c.unshift(Wu(s,m,g)),m=di(s,r),m!=null&&c.push(Wu(s,m,g))),s.tag===3)return c;s=s.return}return[]}function RD(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function uS(s,r,o,c,m){for(var g=r._reactName,T=[];o!==null&&o!==c;){var A=o,D=A.alternate,H=A.stateNode;if(A=A.tag,D!==null&&D===c)break;A!==5&&A!==26&&A!==27||H===null||(D=H,m?(H=di(o,g),H!=null&&T.unshift(Wu(o,H,D))):m||(H=di(o,g),H!=null&&T.push(Wu(o,H,D)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var CD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function cS(s){return(typeof s=="string"?s:""+s).replace(CD,`
`).replace(xD,"")}function hS(s,r){return r=cS(r),cS(s)===r}function ie(s,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(s,""+c);break;case"className":Pn(s,"class",c);break;case"tabIndex":Pn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,o,c);break;case"style":gu(s,c,g);break;case"data":if(r!=="object"){Pn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=_o(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ie(s,r,"name",m.name,m,null),ie(s,r,"formEncType",m.formEncType,m,null),ie(s,r,"formMethod",m.formMethod,m,null),ie(s,r,"formTarget",m.formTarget,m,null)):(ie(s,r,"encType",m.encType,m,null),ie(s,r,"method",m.method,m,null),ie(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=_o(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=fi);break;case"onScroll":c!=null&&Ot("scroll",s);break;case"onScrollEnd":c!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=_o(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),po(s,"popover",c);break;case"xlinkActuate":Ne(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ne(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ne(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ne(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ne(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ne(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ne(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ne(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ne(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":po(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lh.get(o)||o,po(s,o,c))}}function Cg(s,r,o,c,m,g){switch(o){case"style":gu(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Sn(s,c):(typeof c=="number"||typeof c=="bigint")&&Sn(s,""+c);break;case"onScroll":c!=null&&Ot("scroll",s);break;case"onScrollEnd":c!=null&&Ot("scrollend",s);break;case"onClick":c!=null&&(s.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[Ye]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break t}o in s?s[o]=c:c===!0?s.setAttribute(o,""):po(s,o,c)}}}function rn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ie(s,r,g,T,o,null)}}m&&ie(s,r,"srcSet",o.srcSet,o,null),c&&ie(s,r,"src",o.src,o,null);return;case"input":Ot("invalid",s);var A=g=T=m=null,D=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":m=W;break;case"type":T=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":g=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:ie(s,r,c,W,o,null)}}Nh(s,g,A,D,H,T,m,!1);return;case"select":Ot("invalid",s),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:ie(s,r,m,A,o,null)}r=g,o=T,s.multiple=!!c,r!=null?Qs(s,!!c,r,!1):o!=null&&Qs(s,!!c,o,!0);return;case"textarea":Ot("invalid",s),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ie(s,r,T,A,o,null)}Ys(s,c,m,g);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":ie(s,r,D,c,o,null));return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(c=0;c<$u.length;c++)Ot($u[c],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ie(s,r,H,c,o,null)}return;default:if(yo(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&Cg(s,r,W,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&ie(s,r,A,c,o,null))}function DD(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,A=null,D=null,H=null,W=null;for(Y in o){var et=o[Y];if(o.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=et;default:c.hasOwnProperty(Y)||ie(s,r,Y,null,c,et)}}for(var G in c){var Y=c[G];if(et=o[G],c.hasOwnProperty(G)&&(Y!=null||et!=null))switch(G){case"type":g=Y;break;case"name":m=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":T=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Y!==et&&ie(s,r,G,Y,c,et)}}go(s,T,A,D,H,W,g,m);return;case"select":Y=T=A=G=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Y=D;default:c.hasOwnProperty(g)||ie(s,r,g,null,c,D)}for(m in c)if(g=c[m],D=o[m],c.hasOwnProperty(m)&&(g!=null||D!=null))switch(m){case"value":G=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==D&&ie(s,r,m,g,c,D)}r=A,o=T,c=Y,G!=null?Qs(s,!!o,G,!1):!!c!=!!o&&(r!=null?Qs(s,!!o,r,!0):Qs(s,!!o,o?[]:"",!1));return;case"textarea":Y=G=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ie(s,r,A,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":G=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&ie(s,r,T,m,c,g)}Oh(s,G,Y);return;case"option":for(var gt in o)G=o[gt],o.hasOwnProperty(gt)&&G!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?s.selected=!1:ie(s,r,gt,null,c,G));for(D in c)G=c[D],Y=o[D],c.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null)&&(D==="selected"?s.selected=G&&typeof G!="function"&&typeof G!="symbol":ie(s,r,D,G,c,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in o)G=o[St],o.hasOwnProperty(St)&&G!=null&&!c.hasOwnProperty(St)&&ie(s,r,St,null,c,G);for(H in c)if(G=c[H],Y=o[H],c.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:ie(s,r,H,G,c,Y)}return;default:if(yo(r)){for(var se in o)G=o[se],o.hasOwnProperty(se)&&G!==void 0&&!c.hasOwnProperty(se)&&Cg(s,r,se,void 0,c,G);for(W in c)G=c[W],Y=o[W],!c.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||Cg(s,r,W,G,c,Y);return}}for(var L in o)G=o[L],o.hasOwnProperty(L)&&G!=null&&!c.hasOwnProperty(L)&&ie(s,r,L,null,c,G);for(et in c)G=c[et],Y=o[et],!c.hasOwnProperty(et)||G===Y||G==null&&Y==null||ie(s,r,et,G,c,Y)}function fS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VD(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,A=m.duration;if(g&&A&&fS(T)){for(T=0,A=m.responseEnd,c+=1;c<o.length;c++){var D=o[c],H=D.startTime;if(H>A)break;var W=D.transferSize,et=D.initiatorType;W&&fS(et)&&(D=D.responseEnd,T+=W*(D<A?1:(A-H)/(D-H)))}if(--c,r+=8*(g+T)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var xg=null,Dg=null;function Bf(s){return s.nodeType===9?s:s.ownerDocument}function dS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mS(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Vg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pg=null;function PD(){var s=window.event;return s&&s.type==="popstate"?s===Pg?!1:(Pg=s,!0):(Pg=null,!1)}var pS=typeof setTimeout=="function"?setTimeout:void 0,MD=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,ND=typeof queueMicrotask=="function"?queueMicrotask:typeof gS<"u"?function(s){return gS.resolve(null).then(s).catch(OD)}:pS;function OD(s){setTimeout(function(){throw s})}function yr(s){return s==="head"}function yS(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),Jo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ju(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Ju(o);for(var g=o.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[Pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Ju(s.ownerDocument.body);o=m}while(o);Jo(r)}function _S(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Mg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mg(o),mo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function kD(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Pi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function LD(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ni(s.nextSibling),s===null))return null;return s}function vS(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ni(s.nextSibling),s===null))return null;return s}function Ng(s){return s.data==="$?"||s.data==="$~"}function Og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function UD(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var kg=null;function TS(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ni(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function ES(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function SS(s,r,o){switch(r=Bf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);mo(s)}var ii=new Map,AS=new Set;function zf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=rt.d;rt.d={f:BD,r:zD,D:jD,C:FD,L:qD,m:HD,X:KD,S:GD,M:QD};function BD(){var s=ws.f(),r=Vf();return s||r}function zD(s){var r=Kn(s);r!==null&&r.tag===5&&r.type==="form"?z0(r):ws.r(s)}var Xo=typeof document>"u"?null:document;function bS(s,r,o){var c=Xo;if(c&&typeof r=="string"&&r){var m=En(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),AS.has(m)||(AS.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),rn(r,"link",s),Me(r),c.head.appendChild(r)))}}function jD(s){ws.D(s),bS("dns-prefetch",s,null)}function FD(s,r){ws.C(s,r),bS("preconnect",s,r)}function qD(s,r,o){ws.L(s,r,o);var c=Xo;if(c&&s&&r){var m='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+En(o.imageSizes)+'"]')):m+='[href="'+En(s)+'"]';var g=m;switch(r){case"style":g=$o(s);break;case"script":g=Wo(s)}ii.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ii.set(g,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(Zu(g))||r==="script"&&c.querySelector(tc(g))||(r=c.createElement("link"),rn(r,"link",s),Me(r),c.head.appendChild(r)))}}function HD(s,r){ws.m(s,r);var o=Xo;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wo(s)}if(!ii.has(g)&&(s=v({rel:"modulepreload",href:s},r),ii.set(g,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(tc(g)))return}c=o.createElement("link"),rn(c,"link",s),Me(c),o.head.appendChild(c)}}}function GD(s,r,o){ws.S(s,r,o);var c=Xo;if(c&&s){var m=Ni(c).hoistableStyles,g=$o(s);r=r||"default";var T=m.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(Zu(g)))A.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ii.get(g))&&Lg(s,o);var D=T=c.createElement("link");Me(D),rn(D,"link",s),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(g,T)}}}function KD(s,r){ws.X(s,r);var o=Xo;if(o&&s){var c=Ni(o).hoistableScripts,m=Wo(s),g=c.get(m);g||(g=o.querySelector(tc(m)),g||(s=v({src:s,async:!0},r),(r=ii.get(m))&&Ug(s,r),g=o.createElement("script"),Me(g),rn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function QD(s,r){ws.M(s,r);var o=Xo;if(o&&s){var c=Ni(o).hoistableScripts,m=Wo(s),g=c.get(m);g||(g=o.querySelector(tc(m)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ii.get(m))&&Ug(s,r),g=o.createElement("script"),Me(g),rn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function wS(s,r,o,c){var m=(m=Vt.current)?zf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=$o(o.href),o=Ni(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=$o(o.href);var g=Ni(m).hoistableStyles,T=g.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=m.querySelector(Zu(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ii.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(s,o),g||YD(m,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wo(o),o=Ni(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function $o(s){return'href="'+En(s)+'"'}function Zu(s){return'link[rel="stylesheet"]['+s+"]"}function IS(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function YD(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",o),Me(r),s.head.appendChild(r))}function Wo(s){return'[src="'+En(s)+'"]'}function tc(s){return"script[async]"+s}function RS(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+En(o.href)+'"]');if(c)return r.instance=c,Me(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Me(c),rn(c,"style",m),jf(c,o.precedence,s),r.instance=c;case"stylesheet":m=$o(o.href);var g=s.querySelector(Zu(m));if(g)return r.state.loading|=4,r.instance=g,Me(g),g;c=IS(o),(m=ii.get(m))&&Lg(c,m),g=(s.ownerDocument||s).createElement("link"),Me(g);var T=g;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),rn(g,"link",c),r.state.loading|=4,jf(g,o.precedence,s),r.instance=g;case"script":return g=Wo(o.src),(m=s.querySelector(tc(g)))?(r.instance=m,Me(m),m):(c=o,(m=ii.get(g))&&(c=v({},o),Ug(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Me(m),rn(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,jf(c,o.precedence,s));return r.instance}function jf(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Lg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ug(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Ff=null;function CS(s,r,o){if(Ff===null){var c=new Map,m=Ff=new Map;m.set(o,c)}else m=Ff,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[Pi]||g[Pe]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function xS(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function XD(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function DS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function $D(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=$o(c.href),g=r.querySelector(Zu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=qf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Me(g);return}g=r.ownerDocument||r,c=IS(c),(m=ii.get(m))&&Lg(c,m),g=g.createElement("link"),Me(g);var T=g;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),rn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=qf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Bg=0;function WD(s,r){return s.stylesheets&&s.count===0&&Gf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Gf(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Bg===0&&(Bg=62500*VD());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Gf(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Bg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hf=null;function Gf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hf=new Map,r.forEach(JD,s),Hf=null,qf.call(s))}function JD(s,r){if(!(r.state.loading&4)){var o=Hf.get(s);if(o)var c=o.get(null);else{o=new Map,Hf.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=qf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var ec={$$typeof:K,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function ZD(s,r,o,c,m,g,T,A,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function VS(s,r,o,c,m,g,T,A,D,H,W,et){return s=new ZD(s,r,o,T,D,H,W,et,A),r=1,g===!0&&(r|=24),g=Nn(3,null,null,r),s.current=g,g.stateNode=s,r=_p(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Sp(g),s}function PS(s){return s?(s=Co,s):Co}function MS(s,r,o,c,m,g){m=PS(m),c.context===null?c.context=m:c.pendingContext=m,c=ar(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=or(s,c,r),o!==null&&(Rn(o,s,r),Mu(o,s,r))}function NS(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function zg(s,r){NS(s,r),(s=s.alternate)&&NS(s,r)}function OS(s){if(s.tag===13||s.tag===31){var r=ya(s,67108864);r!==null&&Rn(r,s,67108864),zg(s,67108864)}}function kS(s){if(s.tag===13||s.tag===31){var r=Bn();r=ra(r);var o=ya(s,r);o!==null&&Rn(o,s,r),zg(s,r)}}var Kf=!0;function tV(s,r,o,c){var m=Z.T;Z.T=null;var g=rt.p;try{rt.p=2,jg(s,r,o,c)}finally{rt.p=g,Z.T=m}}function eV(s,r,o,c){var m=Z.T;Z.T=null;var g=rt.p;try{rt.p=8,jg(s,r,o,c)}finally{rt.p=g,Z.T=m}}function jg(s,r,o,c){if(Kf){var m=Fg(c);if(m===null)Rg(s,r,c,Qf,o),US(s,c);else if(iV(m,s,r,o,c))c.stopPropagation();else if(US(s,c),r&4&&-1<nV.indexOf(s)){for(;m!==null;){var g=Kn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ci(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Se(T);A.entanglements[1]|=D,T&=~D}Qi(g),(Qt&6)===0&&(xf=gn()+500,Xu(0))}}break;case 31:case 13:A=ya(g,2),A!==null&&Rn(A,g,2),Vf(),zg(g,2)}if(g=Fg(c),g===null&&Rg(s,r,c,Qf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Rg(s,r,c,null,o)}}function Fg(s){return s=Qn(s),qg(s)}var Qf=null;function qg(s){if(Qf=null,s=Mi(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Qf=s,null}function LS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case su:return 2;case ru:return 8;case Gs:case Xm:return 32;case bh:return 268435456;default:return 32}default:return 32}}var Hg=!1,_r=null,vr=null,Tr=null,nc=new Map,ic=new Map,Er=[],nV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function US(s,r){switch(s){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(r.pointerId)}}function sc(s,r,o,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Kn(r),r!==null&&OS(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function iV(s,r,o,c,m){switch(r){case"focusin":return _r=sc(_r,s,r,o,c,m),!0;case"dragenter":return vr=sc(vr,s,r,o,c,m),!0;case"mouseover":return Tr=sc(Tr,s,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return nc.set(g,sc(nc.get(g)||null,s,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,ic.set(g,sc(ic.get(g)||null,s,r,o,c,m)),!0}return!1}function BS(s){var r=Mi(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,ci(s.priority,function(){kS(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ci(s.priority,function(){kS(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Fg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);yu=c,o.target.dispatchEvent(c),yu=null}else return r=Kn(o),r!==null&&OS(r),s.blockedOn=o,!1;r.shift()}return!0}function zS(s,r,o){Yf(s)&&o.delete(r)}function sV(){Hg=!1,_r!==null&&Yf(_r)&&(_r=null),vr!==null&&Yf(vr)&&(vr=null),Tr!==null&&Yf(Tr)&&(Tr=null),nc.forEach(zS),ic.forEach(zS)}function Xf(s,r){s.blockedOn===r&&(s.blockedOn=null,Hg||(Hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sV)))}var $f=null;function jS(s){$f!==s&&($f=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$f===s&&($f=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(qg(c||o)===null)continue;break}var g=Kn(o);g!==null&&(s.splice(r,3),r-=3,Fp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Jo(s){function r(D){return Xf(D,s)}_r!==null&&Xf(_r,s),vr!==null&&Xf(vr,s),Tr!==null&&Xf(Tr,s),nc.forEach(r),ic.forEach(r);for(var o=0;o<Er.length;o++){var c=Er[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Er.length&&(o=Er[0],o.blockedOn===null);)BS(o),o.blockedOn===null&&Er.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[Ye]||null;if(typeof g=="function")T||jS(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[Ye]||null)A=T.formAction;else if(qg(m)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),jS(o)}}}function FS(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Gg(s){this._internalRoot=s}Wf.prototype.render=Gg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Bn();MS(o,c,s,r,null,null)},Wf.prototype.unmount=Gg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;MS(s.current,2,null,s,null,null),Vf(),r[Vi]=null}};function Wf(s){this._internalRoot=s}Wf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Dh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Er.length&&r!==0&&r<Er[o].priority;o++);Er.splice(o,0,s),o===0&&BS(s)}};var qS=t.version;if(qS!=="19.2.3")throw Error(i(527,qS,"19.2.3"));rt.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var rV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{li=Jf.inject(rV),Ze=Jf}catch{}}return ac.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=$0,g=W0,T=J0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=VS(s,1,!1,null,null,o,c,null,m,g,T,FS),s[Vi]=r.current,Ig(s),new Gg(r)},ac.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",g=$0,T=W0,A=J0,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=VS(s,1,!0,r,o??null,c,m,D,g,T,A,FS),r.context=PS(null),o=r.current,c=Bn(),c=ra(c),m=ar(c),m.callback=null,or(o,m,c),o=c,r.current.lanes=o,ia(r,o),Qi(r),s[Vi]=r.current,Ig(s),new Wf(r)},ac.version="19.2.3",ac}var ZS;function gV(){if(ZS)return Yg.exports;ZS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yg.exports=pV(),Yg.exports}var yV=gV();const _V="modulepreload",vV=function(n,t){return new URL(n,t).href},tA={},fm=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(e.map(y=>{if(y=vV(y,i),y in tA)return;tA[y]=!0;const v=y.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(i)for(let V=u.length-1;V>=0;V--){const k=u[V];if(k.href===y&&(!v||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const I=document.createElement("link");if(I.rel=v?"stylesheet":_V,v||(I.as="script"),I.crossOrigin="",I.href=y,d&&I.setAttribute("nonce",d),document.head.appendChild(I),v)return new Promise((V,k)=>{I.addEventListener("load",V),I.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},k_=st.createContext({});function L_(n){const t=st.useRef(null);return t.current===null&&(t.current=n()),t.current}const U_=typeof window<"u",vw=U_?st.useLayoutEffect:st.useEffect,dm=st.createContext(null);function B_(n,t){n.indexOf(t)===-1&&n.push(t)}function z_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ds=(n,t,e)=>e>t?t:e<n?n:e;let j_=()=>{};const Vs={},Tw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Ew(n){return typeof n=="object"&&n!==null}const Sw=n=>/^0[^.\s]+$/u.test(n);function F_(n){let t;return()=>(t===void 0&&(t=n()),t)}const oi=n=>n,TV=(n,t)=>e=>t(n(e)),rh=(...n)=>n.reduce(TV),Lc=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class q_{constructor(){this.subscriptions=[]}add(t){return B_(this.subscriptions,t),()=>z_(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=n=>n*1e3,ai=n=>n/1e3;function Aw(n,t){return t?n*(1e3/t):0}const bw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,EV=1e-7,SV=12;function AV(n,t,e,i,a){let l,u,h=0;do u=t+(e-t)/2,l=bw(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>EV&&++h<SV);return u}function ah(n,t,e,i){if(n===t&&e===i)return oi;const a=l=>AV(l,0,1,n,e);return l=>l===0||l===1?l:bw(a(l),t,i)}const ww=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Iw=n=>t=>1-n(1-t),Rw=ah(.33,1.53,.69,.99),H_=Iw(Rw),Cw=ww(H_),xw=n=>(n*=2)<1?.5*H_(n):.5*(2-Math.pow(2,-10*(n-1))),G_=n=>1-Math.sin(Math.acos(n)),Dw=Iw(G_),Vw=ww(G_),bV=ah(.42,0,1,1),wV=ah(0,0,.58,1),Pw=ah(.42,0,.58,1),IV=n=>Array.isArray(n)&&typeof n[0]!="number",Mw=n=>Array.isArray(n)&&typeof n[0]=="number",RV={linear:oi,easeIn:bV,easeInOut:Pw,easeOut:wV,circIn:G_,circInOut:Vw,circOut:Dw,backIn:H_,backInOut:Cw,backOut:Rw,anticipate:xw},CV=n=>typeof n=="string",eA=n=>{if(Mw(n)){j_(n.length===4);const[t,e,i,a]=n;return ah(t,e,i,a)}else if(CV(n))return RV[n];return n},Zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xV(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,S=!1)=>{const V=S&&a?e:i;return v&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const DV=40;function Nw(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=Zf.reduce((K,ot)=>(K[ot]=xV(l),K),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:S,render:I,postRender:V}=u,k=()=>{const K=Vs.useManualTiming?a.timestamp:performance.now();e=!1,Vs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,DV),1)),a.timestamp=K,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),S.process(a),I.process(a),V.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(k))},B=()=>{e=!0,i=!0,a.isProcessing||n(k)};return{schedule:Zf.reduce((K,ot)=>{const at=u[ot];return K[ot]=(lt,R=!1,w=!1)=>(e||B(),at.schedule(lt,R,w)),K},{}),cancel:K=>{for(let ot=0;ot<Zf.length;ot++)u[Zf[ot]].cancel(K)},state:a,steps:u}}const{schedule:me,cancel:jr,state:an,steps:Jg}=Nw(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let fd;function VV(){fd=void 0}const Cn={now:()=>(fd===void 0&&Cn.set(an.isProcessing||Vs.useManualTiming?an.timestamp:performance.now()),fd),set:n=>{fd=n,queueMicrotask(VV)}},Ow=n=>t=>typeof t=="string"&&t.startsWith(n),kw=Ow("--"),PV=Ow("var(--"),K_=n=>PV(n)?MV.test(n.split("/*")[0].trim()):!1,MV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ql={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Uc={...ql,transform:n=>Ds(0,1,n)},td={...ql,default:1},Ec=n=>Math.round(n*1e5)/1e5,Q_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NV(n){return n==null}const OV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y_=(n,t)=>e=>!!(typeof e=="string"&&OV.test(e)&&e.startsWith(n)||t&&!NV(e)&&Object.prototype.hasOwnProperty.call(e,t)),Lw=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(Q_);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},kV=n=>Ds(0,255,n),Zg={...ql,transform:n=>Math.round(kV(n))},za={test:Y_("rgb","red"),parse:Lw("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Zg.transform(n)+", "+Zg.transform(t)+", "+Zg.transform(e)+", "+Ec(Uc.transform(i))+")"};function LV(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const xy={test:Y_("#"),parse:LV,transform:za.transform},oh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Rr=oh("deg"),ts=oh("%"),bt=oh("px"),UV=oh("vh"),BV=oh("vw"),nA={...ts,parse:n=>ts.parse(n)/100,transform:n=>ts.transform(n*100)},cl={test:Y_("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+ts.transform(Ec(t))+", "+ts.transform(Ec(e))+", "+Ec(Uc.transform(i))+")"},ze={test:n=>za.test(n)||xy.test(n)||cl.test(n),parse:n=>za.test(n)?za.parse(n):cl.test(n)?cl.parse(n):xy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?za.transform(n):cl.transform(n),getAnimatableNone:n=>{const t=ze.parse(n);return t.alpha=0,ze.transform(t)}},zV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jV(n){return isNaN(n)&&typeof n=="string"&&(n.match(Q_)?.length||0)+(n.match(zV)?.length||0)>0}const Uw="number",Bw="color",FV="var",qV="var(",iA="${}",HV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bc(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(HV,d=>(ze.test(d)?(i.color.push(l),a.push(Bw),e.push(ze.parse(d))):d.startsWith(qV)?(i.var.push(l),a.push(FV),e.push(d)):(i.number.push(l),a.push(Uw),e.push(parseFloat(d))),++l,iA)).split(iA);return{values:e,split:h,indexes:i,types:a}}function zw(n){return Bc(n).values}function jw(n){const{split:t,types:e}=Bc(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===Uw?l+=Ec(a[u]):h===Bw?l+=ze.transform(a[u]):l+=a[u]}return l}}const GV=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function KV(n){const t=zw(n);return jw(n)(t.map(GV))}const Fr={test:jV,parse:zw,createTransformer:jw,getAnimatableNone:KV};function ty(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function QV({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;a=ty(d,h,n+1/3),l=ty(d,h,n),u=ty(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Md(n,t){return e=>e>0?t:n}const pe=(n,t,e)=>n+(t-n)*e,ey=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},YV=[xy,za,cl],XV=n=>YV.find(t=>t.test(n));function sA(n){const t=XV(n);if(!t)return!1;let e=t.parse(n);return t===cl&&(e=QV(e)),e}const rA=(n,t)=>{const e=sA(n),i=sA(t);if(!e||!i)return Md(n,t);const a={...e};return l=>(a.red=ey(e.red,i.red,l),a.green=ey(e.green,i.green,l),a.blue=ey(e.blue,i.blue,l),a.alpha=pe(e.alpha,i.alpha,l),za.transform(a))},Dy=new Set(["none","hidden"]);function $V(n,t){return Dy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function WV(n,t){return e=>pe(n,t,e)}function X_(n){return typeof n=="number"?WV:typeof n=="string"?K_(n)?Md:ze.test(n)?rA:tP:Array.isArray(n)?Fw:typeof n=="object"?ze.test(n)?rA:JV:Md}function Fw(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>X_(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function JV(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=X_(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function ZV(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;e[a]=h,i[l]++}return e}const tP=(n,t)=>{const e=Fr.createTransformer(t),i=Bc(n),a=Bc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Dy.has(n)&&!a.values.length||Dy.has(t)&&!i.values.length?$V(n,t):rh(Fw(ZV(i,a),a.values),e):Md(n,t)};function qw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?pe(n,t,e):X_(n)(n,t)}const eP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>me.update(t,e),stop:()=>jr(t),now:()=>an.isProcessing?an.timestamp:Cn.now()}},Hw=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Nd=2e4;function $_(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Nd;)t+=e,i=n.next(t);return t>=Nd?1/0:t}function nP(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min($_(i),Nd);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:ai(a)}}const iP=5;function Gw(n,t,e){const i=Math.max(t-iP,0);return Aw(e-n(i),t-i)}const Te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ny=.001;function sP({duration:n=Te.duration,bounce:t=Te.bounce,velocity:e=Te.velocity,mass:i=Te.mass}){let a,l,u=1-t;u=Ds(Te.minDamping,Te.maxDamping,u),n=Ds(Te.minDuration,Te.maxDuration,ai(n)),u<1?(a=p=>{const y=p*u,v=y*n,S=y-e,I=Vy(p,u),V=Math.exp(-v);return ny-S/I*V},l=p=>{const v=p*u*n,S=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,V=Math.exp(-v),k=Vy(Math.pow(p,2),u);return(-a(p)+ny>0?-1:1)*((S-I)*V)/k}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-ny+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,d=aP(a,l,h);if(n=Zi(n),isNaN(d))return{stiffness:Te.stiffness,damping:Te.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const rP=12;function aP(n,t,e){let i=e;for(let a=1;a<rP;a++)i=i-n(i)/t(i);return i}function Vy(n,t){return n*Math.sqrt(1-t*t)}const oP=["duration","bounce"],lP=["stiffness","damping","mass"];function aA(n,t){return t.some(e=>n[e]!==void 0)}function uP(n){let t={velocity:Te.velocity,stiffness:Te.stiffness,damping:Te.damping,mass:Te.mass,isResolvedFromDuration:!1,...n};if(!aA(n,lP)&&aA(n,oP))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*Ds(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Te.mass,stiffness:a,damping:l}}else{const e=sP(n);t={...t,...e,mass:Te.mass},t.isResolvedFromDuration=!0}return t}function Od(n=Te.visualDuration,t=Te.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:S,isResolvedFromDuration:I}=uP({...e,velocity:-ai(e.velocity||0)}),V=S||0,k=p/(2*Math.sqrt(d*y)),B=u-l,X=ai(Math.sqrt(d/y)),$=Math.abs(B)<5;i||(i=$?Te.restSpeed.granular:Te.restSpeed.default),a||(a=$?Te.restDelta.granular:Te.restDelta.default);let K;if(k<1){const at=Vy(X,k);K=lt=>{const R=Math.exp(-k*X*lt);return u-R*((V+k*X*B)/at*Math.sin(at*lt)+B*Math.cos(at*lt))}}else if(k===1)K=at=>u-Math.exp(-X*at)*(B+(V+X*B)*at);else{const at=X*Math.sqrt(k*k-1);K=lt=>{const R=Math.exp(-k*X*lt),w=Math.min(at*lt,300);return u-R*((V+k*X*B)*Math.sinh(w)+at*B*Math.cosh(w))/at}}const ot={calculatedDuration:I&&v||null,next:at=>{const lt=K(at);if(I)h.done=at>=v;else{let R=at===0?V:0;k<1&&(R=at===0?Zi(V):Gw(K,at,lt));const w=Math.abs(R)<=i,C=Math.abs(u-lt)<=a;h.done=w&&C}return h.value=h.done?u:lt,h},toString:()=>{const at=Math.min($_(ot),Nd),lt=Hw(R=>ot.next(at*R).value,at,30);return at+"ms "+lt},toTransition:()=>{}};return ot}Od.applyToOptions=n=>{const t=nP(n,100,Od);return n.ease=t.ease,n.duration=Zi(t.duration),n.type="keyframes",n};function Py({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=n[0],S={done:!1,value:v},I=w=>h!==void 0&&w<h||d!==void 0&&w>d,V=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let k=e*t;const B=v+k,X=u===void 0?B:u(B);X!==B&&(k=X-v);const $=w=>-k*Math.exp(-w/i),K=w=>X+$(w),ot=w=>{const C=$(w),N=K(w);S.done=Math.abs(C)<=p,S.value=S.done?X:N};let at,lt;const R=w=>{I(S.value)&&(at=w,lt=Od({keyframes:[S.value,V(S.value)],velocity:Gw(K,w,S.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!lt&&at===void 0&&(C=!0,ot(w),R(w)),at!==void 0&&w>=at?lt.next(w-at):(!C&&ot(w),S)}}}function cP(n,t,e){const i=[],a=e||Vs.mix||qw,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const d=Array.isArray(t)?t[u]||oi:t;h=rh(d,h)}i.push(h)}return i}function hP(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(j_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=cP(t,i,a),d=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const S=Lc(n[v],n[v+1],y);return h[v](S)};return e?y=>p(Ds(n[0],n[l-1],y)):p}function fP(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=Lc(0,t,i);n.push(pe(e,1,a))}}function dP(n){const t=[0];return fP(t,n.length-1),t}function mP(n,t){return n.map(e=>e*t)}function pP(n,t){return n.map(()=>t||Pw).splice(0,n.length-1)}function Sc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=IV(i)?i.map(eA):eA(i),l={done:!1,value:t[0]},u=mP(e&&e.length===t.length?e:dP(t),n),h=hP(u,t,{ease:Array.isArray(a)?a:pP(t,a)});return{calculatedDuration:n,next:d=>(l.value=h(d),l.done=d>=n,l)}}const gP=n=>n!==null;function W_(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(gP),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const yP={decay:Py,inertia:Py,tween:Sc,keyframes:Sc,spring:Od};function Kw(n){typeof n.type=="string"&&(n.type=yP[n.type])}class J_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const _P=n=>n/100;class Z_ extends J_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kw(t);const{type:e=Sc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const d=e||Sc;d!==Sc&&typeof h[0]!="number"&&(this.mixKeyframes=rh(_P,qw(h[0],h[1])),h=[0,100]);const p=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=$_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:S,repeatDelay:I,type:V,onUpdate:k,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const X=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?X<0:X>a;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,ot=i;if(v){const w=Math.min(this.currentTime,a)/h;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,v+1),C%2&&(S==="reverse"?(N=1-N,I&&(N-=I/h)):S==="mirror"&&(ot=u)),K=Ds(0,1,N)*h}const at=$?{done:!1,value:y[0]}:ot.next(K);l&&(at.value=l(at.value));let{done:lt}=at;!$&&d!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return R&&V!==Py&&(at.value=W_(y,this.options,B,this.speed)),k&&k(at.value),R&&this.finish(),at}then(t,e){return this.finished.then(t,e)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(this.currentTime)}set time(t){t=Zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=eP,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function vP(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ja=n=>n*180/Math.PI,My=n=>{const t=ja(Math.atan2(n[1],n[0]));return Ny(t)},TP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:My,rotateZ:My,skewX:n=>ja(Math.atan(n[1])),skewY:n=>ja(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ny=n=>(n=n%360,n<0&&(n+=360),n),oA=My,lA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),uA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),EP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lA,scaleY:uA,scale:n=>(lA(n)+uA(n))/2,rotateX:n=>Ny(ja(Math.atan2(n[6],n[5]))),rotateY:n=>Ny(ja(Math.atan2(-n[2],n[0]))),rotateZ:oA,rotate:oA,skewX:n=>ja(Math.atan(n[4])),skewY:n=>ja(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Oy(n){return n.includes("scale")?1:0}function ky(n,t){if(!n||n==="none")return Oy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=EP,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=TP,a=h}if(!a)return Oy(t);const l=i[t],u=a[1].split(",").map(AP);return typeof l=="function"?l(u):u[l]}const SP=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return ky(e,t)};function AP(n){return parseFloat(n.trim())}const Hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(Hl),cA=n=>n===ql||n===bt,bP=new Set(["x","y","z"]),wP=Hl.filter(n=>!bP.has(n));function IP(n){const t=[];return wP.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Ha={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>ky(t,"x"),y:(n,{transform:t})=>ky(t,"y")};Ha.translateX=Ha.x;Ha.translateY=Ha.y;const Ga=new Set;let Ly=!1,Uy=!1,By=!1;function Qw(){if(Uy){const n=Array.from(Ga).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=IP(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Uy=!1,Ly=!1,Ga.forEach(n=>n.complete(By)),Ga.clear()}function Yw(){Ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Uy=!0)})}function RP(){By=!0,Yw(),Qw(),By=!1}class tv{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),Ly||(Ly=!0,me.read(Yw),me.resolveKeyframes(Qw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const h=i.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}vP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CP=n=>n.startsWith("--");function xP(n,t,e){CP(t)?n.style.setProperty(t,e):n.style[t]=e}const DP=F_(()=>window.ScrollTimeline!==void 0),VP={};function PP(n,t){const e=F_(n);return()=>VP[t]??e()}const Xw=PP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,hA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dc([0,.65,.55,1]),circOut:dc([.55,0,1,.45]),backIn:dc([.31,.01,.66,-.59]),backOut:dc([.33,1.53,.69,.99])};function $w(n,t){if(n)return typeof n=="function"?Xw()?Hw(n,t):"ease-out":Mw(n)?dc(n):Array.isArray(n)?n.map(e=>$w(e,t)||hA.easeOut):hA[n]}function MP(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[t]:e};d&&(y.offset=d);const v=$w(h,a);Array.isArray(v)&&(y.easing=v);const S={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),n.animate(y,S)}function Ww(n){return typeof n=="function"&&"applyToOptions"in n}function NP({type:n,...t}){return Ww(n)&&Xw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class OP extends J_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,j_(typeof t.type!="string");const p=NP(t);this.animation=MP(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=W_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):xP(e,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&DP()?(this.animation.timeline=t,oi):e(this)}}const Jw={anticipate:xw,backInOut:Cw,circInOut:Vw};function kP(n){return n in Jw}function LP(n){typeof n.ease=="string"&&kP(n.ease)&&(n.ease=Jw[n.ease])}const fA=10;class UP extends OP{constructor(t){LP(t),Kw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new Z_({...u,autoplay:!1}),d=Zi(this.finishedTime??this.time);e.setWithVelocity(h.sample(d-fA).value,h.sample(d).value,fA),h.stop()}}const dA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Fr.test(n)||n==="0")&&!n.startsWith("url("));function BP(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function zP(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=dA(a,t),h=dA(l,t);return!u||!h?!1:BP(n)||(e==="spring"||Ww(e))&&i}function zy(n){n.duration=0,n.type="keyframes"}const jP=new Set(["opacity","clipPath","filter","transform"]),FP=F_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qP(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return FP()&&e&&jP.has(e)&&(e!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const HP=40;class GP extends J_{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const S={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},I=y?.KeyframeResolver||tv;this.keyframeResolver=new I(h,(V,k,B)=>this.onKeyframesResolved(V,k,S,!B),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Cn.now(),zP(t,l,u,h)||((Vs.instantAnimations||!d)&&y?.(W_(t,i,e)),t[0]=t[t.length-1],zy(i),i.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>HP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&qP(S)?new UP({...S,element:S.motionValue.owner.current}):new Z_(S);I.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const KP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QP(n){const t=KP.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function Zw(n,t,e=1){const[i,a]=QP(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return Tw(u)?parseFloat(u):u}return K_(a)?Zw(a,t,e+1):a}function ev(n,t){return n?.[t]??n?.default??n}const tI=new Set(["width","height","top","left","right","bottom",...Hl]),YP={test:n=>n==="auto",parse:n=>n},eI=n=>t=>t.test(n),nI=[ql,bt,ts,Rr,BV,UV,YP],mA=n=>nI.find(eI(n));function XP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Sw(n):!0}const $P=new Set(["brightness","contrast","saturate","opacity"]);function WP(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Q_)||[];if(!i)return n;const a=e.replace(i,"");let l=$P.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const JP=/\b([a-z-]*)\(.*?\)/gu,jy={...Fr,getAnimatableNone:n=>{const t=n.match(JP);return t?t.map(WP).join(" "):n}},pA={...ql,transform:Math.round},ZP={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:td,scaleX:td,scaleY:td,scaleZ:td,skew:Rr,skewX:Rr,skewY:Rr,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Uc,originX:nA,originY:nA,originZ:bt},nv={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...ZP,zIndex:pA,fillOpacity:Uc,strokeOpacity:Uc,numOctaves:pA},tM={...nv,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:jy,WebkitFilter:jy},iI=n=>tM[n];function sI(n,t){let e=iI(n);return e!==jy&&(e=Fr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const eM=new Set(["auto","none","0"]);function nM(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!eM.has(l)&&Bc(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=sI(e,a)}class iM extends tv{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),K_(p))){const y=Zw(p,e.current);y!==void 0&&(t[d]=y),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!tI.has(i)||t.length!==2)return;const[a,l]=t,u=mA(a),h=mA(l);if(u!==h)if(cA(u)&&cA(h))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else Ha[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||XP(t[a]))&&i.push(a);i.length&&nM(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ha[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ha[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function sM(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const rI=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function aI(n){return Ew(n)&&"offsetHeight"in n}const gA=30,rM=n=>!isNaN(parseFloat(n)),yA={current:void 0};class aM{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new q_);const i=this.events[t].add(e);return t==="change"?()=>{i(),me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return yA.current&&yA.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,gA);return Aw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(n,t){return new aM(n,t)}const{schedule:iv}=Nw(queueMicrotask,!1),Ei={x:!1,y:!1};function oI(){return Ei.x||Ei.y}function oM(n){return n==="x"||n==="y"?Ei[n]?null:(Ei[n]=!0,()=>{Ei[n]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function lI(n,t){const e=sM(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function _A(n){return!(n.pointerType==="touch"||oI())}function lM(n,t,e={}){const[i,a,l]=lI(n,e),u=h=>{if(!_A(h))return;const{target:d}=h,p=t(d,h);if(typeof p!="function"||!d)return;const y=v=>{_A(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const uI=(n,t)=>t?n===t?!0:uI(n,t.parentElement):!1,sv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cM(n){return uM.has(n.tagName)||n.tabIndex!==-1}const dd=new WeakSet;function vA(n){return t=>{t.key==="Enter"&&n(t)}}function iy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hM=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=vA(()=>{if(dd.has(e))return;iy(e,"down");const a=vA(()=>{iy(e,"up")}),l=()=>iy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function TA(n){return sv(n)&&!oI()}function fM(n,t,e={}){const[i,a,l]=lI(n,e),u=h=>{const d=h.currentTarget;if(!TA(h))return;dd.add(d);const p=t(d,h),y=(I,V)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",S),dd.has(d)&&dd.delete(d),TA(I)&&typeof p=="function"&&p(I,{success:V})},v=I=>{y(I,d===window||d===document||e.useGlobalTarget||uI(d,I.target))},S=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",S,a)};return i.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),aI(h)&&(h.addEventListener("focus",p=>hM(p,a)),!cM(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function cI(n){return Ew(n)&&"ownerSVGElement"in n}function dM(n){return cI(n)&&n.tagName==="svg"}const dn=n=>!!(n&&n.getVelocity),mM=[...nI,ze,Fr],pM=n=>mM.find(eI(n)),rv=st.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function EA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function gM(...n){return t=>{let e=!1;const i=n.map(a=>{const l=EA(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():EA(n[a],null)}}}}function yM(...n){return st.useCallback(gM(...n),n)}class _M extends st.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=aI(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vM({children:n,isPresent:t,anchorX:e,root:i}){const a=st.useId(),l=st.useRef(null),u=st.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=st.useContext(rv),d=yM(l,n?.ref);return st.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:S,right:I}=u.current;if(t||!l.current||!p||!y)return;const V=e==="left"?`left: ${S}`:`right: ${I}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");h&&(k.nonce=h);const B=i??document.head;return B.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${v}px !important;
          }
        `),()=>{B.contains(k)&&B.removeChild(k)}},[t]),z.jsx(_M,{isPresent:t,childRef:l,sizeRef:u,children:st.cloneElement(n,{ref:d})})}const TM=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=L_(EM),y=st.useId();let v=!0,S=st.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:e,custom:a,onExitComplete:I=>{p.set(I,!0);for(const V of p.values())if(!V)return;i&&i()},register:I=>(p.set(I,!1),()=>p.delete(I))}),[e,p,i]);return l&&v&&(S={...S}),st.useMemo(()=>{p.forEach((I,V)=>p.set(V,!1))},[e]),st.useEffect(()=>{!e&&!p.size&&i&&i()},[e]),u==="popLayout"&&(n=z.jsx(vM,{isPresent:e,anchorX:h,root:d,children:n})),z.jsx(dm.Provider,{value:S,children:n})};function EM(){return new Map}function hI(n=!0){const t=st.useContext(dm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=st.useId();st.useEffect(()=>{if(n)return a(l)},[n]);const u=st.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const ed=n=>n.key||"";function SA(n){const t=[];return st.Children.forEach(n,e=>{st.isValidElement(e)&&t.push(e)}),t}const SM=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=hI(u),v=st.useMemo(()=>SA(n),[n]),S=u&&!p?[]:v.map(ed),I=st.useRef(!0),V=st.useRef(v),k=L_(()=>new Map),[B,X]=st.useState(v),[$,K]=st.useState(v);vw(()=>{I.current=!1,V.current=v;for(let lt=0;lt<$.length;lt++){const R=ed($[lt]);S.includes(R)?k.delete(R):k.get(R)!==!0&&k.set(R,!1)}},[$,S.length,S.join("-")]);const ot=[];if(v!==B){let lt=[...v];for(let R=0;R<$.length;R++){const w=$[R],C=ed(w);S.includes(C)||(lt.splice(R,0,w),ot.push(w))}return l==="wait"&&ot.length&&(lt=ot),K(SA(lt)),X(v),null}const{forceRender:at}=st.useContext(k_);return z.jsx(z.Fragment,{children:$.map(lt=>{const R=ed(lt),w=u&&!p?!1:v===$||S.includes(R),C=()=>{if(k.has(R))k.set(R,!0);else return;let N=!0;k.forEach(P=>{P||(N=!1)}),N&&(at?.(),K(V.current),u&&y?.(),i&&i())};return z.jsx(TM,{isPresent:w,initial:!I.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:w?void 0:C,anchorX:h,children:lt},R)})})},fI=st.createContext({strict:!1}),AA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const n in AA)Sl[n]={isEnabled:t=>AA[n].some(e=>!!t[e])};function AM(n){for(const t in n)Sl[t]={...Sl[t],...n[t]}}const bM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bM.has(n)}let dI=n=>!kd(n);function wM(n){typeof n=="function"&&(dI=t=>t.startsWith("on")?!kd(t):n(t))}try{wM(require("@emotion/is-prop-valid").default)}catch{}function IM(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(dI(a)||e===!0&&kd(a)||!t&&!kd(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const mm=st.createContext({});function pm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function zc(n){return typeof n=="string"||Array.isArray(n)}const av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ov=["initial",...av];function gm(n){return pm(n.animate)||ov.some(t=>zc(n[t]))}function mI(n){return!!(gm(n)||n.variants)}function RM(n,t){if(gm(n)){const{initial:e,animate:i}=n;return{initial:e===!1||zc(e)?e:void 0,animate:zc(i)?i:void 0}}return n.inherit!==!1?t:{}}function CM(n){const{initial:t,animate:e}=RM(n,st.useContext(mm));return st.useMemo(()=>({initial:t,animate:e}),[bA(t),bA(e)])}function bA(n){return Array.isArray(n)?n.join(" "):n}function wA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const oc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(bt.test(n))n=parseFloat(n);else return n;const e=wA(n,t.target.x),i=wA(n,t.target.y);return`${e}% ${i}%`}},xM={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=Fr.parse(n);if(a.length>5)return i;const l=Fr.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const p=pe(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Fy={borderRadius:{...oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oc,borderTopRightRadius:oc,borderBottomLeftRadius:oc,borderBottomRightRadius:oc,boxShadow:xM};function pI(n,{layout:t,layoutId:e}){return Gl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Fy[n]||n==="opacity")}const DM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VM=Hl.length;function PM(n,t,e){let i="",a=!0;for(let l=0;l<VM;l++){const u=Hl[l],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||e){const p=rI(h,nv[u]);if(!d){a=!1;const y=DM[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function lv(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const d in t){const p=t[d];if(Gl.has(d)){u=!0;continue}else if(kw(d)){a[d]=p;continue}else{const y=rI(p,nv[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(t.transform||(u||e?i.transform=PM(t,n.transform,e):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${p} ${y}`}}const uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gI(n,t,e){for(const i in t)!dn(t[i])&&!pI(i,e)&&(n[i]=t[i])}function MM({transformTemplate:n},t){return st.useMemo(()=>{const e=uv();return lv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function NM(n,t){const e=n.style||{},i={};return gI(i,e,n),Object.assign(i,MM(n,t)),i}function OM(n,t){const e={},i=NM(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const kM={offset:"stroke-dashoffset",array:"stroke-dasharray"},LM={offset:"strokeDashoffset",array:"strokeDasharray"};function UM(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?kM:LM;n[l.offset]=bt.transform(-i);const u=bt.transform(t),h=bt.transform(e);n[l.array]=`${u} ${h}`}function yI(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(lv(n,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:S}=n;v.transform&&(S.transform=v.transform,delete v.transform),(S.transform||v.transformOrigin)&&(S.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&UM(v,a,l,u,!1)}const _I=()=>({...uv(),attrs:{}}),vI=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BM(n,t,e,i){const a=st.useMemo(()=>{const l=_I();return yI(l,t,vI(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};gI(l,n.style,n),a.style={...l,...a.style}}return a}const zM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cv(n){return typeof n!="string"||n.includes("-")?!1:!!(zM.indexOf(n)>-1||/[A-Z]/u.test(n))}function jM(n,t,e,{latestValues:i},a,l=!1){const h=(cv(n)?BM:OM)(t,i,a,n),d=IM(t,typeof n=="string",l),p=n!==st.Fragment?{...d,...h,ref:e}:{},{children:y}=t,v=st.useMemo(()=>dn(y)?y.get():y,[y]);return st.createElement(n,{...p,children:v})}function IA(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function hv(n,t,e,i){if(typeof t=="function"){const[a,l]=IA(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=IA(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function md(n){return dn(n)?n.get():n}function FM({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:qM(e,i,a,n),renderState:t()}}function qM(n,t,e,i){const a={},l=i(n,{});for(const S in l)a[S]=md(l[S]);let{initial:u,animate:h}=n;const d=gm(n),p=mI(n);t&&p&&!d&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!pm(v)){const S=Array.isArray(v)?v:[v];for(let I=0;I<S.length;I++){const V=hv(n,S[I]);if(V){const{transitionEnd:k,transition:B,...X}=V;for(const $ in X){let K=X[$];if(Array.isArray(K)){const ot=y?K.length-1:0;K=K[ot]}K!==null&&(a[$]=K)}for(const $ in k)a[$]=k[$]}}}return a}const TI=n=>(t,e)=>{const i=st.useContext(mm),a=st.useContext(dm),l=()=>FM(n,t,i,a);return e?l():L_(l)};function fv(n,t,e){const{style:i}=n,a={};for(const l in i)(dn(i[l])||t.style&&dn(t.style[l])||pI(l,n)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const HM=TI({scrapeMotionValuesFromProps:fv,createRenderState:uv});function EI(n,t,e){const i=fv(n,t,e);for(const a in n)if(dn(n[a])||dn(t[a])){const l=Hl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const GM=TI({scrapeMotionValuesFromProps:EI,createRenderState:_I}),KM=Symbol.for("motionComponentSymbol");function hl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function QM(n,t,e){return st.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):hl(e)&&(e.current=i))},[t])}const dv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YM="framerAppearId",SI="data-"+dv(YM),AI=st.createContext({});function XM(n,t,e,i,a){const{visualElement:l}=st.useContext(mm),u=st.useContext(fI),h=st.useContext(dm),d=st.useContext(rv).reducedMotion,p=st.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:t,parent:l,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=st.useContext(AI);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&$M(p.current,e,a,v);const S=st.useRef(!1);st.useInsertionEffect(()=>{y&&S.current&&y.update(e,h)});const I=e[SI],V=st.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return vw(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),st.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),V.current=!1),y.enteringChildren=void 0)}),y}function $M(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:bI(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&hl(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:p})}function bI(n){if(n)return n.options.allowProjection!==!1?n.projection:bI(n.parent)}function sy(n,{forwardMotionProps:t=!1}={},e,i){e&&AM(e);const a=cv(n)?GM:HM;function l(h,d){let p;const y={...st.useContext(rv),...h,layoutId:WM(h)},{isStatic:v}=y,S=CM(h),I=a(h,v);if(!v&&U_){JM();const V=ZM(y);p=V.MeasureLayout,S.visualElement=XM(n,I,y,i,V.ProjectionNode)}return z.jsxs(mm.Provider,{value:S,children:[p&&S.visualElement?z.jsx(p,{visualElement:S.visualElement,...y}):null,jM(n,h,QM(I,S.visualElement,d),I,v,t)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=st.forwardRef(l);return u[KM]=n,u}function WM({layoutId:n}){const t=st.useContext(k_).id;return t&&n!==void 0?t+"-"+n:n}function JM(n,t){st.useContext(fI).strict}function ZM(n){const{drag:t,layout:e}=Sl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function tN(n,t){if(typeof Proxy>"u")return sy;const e=new Map,i=(l,u)=>sy(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,sy(u,void 0,n,t)),e.get(u))})}function wI({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function eN({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function nN(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function ry(n){return n===void 0||n===1}function qy({scale:n,scaleX:t,scaleY:e}){return!ry(n)||!ry(t)||!ry(e)}function Pa(n){return qy(n)||II(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function II(n){return RA(n.x)||RA(n.y)}function RA(n){return n&&n!=="0%"}function Ld(n,t,e){const i=n-e,a=t*i;return e+a}function CA(n,t,e,i,a){return a!==void 0&&(n=Ld(n,a,i)),Ld(n,e,i)+t}function Hy(n,t=0,e=1,i,a){n.min=CA(n.min,t,e,i,a),n.max=CA(n.max,t,e,i,a)}function RI(n,{x:t,y:e}){Hy(n.x,t.translate,t.scale,t.originPoint),Hy(n.y,e.translate,e.scale,e.originPoint)}const xA=.999999999999,DA=1.0000000000001;function iN(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&dl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,RI(n,u)),i&&Pa(l.latestValues)&&dl(n,l.latestValues))}t.x<DA&&t.x>xA&&(t.x=1),t.y<DA&&t.y>xA&&(t.y=1)}function fl(n,t){n.min=n.min+t,n.max=n.max+t}function VA(n,t,e,i,a=.5){const l=pe(n.min,n.max,a);Hy(n,t,e,l,i)}function dl(n,t){VA(n.x,t.x,t.scaleX,t.scale,t.originX),VA(n.y,t.y,t.scaleY,t.scale,t.originY)}function CI(n,t){return wI(nN(n.getBoundingClientRect(),t))}function sN(n,t,e){const i=CI(n,e),{scroll:a}=t;return a&&(fl(i.x,a.offset.x),fl(i.y,a.offset.y)),i}const PA=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:PA(),y:PA()}),MA=()=>({min:0,max:0}),Ge=()=>({x:MA(),y:MA()}),Gy={current:null},xI={current:!1};function rN(){if(xI.current=!0,!!U_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gy.current=n.matches;n.addEventListener("change",t),t()}else Gy.current=!1}const aN=new WeakMap;function oN(n,t,e){for(const i in t){const a=t[i],l=e[i];if(dn(a))n.addValue(i,a);else if(dn(l))n.addValue(i,El(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,El(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const NA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lN{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Cn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,me.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=gm(e),this.isVariantNode=mI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in v){const I=v[S];d[S]!==void 0&&dn(I)&&I.set(d[S])}}mount(t){this.current=t,aN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),xI.current||rN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Gl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Sl){const e=Sl[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<NA.length;i++){const a=NA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=oN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=El(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Tw(i)||Sw(i))?i=parseFloat(i):!pM(i)&&Fr.test(e)&&(i=sI(t,e)),this.setBaseTarget(t,dn(i)?i.get():i)),dn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=hv(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!dn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new q_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){iv.render(this.render)}}class DI extends lN{constructor(){super(...arguments),this.KeyframeResolver=iM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function VI(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function uN(n){return window.getComputedStyle(n)}class cN extends DI{constructor(){super(...arguments),this.type="html",this.renderInstance=VI}readValueFromInstance(t,e){if(Gl.has(e))return this.projection?.isProjecting?Oy(e):SP(t,e);{const i=uN(t),a=(kw(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return CI(t,e)}build(t,e,i){lv(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return fv(t,e,i)}}const PI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hN(n,t,e,i){VI(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(PI.has(a)?a:dv(a),t.attrs[a])}class fN extends DI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Gl.has(e)){const i=iI(e);return i&&i.default||0}return e=PI.has(e)?e:dv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return EI(t,e,i)}build(t,e,i){yI(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){hN(t,e,i,a)}mount(t){this.isSVGTag=vI(t.tagName),super.mount(t)}}const dN=(n,t)=>cv(n)?new fN(t):new cN(t,{allowProjection:n!==st.Fragment});function gl(n,t,e){const i=n.getProps();return hv(i,t,e!==void 0?e:i.custom,n)}const Ky=n=>Array.isArray(n);function mN(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,El(e))}function pN(n){return Ky(n)?n[n.length-1]||0:n}function gN(n,t){const e=gl(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const h=pN(l[u]);mN(n,u,h)}}function yN(n){return!!(dn(n)&&n.add)}function Qy(n,t){const e=n.getValue("willChange");if(yN(e))return e.add(t);if(!e&&Vs.WillChange){const i=new Vs.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function MI(n){return n.props[SI]}const _N=n=>n!==null;function vN(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(_N),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const TN={type:"spring",stiffness:500,damping:25,restSpeed:10},EN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),SN={type:"keyframes",duration:.8},AN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bN=(n,{keyframes:t})=>t.length>2?SN:Gl.has(n)?n.startsWith("scale")?EN(t[1]):TN:AN;function wN({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const mv=(n,t,e,i={},a,l)=>u=>{const h=ev(i,n)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Zi(d);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:S=>{t.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};wN(h)||Object.assign(y,bN(n,y)),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zy(y),y.delay===0&&(v=!0)),(Vs.instantAnimations||Vs.skipAnimations)&&(v=!0,zy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const S=vN(y.keyframes,h);if(S!==void 0){me.update(()=>{y.onUpdate(S),y.onComplete()});return}}return h.isSync?new Z_(y):new GP(y)};function IN({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function NI(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(l=i);const d=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const y in h){const v=n.getValue(y,n.latestValues[y]??null),S=h[y];if(S===void 0||p&&IN(p,y))continue;const I={delay:e,...ev(l||{},y)},V=v.get();if(V!==void 0&&!v.isAnimating&&!Array.isArray(S)&&S===V&&!I.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const X=MI(n);if(X){const $=window.MotionHandoffAnimation(X,y,me);$!==null&&(I.startTime=$,k=!0)}}Qy(n,y),v.start(mv(y,v,S,n.shouldReduceMotion&&tI.has(y)?{type:!1}:I,n,k));const B=v.animation;B&&d.push(B)}return u&&Promise.all(d).then(()=>{me.update(()=>{u&&gN(n,u)})}),d}function OI(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:h-l*i}function Yy(n,t,e={}){const i=gl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(NI(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return RN(n,t,d,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function RN(n,t,e=0,i=0,a=0,l=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",t),h.push(Yy(d,t,{...u,delay:e+(typeof i=="function"?0:i)+OI(n.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function CN(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>Yy(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=Yy(n,t,e);else{const a=typeof t=="function"?gl(n,t,e.custom):t;i=Promise.all(NI(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function kI(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const xN=ov.length;function LI(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?LI(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<xN;e++){const i=ov[e],a=n.props[i];(zc(a)||a===!1)&&(t[i]=a)}return t}const DN=[...av].reverse(),VN=av.length;function PN(n){return t=>Promise.all(t.map(({animation:e,options:i})=>CN(n,e,i)))}function MN(n){let t=PN(n),e=OA(),i=!0;const a=d=>(p,y)=>{const v=gl(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:S,transitionEnd:I,...V}=v;p={...p,...V,...I}}return p};function l(d){t=d(n)}function u(d){const{props:p}=n,y=LI(n.parent)||{},v=[],S=new Set;let I={},V=1/0;for(let B=0;B<VN;B++){const X=DN[B],$=e[X],K=p[X]!==void 0?p[X]:y[X],ot=zc(K),at=X===d?$.isActive:null;at===!1&&(V=B);let lt=K===y[X]&&K!==p[X]&&ot;if(lt&&i&&n.manuallyAnimateOnMount&&(lt=!1),$.protectedKeys={...I},!$.isActive&&at===null||!K&&!$.prevProp||pm(K)||typeof K=="boolean")continue;const R=NN($.prevProp,K);let w=R||X===d&&$.isActive&&!lt&&ot||B>V&&ot,C=!1;const N=Array.isArray(K)?K:[K];let P=N.reduce(a(X),{});at===!1&&(P={});const{prevResolvedValues:U={}}=$,x={...U,...P},re=rt=>{w=!0,S.has(rt)&&(C=!0,S.delete(rt)),$.needsAnimating[rt]=!0;const mt=n.getValue(rt);mt&&(mt.liveStyle=!1)};for(const rt in x){const mt=P[rt],Dt=U[rt];if(I.hasOwnProperty(rt))continue;let kt=!1;Ky(mt)&&Ky(Dt)?kt=!kI(mt,Dt):kt=mt!==Dt,kt?mt!=null?re(rt):S.add(rt):mt!==void 0&&S.has(rt)?re(rt):$.protectedKeys[rt]=!0}$.prevProp=K,$.prevResolvedValues=P,$.isActive&&(I={...I,...P}),i&&n.blockInitialAnimation&&(w=!1);const ye=lt&&R;w&&(!ye||C)&&v.push(...N.map(rt=>{const mt={type:X};if(typeof rt=="string"&&i&&!ye&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=gl(Dt,rt);if(Dt.enteringChildren&&kt){const{delayChildren:O}=kt.transition||{};mt.delay=OI(Dt.enteringChildren,n,O)}}return{animation:rt,options:mt}}))}if(S.size){const B={};if(typeof p.initial!="boolean"){const X=gl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);X&&X.transition&&(B.transition=X.transition)}S.forEach(X=>{const $=n.getBaseTarget(X),K=n.getValue(X);K&&(K.liveStyle=!0),B[X]=$??null}),v.push({animation:B})}let k=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(v):Promise.resolve()}function h(d,p){if(e[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),e[d].isActive=p;const y=u(d);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=OA()}}}function NN(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!kI(t,n):!1}function Da(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OA(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ON extends Yr{constructor(t){super(t),t.animationState||(t.animationState=MN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kN=0;class LN extends Yr{constructor(){super(...arguments),this.id=kN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UN={animation:{Feature:ON},exit:{Feature:LN}};function jc(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function lh(n){return{point:{x:n.pageX,y:n.pageY}}}const BN=n=>t=>sv(t)&&n(t,lh(t));function Ac(n,t,e,i){return jc(n,t,BN(e),i)}const UI=1e-4,zN=1-UI,jN=1+UI,BI=.01,FN=0-BI,qN=0+BI;function vn(n){return n.max-n.min}function HN(n,t,e){return Math.abs(n-t)<=e}function kA(n,t,e,i=.5){n.origin=i,n.originPoint=pe(t.min,t.max,n.origin),n.scale=vn(e)/vn(t),n.translate=pe(e.min,e.max,n.origin)-n.originPoint,(n.scale>=zN&&n.scale<=jN||isNaN(n.scale))&&(n.scale=1),(n.translate>=FN&&n.translate<=qN||isNaN(n.translate))&&(n.translate=0)}function bc(n,t,e,i){kA(n.x,t.x,e.x,i?i.originX:void 0),kA(n.y,t.y,e.y,i?i.originY:void 0)}function LA(n,t,e){n.min=e.min+t.min,n.max=n.min+vn(t)}function GN(n,t,e){LA(n.x,t.x,e.x),LA(n.y,t.y,e.y)}function UA(n,t,e){n.min=t.min-e.min,n.max=n.min+vn(t)}function Ud(n,t,e){UA(n.x,t.x,e.x),UA(n.y,t.y,e.y)}function si(n){return[n("x"),n("y")]}const zI=({current:n})=>n?n.ownerDocument.defaultView:null,BA=(n,t)=>Math.abs(n-t);function KN(n,t){const e=BA(n.x,t.x),i=BA(n.y,t.y);return Math.sqrt(e**2+i**2)}class jI{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=oy(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,V=KN(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!V)return;const{point:k}=S,{timestamp:B}=an;this.history.push({...k,timestamp:B});const{onStart:X,onMove:$}=this.handlers;I||(X&&X(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,S)},this.handlePointerMove=(S,I)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=ay(I,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(S,I)=>{this.end();const{onEnd:V,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=oy(S.type==="pointercancel"?this.lastMoveEventInfo:ay(I,this.transformPagePoint),this.history);this.startEvent&&V&&V(S,X),k&&k(S,X)},!sv(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=lh(t),d=ay(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=an;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=e;v&&v(t,oy(d,this.history)),this.removeListeners=rh(Ac(this.contextWindow,"pointermove",this.handlePointerMove),Ac(this.contextWindow,"pointerup",this.handlePointerUp),Ac(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jr(this.updatePoint)}}function ay(n,t){return t?{point:t(n.point)}:n}function zA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function oy({point:n},t){return{point:n,delta:zA(n,FI(t)),offset:zA(n,QN(t)),velocity:YN(t,.1)}}function QN(n){return n[0]}function FI(n){return n[n.length-1]}function YN(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=FI(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Zi(t)));)e--;if(!i)return{x:0,y:0};const l=ai(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function XN(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?pe(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?pe(e,n,i.max):Math.min(n,e)),n}function jA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function $N(n,{top:t,left:e,bottom:i,right:a}){return{x:jA(n.x,e,a),y:jA(n.y,t,i)}}function FA(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function WN(n,t){return{x:FA(n.x,t.x),y:FA(n.y,t.y)}}function JN(n,t){let e=.5;const i=vn(n),a=vn(t);return a>i?e=Lc(t.min,t.max-i,n.min):i>a&&(e=Lc(n.min,n.max-a,t.min)),Ds(0,1,e)}function ZN(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Xy=.35;function tO(n=Xy){return n===!1?n=0:n===!0&&(n=Xy),{x:qA(n,"left","right"),y:qA(n,"top","bottom")}}function qA(n,t,e){return{min:HA(n,t),max:HA(n,e)}}function HA(n,t){return typeof n=="number"?n:n[t]||0}const eO=new WeakMap;class nO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(lh(v).point)},u=(v,S)=>{const{drag:I,dragPropagation:V,onDragStart:k}=this.getProps();if(I&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oM(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(X=>{let $=this.getAxisMotionValue(X).get()||0;if(ts.test($)){const{projection:K}=this.visualElement;if(K&&K.layout){const ot=K.layout.layoutBox[X];ot&&($=vn(ot)*(parseFloat($)/100))}}this.originPoint[X]=$}),k&&me.postRender(()=>k(v,S)),Qy(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},h=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S;const{dragPropagation:I,dragDirectionLock:V,onDirectionLock:k,onDrag:B}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:X}=S;if(V&&this.currentDirection===null){this.currentDirection=iO(X),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",S.point,X),this.updateAxis("y",S.point,X),this.visualElement.render(),B&&B(v,S)},d=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S,this.stop(v,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>si(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new jI(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:zI(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&me.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!nd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=XN(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&hl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=$N(i.layoutBox,t):this.constraints=!1,this.elastic=tO(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZN(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!hl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sN(i,a.root,this.visualElement.getTransformPagePoint());let u=WN(a.layout.layoutBox,l);if(e){const h=e(eN(u));this.hasMutatedConstraints=!!h,h&&(u=wI(h))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=si(y=>{if(!nd(y,e,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const S=a?200:1e6,I=a?40:1e7,V={type:"inertia",velocity:i?t[y]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,V)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Qy(this.visualElement,t),i.start(mv(t,i,0,e,this.visualElement,!1))}stopAnimation(){si(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){si(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){si(e=>{const{drag:i}=this.getProps();if(!nd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e];l.set(t[e]-pe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!hl(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=JN({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),si(u=>{if(!nd(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(pe(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;eO.set(this.visualElement,this);const t=this.visualElement.current,e=Ac(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();hl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),me.read(i);const u=jc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(si(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Xy,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function nd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function iO(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class sO extends Yr{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new nO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const GA=n=>(t,e)=>{n&&me.postRender(()=>n(t,e))};class rO extends Yr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new jI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:GA(t),onStart:GA(e),onMove:i,onEnd:(l,u)=>{delete this.session,a&&me.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ac(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ly=!1;class aO extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),ly&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,ly=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||me.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),iv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;ly=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qI(n){const[t,e]=hI(),i=st.useContext(k_);return z.jsx(aO,{...n,layoutGroup:i,switchLayoutGroup:st.useContext(AI),isPresent:t,safeToRemove:e})}function oO(n,t,e){const i=dn(n)?n:El(n);return i.start(mv("",i,t,e)),i.animation}const lO=(n,t)=>n.depth-t.depth;class uO{constructor(){this.children=[],this.isDirty=!1}add(t){B_(this.children,t),this.isDirty=!0}remove(t){z_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lO),this.isDirty=!1,this.children.forEach(t)}}function cO(n,t){const e=Cn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(jr(i),n(l-t))};return me.setup(i,!0),()=>jr(i)}const HI=["TopLeft","TopRight","BottomLeft","BottomRight"],hO=HI.length,KA=n=>typeof n=="string"?parseFloat(n):n,QA=n=>typeof n=="number"||bt.test(n);function fO(n,t,e,i,a,l){a?(n.opacity=pe(0,e.opacity??1,dO(i)),n.opacityExit=pe(t.opacity??1,0,mO(i))):l&&(n.opacity=pe(t.opacity??1,e.opacity??1,i));for(let u=0;u<hO;u++){const h=`border${HI[u]}Radius`;let d=YA(t,h),p=YA(e,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||QA(d)===QA(p)?(n[h]=Math.max(pe(KA(d),KA(p),i),0),(ts.test(p)||ts.test(d))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=pe(t.rotate||0,e.rotate||0,i))}function YA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const dO=GI(0,.5,Dw),mO=GI(.5,.95,oi);function GI(n,t,e){return i=>i<n?0:i>t?1:e(Lc(n,t,i))}function XA(n,t){n.min=t.min,n.max=t.max}function Ti(n,t){XA(n.x,t.x),XA(n.y,t.y)}function $A(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function WA(n,t,e,i,a){return n-=t,n=Ld(n,1/e,i),a!==void 0&&(n=Ld(n,1/a,i)),n}function pO(n,t=0,e=1,i=.5,a,l=n,u=n){if(ts.test(t)&&(t=parseFloat(t),t=pe(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=pe(l.min,l.max,i);n===l&&(h-=t),n.min=WA(n.min,t,e,h,a),n.max=WA(n.max,t,e,h,a)}function JA(n,t,[e,i,a],l,u){pO(n,t[e],t[i],t[a],t.scale,l,u)}const gO=["x","scaleX","originX"],yO=["y","scaleY","originY"];function ZA(n,t,e,i){JA(n.x,t,gO,e?e.x:void 0,i?i.x:void 0),JA(n.y,t,yO,e?e.y:void 0,i?i.y:void 0)}function tb(n){return n.translate===0&&n.scale===1}function KI(n){return tb(n.x)&&tb(n.y)}function eb(n,t){return n.min===t.min&&n.max===t.max}function _O(n,t){return eb(n.x,t.x)&&eb(n.y,t.y)}function nb(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function QI(n,t){return nb(n.x,t.x)&&nb(n.y,t.y)}function ib(n){return vn(n.x)/vn(n.y)}function sb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class vO{constructor(){this.members=[]}add(t){B_(this.members,t),t.scheduleRender()}remove(t){if(z_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TO(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:S,skewX:I,skewY:V}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),S&&(i+=`rotateY(${S}deg) `),I&&(i+=`skewX(${I}deg) `),V&&(i+=`skewY(${V}deg) `)}const h=n.x.scale*t.x,d=n.y.scale*t.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const uy=["","X","Y","Z"],EO=1e3;let SO=0;function cy(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function YI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=MI(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",me,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&YI(i)}function XI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=SO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wO),this.nodes.forEach(xO),this.nodes.forEach(DO),this.nodes.forEach(IO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new uO)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new q_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=cI(u)&&!dM(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const S=()=>this.root.updateBlockedByResize=!1;me.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=cO(S,250),pd.hasAnimatedSinceResize&&(pd.hasAnimatedSinceResize=!1,this.nodes.forEach(ob)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||OO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:B}=p.getProps(),X=!this.targetLayout||!QI(this.targetLayout,I),$=!v&&S;if(this.options.layoutRoot||this.resumeFrom||$||v&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...ev(V,"layout"),onPlay:k,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,$)}else v||ob(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ab);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CO),this.nodes.forEach(AO),this.nodes.forEach(bO)):this.nodes.forEach(ab),this.clearAllSnapshots();const h=Cn.now();an.delta=Ds(0,1e3/60,h-an.timestamp),an.timestamp=h,an.isProcessing=!0,Jg.update.process(an),Jg.preRender.process(an),Jg.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RO),this.sharedNodes.forEach(PO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!KI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),kO(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ge();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LO))){const{scroll:p}=this.root;p&&(fl(h.x,p.offset.x),fl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ge();if(Ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ti(h,u),fl(h.x,y.offset.x),fl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Ge();Ti(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&dl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Pa(y.latestValues)&&dl(d,y.latestValues)}return Pa(this.latestValues)&&dl(d,this.latestValues),d}removeTransform(u){const h=Ge();Ti(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Pa(p.latestValues))continue;qy(p.latestValues)&&p.updateSnapshot();const y=Ge(),v=p.measurePageBox();Ti(y,v),ZA(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Pa(this.latestValues)&&ZA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=an.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),RI(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||II(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Ud(this.relativeTargetOrigin,h,d),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===an.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;iN(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ge());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($A(this.prevProjectionDelta.x,this.projectionDelta.x),$A(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!sb(this.projectionDelta.x,this.prevProjectionDelta.x)||!sb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=Ge(),I=d?d.source:void 0,V=this.layout?this.layout.source:void 0,k=I!==V,B=this.getStack(),X=!B||B.members.length<=1,$=!!(k&&!X&&this.options.crossfade===!0&&!this.path.some(NO));this.animationProgress=0;let K;this.mixTargetDelta=ot=>{const at=ot/1e3;lb(v.x,u.x,at),lb(v.y,u.y,at),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ud(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MO(this.relativeTarget,this.relativeTargetOrigin,S,at),K&&_O(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Ge()),Ti(K,this.relativeTarget)),k&&(this.animationValues=y,fO(y,p,this.latestValues,at,$,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=El(0)),this.currentAnimation=oO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&$I(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ge();const v=vn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const S=vn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+S}Ti(h,d),dl(h,y),bc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new vO),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&cy("z",u,p,this.animationValues);for(let y=0;y<uy.length;y++)cy(`rotate${uy[y]}`,u,p,this.animationValues),cy(`skew${uy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=md(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=md(h?.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=TO(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:S,y:I}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Fy){if(y[V]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:X}=Fy[V],$=v==="none"?y[V]:k(y[V],p);if(B){const K=B.length;for(let ot=0;ot<K;ot++)u[B[ot]]=$}else X?this.options.visualElement.renderState.vars[V]=$:u[V]=$}this.options.layoutId&&(u.pointerEvents=p===this?md(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(rb),this.root.sharedNodes.clear()}}}function AO(n){n.updateLayout()}function bO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?si(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],S=vn(v);v.min=e[y].min,v.max=v.min+S}):$I(a,t.layoutBox,e)&&si(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],S=vn(e[y]);v.max=v.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const u=ml();bc(u,e,t.layoutBox);const h=ml();l?bc(h,n.applyTransform(i,!0),t.measuredBox):bc(h,e,t.layoutBox);const d=!KI(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const I=Ge();Ud(I,t.layoutBox,v.layoutBox);const V=Ge();Ud(V,e,S.layoutBox),QI(I,V)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function wO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function IO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function RO(n){n.clearSnapshot()}function rb(n){n.clearMeasurements()}function ab(n){n.isLayoutDirty=!1}function CO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function ob(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function xO(n){n.resolveTargetDelta()}function DO(n){n.calcProjection()}function VO(n){n.resetSkewAndRotation()}function PO(n){n.removeLeadSnapshot()}function lb(n,t,e){n.translate=pe(t.translate,0,e),n.scale=pe(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function ub(n,t,e,i){n.min=pe(t.min,e.min,i),n.max=pe(t.max,e.max,i)}function MO(n,t,e,i){ub(n.x,t.x,e.x,i),ub(n.y,t.y,e.y,i)}function NO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const OO={duration:.45,ease:[.4,0,.1,1]},cb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),hb=cb("applewebkit/")&&!cb("chrome/")?Math.round:oi;function fb(n){n.min=hb(n.min),n.max=hb(n.max)}function kO(n){fb(n.x),fb(n.y)}function $I(n,t,e){return n==="position"||n==="preserve-aspect"&&!HN(ib(t),ib(e),.2)}function LO(n){return n!==n.root&&n.scroll?.wasRoot}const UO=XI({attachResizeListener:(n,t)=>jc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hy={current:void 0},WI=XI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!hy.current){const n=new UO({});n.mount(window),n.setOptions({layoutScroll:!0}),hy.current=n}return hy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),BO={pan:{Feature:rO},drag:{Feature:sO,ProjectionNode:WI,MeasureLayout:qI}};function db(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&me.postRender(()=>l(t,lh(t)))}class zO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=lM(t,(e,i)=>(db(this.node,i,"Start"),a=>db(this.node,a,"End"))))}unmount(){}}class jO extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rh(jc(this.node.current,"focus",()=>this.onFocus()),jc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mb(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&me.postRender(()=>l(t,lh(t)))}class FO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=fM(t,(e,i)=>(mb(this.node,i,"Start"),(a,{success:l})=>mb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,fy=new WeakMap,qO=n=>{const t=$y.get(n.target);t&&t(n)},HO=n=>{n.forEach(qO)};function GO({root:n,...t}){const e=n||document;fy.has(e)||fy.set(e,{});const i=fy.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(HO,{root:n,...t})),i[a]}function KO(n,t,e){const i=GO(t);return $y.set(n,e),i.observe(n),()=>{$y.delete(n),i.unobserve(n)}}const QO={some:0,all:1};class YO extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:QO[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),S=p?y:v;S&&S(d)};return KO(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(XO(t,e))&&this.startObserver()}unmount(){}}function XO({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const $O={inView:{Feature:YO},tap:{Feature:FO},focus:{Feature:jO},hover:{Feature:zO}},WO={layout:{ProjectionNode:WI,MeasureLayout:qI}},JO={...UN,...$O,...BO,...WO},ZO=tN(JO,dN);const tk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ek=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),pb=n=>{const t=ek(n);return t.charAt(0).toUpperCase()+t.slice(1)},JI=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),nk=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ik={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sk=st.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},d)=>st.createElement("svg",{ref:d,...ik,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:JI("lucide",a),...!l&&!nk(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>st.createElement(p,y)),...Array.isArray(l)?l:[l]]));const xe=(n,t)=>{const e=st.forwardRef(({className:i,...a},l)=>st.createElement(sk,{ref:l,iconNode:t,className:JI(`lucide-${tk(pb(n))}`,`lucide-${n}`,i),...a}));return e.displayName=pb(n),e};const rk=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ak=xe("chef-hat",rk);const ok=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lk=xe("circle-alert",ok);const uk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ck=xe("circle-check-big",uk);const hk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fk=xe("download",hk);const dk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mk=xe("eye-off",dk);const pk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gk=xe("eye",pk);const yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_k=xe("info",yk);const vk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wy=xe("loader-circle",vk);const Tk=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ek=xe("log-in",Tk);const Sk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZI=xe("log-out",Sk);const Ak=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bk=xe("mail",Ak);const wk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ik=xe("moon",wk);const Rk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gb=xe("package",Rk);const Ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xk=xe("plus",Ck);const Dk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vk=xe("refresh-cw",Dk);const Pk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yb=xe("settings",Pk);const Mk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_b=xe("shopping-cart",Mk);const Nk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ok=xe("sun",Nk);const kk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lk=xe("trash-2",kk);const Uk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bk=xe("user-plus",Uk);const zk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jk=xe("x",zk),Fk=()=>{};var vb={};const tR=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},qk=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},eR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let S=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(S=64)),i.push(e[y],e[v],e[S],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tR(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):qk(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new Hk;const S=l<<2|h>>4;if(i.push(S),p!==64){const I=h<<4&240|p>>2;if(i.push(I),v!==64){const V=p<<6&192|v;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gk=function(n){const t=tR(n);return eR.encodeByteArray(t,!0)},nR=function(n){return Gk(n).replace(/\./g,"")},iR=function(n){try{return eR.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kk=()=>sR().__FIREBASE_DEFAULTS__,Qk=()=>{if(typeof process>"u"||typeof vb>"u")return;const n=vb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Yk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&iR(n[1]);return t&&JSON.parse(t)},ym=()=>{try{return Fk()||Kk()||Qk()||Yk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xk=n=>ym()?.emulatorHosts?.[n],rR=()=>ym()?.config,aR=n=>ym()?.[`_${n}`];class $k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Kl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oR(n){return(await fetch(n,{credentials:"include"})).ok}const wc={};function Wk(){const n={prod:[],emulator:[]};for(const t of Object.keys(wc))wc[t]?n.emulator.push(t):n.prod.push(t);return n}function Jk(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Tb=!1;function Zk(n,t){if(typeof window>"u"||typeof document>"u"||!Kl(window.location.host)||wc[n]===t||wc[n]||Tb)return;wc[n]=t;function e(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=Wk().prod.length>0;function u(){const S=document.getElementById(i);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function d(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Tb=!0,u()},S}function y(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=Jk(i),I=e("text"),V=document.getElementById(I)||document.createElement("span"),k=e("learnmore"),B=document.getElementById(k)||document.createElement("a"),X=e("preprendIcon"),$=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;h(K),y(B,k);const ot=p();d($,X),K.append($,V,B,ot),document.body.appendChild(K)}l?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function lR(){const n=ym()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s4(){const n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){return!lR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function r4(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const a4="FirebaseError";class Ls extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=a4,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?o4(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ls(a,h,i)}}function o4(n,t){return n.replace(l4,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const l4=/\{\$([^}]+)}/g;function u4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Wa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(Eb(l)&&Eb(u)){if(!Wa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function Eb(n){return n!==null&&typeof n=="object"}function ch(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function mc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function pc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function c4(n,t){const e=new h4(n,t);return e.subscribe.bind(e)}class h4{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");f4(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=dy),a.error===void 0&&(a.error=dy),a.complete===void 0&&(a.complete=dy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function dy(){}function Je(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ma="[DEFAULT]";class d4{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new $k;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(p4(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m4(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m4(n){return n===Ma?void 0:n}function p4(n){return n.instantiationMode==="EAGER"}class g4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new d4(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const y4={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},_4=Bt.INFO,v4={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},T4=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=v4[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pv{constructor(t){this.name=t,this._logLevel=_4,this._logHandler=T4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const E4=(n,t)=>t.some(e=>n instanceof e);let Sb,Ab;function S4(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A4(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fR=new WeakMap,Jy=new WeakMap,dR=new WeakMap,my=new WeakMap,gv=new WeakMap;function b4(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(Or(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&fR.set(e,n)}).catch(()=>{}),gv.set(t,n),t}function w4(n){if(Jy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Jy.set(n,t)}let Zy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Jy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dR.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function I4(n){Zy=n(Zy)}function R4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(py(this),t,...e);return dR.set(i,t.sort?t.sort():[t]),Or(i)}:A4().includes(n)?function(...t){return n.apply(py(this),t),Or(fR.get(this))}:function(...t){return Or(n.apply(py(this),t))}}function C4(n){return typeof n=="function"?R4(n):(n instanceof IDBTransaction&&w4(n),E4(n,S4())?new Proxy(n,Zy):n)}function Or(n){if(n instanceof IDBRequest)return b4(n);if(my.has(n))return my.get(n);const t=C4(n);return t!==n&&(my.set(n,t),gv.set(t,n)),t}const py=n=>gv.get(n);function x4(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=Or(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Or(u.result),d.oldVersion,d.newVersion,Or(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const D4=["get","getKey","getAll","getAllKeys","count"],V4=["put","add","delete","clear"],gy=new Map;function bb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gy.get(t))return gy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=V4.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||D4.includes(e)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&d.done]))[0]};return gy.set(t,l),l}I4(n=>({...n,get:(t,e,i)=>bb(t,e)||n.get(t,e,i),has:(t,e)=>!!bb(t,e)||n.has(t,e)}));class P4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(M4(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function M4(n){return n.getComponent()?.type==="VERSION"}const t_="@firebase/app",wb="0.14.6";const Ps=new pv("@firebase/app"),N4="@firebase/app-compat",O4="@firebase/analytics-compat",k4="@firebase/analytics",L4="@firebase/app-check-compat",U4="@firebase/app-check",B4="@firebase/auth",z4="@firebase/auth-compat",j4="@firebase/database",F4="@firebase/data-connect",q4="@firebase/database-compat",H4="@firebase/functions",G4="@firebase/functions-compat",K4="@firebase/installations",Q4="@firebase/installations-compat",Y4="@firebase/messaging",X4="@firebase/messaging-compat",$4="@firebase/performance",W4="@firebase/performance-compat",J4="@firebase/remote-config",Z4="@firebase/remote-config-compat",tL="@firebase/storage",eL="@firebase/storage-compat",nL="@firebase/firestore",iL="@firebase/ai",sL="@firebase/firestore-compat",rL="firebase",aL="12.6.0";const e_="[DEFAULT]",oL={[t_]:"fire-core",[N4]:"fire-core-compat",[k4]:"fire-analytics",[O4]:"fire-analytics-compat",[U4]:"fire-app-check",[L4]:"fire-app-check-compat",[B4]:"fire-auth",[z4]:"fire-auth-compat",[j4]:"fire-rtdb",[F4]:"fire-data-connect",[q4]:"fire-rtdb-compat",[H4]:"fire-fn",[G4]:"fire-fn-compat",[K4]:"fire-iid",[Q4]:"fire-iid-compat",[Y4]:"fire-fcm",[X4]:"fire-fcm-compat",[$4]:"fire-perf",[W4]:"fire-perf-compat",[J4]:"fire-rc",[Z4]:"fire-rc-compat",[tL]:"fire-gcs",[eL]:"fire-gcs-compat",[nL]:"fire-fst",[sL]:"fire-fst-compat",[iL]:"fire-vertex","fire-js":"fire-js",[rL]:"fire-js-all"};const Bd=new Map,lL=new Map,n_=new Map;function Ib(n,t){try{n.container.addComponent(t)}catch(e){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Al(n){const t=n.name;if(n_.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;n_.set(t,n);for(const e of Bd.values())Ib(e,n);for(const e of lL.values())Ib(e,n);return!0}function yv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function jn(n){return n==null?!1:n.settings!==void 0}const uL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new uh("app","Firebase",uL);class cL{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const Ql=aL;function mR(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:e_,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw kr.create("bad-app-name",{appName:String(a)});if(e||(e=rR()),!e)throw kr.create("no-options");const l=Bd.get(a);if(l){if(Wa(e,l.options)&&Wa(i,l.config))return l;throw kr.create("duplicate-app",{appName:a})}const u=new g4(a);for(const d of n_.values())u.addComponent(d);const h=new cL(e,i,u);return Bd.set(a,h),h}function hL(n=e_){const t=Bd.get(n);if(!t&&n===e_&&rR())return mR();if(!t)throw kr.create("no-app",{appName:n});return t}function Lr(n,t,e){let i=oL[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(u.join(" "));return}Al(new Ja(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const fL="firebase-heartbeat-database",dL=1,Fc="firebase-heartbeat-store";let yy=null;function pR(){return yy||(yy=x4(fL,dL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Fc)}catch(e){console.warn(e)}}}}).catch(n=>{throw kr.create("idb-open",{originalErrorMessage:n.message})})),yy}async function mL(n){try{const e=(await pR()).transaction(Fc),i=await e.objectStore(Fc).get(gR(n));return await e.done,i}catch(t){if(t instanceof Ls)Ps.warn(t.message);else{const e=kr.create("idb-get",{originalErrorMessage:t?.message});Ps.warn(e.message)}}}async function Rb(n,t){try{const i=(await pR()).transaction(Fc,"readwrite");await i.objectStore(Fc).put(t,gR(n)),await i.done}catch(e){if(e instanceof Ls)Ps.warn(e.message);else{const i=kr.create("idb-set",{originalErrorMessage:e?.message});Ps.warn(i.message)}}}function gR(n){return`${n.name}!${n.options.appId}`}const pL=1024,gL=30;class yL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vL(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>gL){const a=TL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cb(),{heartbeatsToSend:e,unsentEntries:i}=_L(this._heartbeatsCache.heartbeats),a=nR(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ps.warn(t),""}}}function Cb(){return new Date().toISOString().substring(0,10)}function _L(n,t=pL){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),xb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),xb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class vL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?r4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mL(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function xb(n){return nR(JSON.stringify({version:2,heartbeats:n})).length}function TL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function EL(n){Al(new Ja("platform-logger",t=>new P4(t),"PRIVATE")),Al(new Ja("heartbeat",t=>new yL(t),"PRIVATE")),Lr(t_,wb,n),Lr(t_,wb,"esm2020"),Lr("fire-js","")}EL("");var SL="firebase",AL="12.7.0";Lr(SL,AL,"app");var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ur,yR;(function(){var n;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,P,U){for(var x=Array(arguments.length-2),re=2;re<arguments.length;re++)x[re-2]=arguments[re];return w.prototype[P].apply(N,x)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var P=0;P<16;++P)N[P]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(P=0;P<16;++P)N[P]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],P=R.g[2];let U=R.g[3],x;x=w+(U^C&(P^U))+N[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(P^w&(C^P))+N[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(C^U&(w^C))+N[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(w^P&(U^w))+N[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=w+(U^C&(P^U))+N[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(P^w&(C^P))+N[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(C^U&(w^C))+N[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(w^P&(U^w))+N[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=w+(U^C&(P^U))+N[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(P^w&(C^P))+N[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(C^U&(w^C))+N[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(w^P&(U^w))+N[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=w+(U^C&(P^U))+N[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(P^w&(C^P))+N[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=P+(C^U&(w^C))+N[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(w^P&(U^w))+N[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=w+(P^U&(C^P))+N[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(w^C))+N[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^C&(U^w))+N[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(P^U))+N[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(C^P))+N[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(w^C))+N[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^C&(U^w))+N[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(P^U))+N[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(C^P))+N[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(w^C))+N[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^C&(U^w))+N[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(P^U))+N[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=w+(P^U&(C^P))+N[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(w^C))+N[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=P+(w^C&(U^w))+N[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(P^U))+N[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=w+(C^P^U)+N[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^P)+N[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^C)+N[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^w)+N[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=w+(C^P^U)+N[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^P)+N[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^C)+N[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^w)+N[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=w+(C^P^U)+N[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^P)+N[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^C)+N[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^w)+N[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=w+(C^P^U)+N[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^P)+N[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=P+(U^w^C)+N[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^w)+N[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=w+(P^(C|~U))+N[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~P))+N[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~C))+N[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~w))+N[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=w+(P^(C|~U))+N[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~P))+N[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~C))+N[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~w))+N[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=w+(P^(C|~U))+N[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~P))+N[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~C))+N[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~w))+N[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=w+(P^(C|~U))+N[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~P))+N[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=P+(w^(U|~C))+N[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let P=this.h,U=0;for(;U<w;){if(P==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(N[P++]=R.charCodeAt(U++),P==this.blockSize){a(this,N),P=0;break}}else for(;U<w;)if(N[P++]=R[U++],P==this.blockSize){a(this,N),P=0;break}}this.h=P,this.o+=w},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function l(R,w){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function u(R,w){this.h=w;const C=[];let N=!0;for(let P=R.length-1;P>=0;P--){const U=R[P]|0;N&&U==w||(C[P]=U,N=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?l(R,function(w){return new u([w|0],w<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return B(p(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new u(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return B(y(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let N=v;for(let U=0;U<R.length;U+=8){var P=Math.min(8,R.length-U);const x=parseInt(R.substring(U,U+P),w);P<8?(P=p(Math.pow(w,P)),N=N.j(P).add(p(x))):(N=N.j(C),N=N.add(p(x)))}return N}var v=d(0),S=d(1),I=d(16777216);n=u.prototype,n.m=function(){if(k(this))return-B(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(k(this))return"-"+B(this).toString(R);const w=p(Math.pow(R,6));var C=this;let N="";for(;;){const P=ot(C,w).g;C=X(C,P.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,V(C))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function k(R){return R.h==-1}n.l=function(R){return R=X(this,R),k(R)?-1:V(R)?0:1};function B(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new u(C,~R.h).add(S)}n.abs=function(){return k(this)?B(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let P=0;P<=w;P++){let U=N+(this.i(P)&65535)+(R.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);N=x>>>16,U&=65535,x&=65535,C[P]=x<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function X(R,w){return R.add(B(w))}n.j=function(R){if(V(this)||V(R))return v;if(k(this))return k(R)?B(this).j(B(R)):B(B(this).j(R));if(k(R))return B(this.j(B(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<R.g.length;P++){const U=this.i(N)>>>16,x=this.i(N)&65535,re=R.i(P)>>>16,ye=R.i(P)&65535;C[2*N+2*P]+=x*ye,$(C,2*N+2*P),C[2*N+2*P+1]+=U*ye,$(C,2*N+2*P+1),C[2*N+2*P+1]+=x*re,$(C,2*N+2*P+1),C[2*N+2*P+2]+=U*re,$(C,2*N+2*P+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new u(C,0)};function $(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function K(R,w){this.g=R,this.h=w}function ot(R,w){if(V(w))throw Error("division by zero");if(V(R))return new K(v,v);if(k(R))return w=ot(B(R),w),new K(B(w.g),B(w.h));if(k(w))return w=ot(R,B(w)),new K(B(w.g),w.h);if(R.g.length>30){if(k(R)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,N=w;N.l(R)<=0;)C=at(C),N=at(N);var P=lt(C,1),U=lt(N,1);for(N=lt(N,2),C=lt(C,2);!V(N);){var x=U.add(N);x.l(R)<=0&&(P=P.add(C),U=x),N=lt(N,1),C=lt(C,1)}return w=X(R,P.j(w)),new K(P,w)}for(P=v;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=p(C),x=U.j(w);k(x)||x.l(R)>0;)C-=N,U=p(C),x=U.j(w);V(U)&&(U=S),P=P.add(U),R=X(R,x)}return new K(P,R)}n.B=function(R){return ot(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new u(C,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new u(C,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new u(C,this.h^R.h)};function at(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new u(C,R.h)}function lt(R,w){const C=w>>5;w%=32;const N=R.g.length-C,P=[];for(let U=0;U<N;U++)P[U]=w>0?R.i(U+C)>>>w|R.i(U+C+1)<<32-w:R.i(U+C);return new u(P,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,yR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ur=u}).apply(typeof Db<"u"?Db:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _R,gc,vR,gd,i_,TR,ER,SR;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var E=i;f=f.split(".");for(var b=0;b<f.length-1;b++){var F=f[b];if(!(F in E))break t;E=E[F]}f=f[f.length-1],b=E[f],_=_(b),_!=b&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],b;for(b in _)Object.prototype.hasOwnProperty.call(_,b)&&E.push([b,_[b]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),f.apply(this,b)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(b,F,Q){for(var ct=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ct[Ct-2]=arguments[Ct];return _.prototype[F].apply(b,ct)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const E=Array(_);for(let b=0;b<_;b++)E[b]=f[b];return E}return[]}function V(f,_){for(let b=1;b<arguments.length;b++){const F=arguments[b];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=f.length||0;const Q=F.length||0;f.length=E+Q;for(let ct=0;ct<Q;ct++)f[E+ct]=F[ct]}else f.push(F)}}class k{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(f){u.setTimeout(()=>{throw f},0)}function X(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,E){const b=K.get();b.set(_,E),this.h?this.h.next=b:this.g=b,this.h=b}}var K=new k(()=>new ot,f=>f.reset());class ot{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,lt=!1,R=new $,w=()=>{const f=Promise.resolve(void 0);at=()=>{f.then(C)}};function C(){for(var f;f=X();){try{f.h.call(f.g)}catch(E){B(E)}var _=K;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}lt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function x(f){return/^[\s\xa0]*$/.test(f)}function re(f,_){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(re,P),re.prototype.init=function(f,_){const E=this.type=f.type,b=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),Z=0;function rt(f,_,E,b,F){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!b,this.ha=F,this.key=++Z,this.da=this.fa=!1}function mt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,E){for(const b in f)_.call(E,f[b],b,f)}function kt(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function O(f){const _={};for(const E in f)_[E]=f[E];return _}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let E,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(E in b)f[E]=b[E];for(let Q=0;Q<nt.length;Q++)E=nt[Q],Object.prototype.hasOwnProperty.call(b,E)&&(f[E]=b[E])}}function dt(f){this.src=f,this.g={},this.h=0}dt.prototype.add=function(f,_,E,b,F){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const ct=Vt(f,_,b,F);return ct>-1?(_=f[ct],E||(_.fa=!1)):(_=new rt(_,this.src,Q,!!b,F),_.fa=E,f.push(_)),_};function wt(f,_){const E=_.type;if(E in f.g){var b=f.g[E],F=Array.prototype.indexOf.call(b,_,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(b,F,1),Q&&(mt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Vt(f,_,E,b){for(let F=0;F<f.length;++F){const Q=f[F];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==b)return F}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Fe={};function ce(f,_,E,b,F){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)ce(f,_[Q],E,b,F);return null}return E=iu(E),f&&f[ye]?f.J(_,E,h(b)?!!b.capture:!1,F):Zr(f,_,E,!1,b,F)}function Zr(f,_,E,b,F,Q){if(!_)throw Error("Invalid event type");const ct=h(F)?!!F.capture:!!F;let Ct=ta(f);if(Ct||(f[Ft]=Ct=new dt(f)),E=Ct.add(_,E,b,ct,Q),E.proxy)return E;if(b=lo(),E.proxy=b,b.src=f,b.listener=E,f.addEventListener)U||(F=ct),F===void 0&&(F=!1),f.addEventListener(_.toString(),b,F);else if(f.attachEvent)f.attachEvent(Ii(_.toString()),b);else if(f.addListener&&f.removeListener)f.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function lo(){function f(E){return _.call(f.src,f.listener,E)}const _=eu;return f}function uo(f,_,E,b,F){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)uo(f,_[Q],E,b,F);else b=h(b)?!!b.capture:!!b,E=iu(E),f&&f[ye]?(f=f.i,Q=String(_).toString(),Q in f.g&&(_=f.g[Q],E=Vt(_,E,b,F),E>-1&&(mt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[Q],f.h--)))):f&&(f=ta(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,E,b,F)),(E=f>-1?_[f]:null)&&co(E))}function co(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ye])wt(_.i,f);else{var E=f.type,b=f.proxy;_.removeEventListener?_.removeEventListener(E,b,f.capture):_.detachEvent?_.detachEvent(Ii(E),b):_.addListener&&_.removeListener&&_.removeListener(b),(E=ta(_))?(wt(E,f),E.h==0&&(E.src=null,_[Ft]=null)):mt(f)}}}function Ii(f){return f in Fe?Fe[f]:Fe[f]="on"+f}function eu(f,_){if(f.da)f=!0;else{_=new re(_,this);const E=f.listener,b=f.ha||f.src;f.fa&&co(f),f=E.call(b,_)}return f}function ta(f){return f=f[Ft],f instanceof dt?f:null}var nu="__closure_events_fn_"+(Math.random()*1e9>>>0);function iu(f){return typeof f=="function"?f:(f[nu]||(f[nu]=function(_){return f.handleEvent(_)}),f[nu])}function De(){N.call(this),this.i=new dt(this),this.M=this,this.G=null}v(De,N),De.prototype[ye]=!0,De.prototype.removeEventListener=function(f,_,E,b){uo(this,f,_,E,b)};function qe(f,_){var E,b=f.G;if(b)for(E=[];b;b=b.G)E.push(b);if(f=f.M,b=_.type||_,typeof _=="string")_=new P(_,f);else if(_ instanceof P)_.target=_.target||f;else{var F=_;_=new P(b,f),ft(_,F)}F=!0;let Q,ct;if(E)for(ct=E.length-1;ct>=0;ct--)Q=_.g=E[ct],F=Hs(Q,b,!0,_)&&F;if(Q=_.g=f,F=Hs(Q,b,!0,_)&&F,F=Hs(Q,b,!1,_)&&F,E)for(ct=0;ct<E.length;ct++)Q=_.g=E[ct],F=Hs(Q,b,!1,_)&&F}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let b=0;b<E.length;b++)mt(E[b]);delete f.g[_],f.h--}}this.G=null},De.prototype.J=function(f,_,E,b){return this.i.add(String(f),_,!1,E,b)},De.prototype.K=function(f,_,E,b){return this.i.add(String(f),_,!0,E,b)};function Hs(f,_,E,b){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let Q=0;Q<_.length;++Q){const ct=_[Q];if(ct&&!ct.da&&ct.capture==E){const Ct=ct.listener,Ae=ct.ha||ct.src;ct.fa&&wt(f.i,ct),F=Ct.call(Ae,b)!==!1&&F}}return F&&!b.defaultPrevented}function Ym(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Ah(f){f.g=Ym(()=>{f.g=null,f.i&&(f.i=!1,Ah(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class gn extends N{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ah(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(f){N.call(this),this.h=f,this.g={}}v(ea,N);var su=[];function ru(f){Dt(f.g,function(_,E){this.g.hasOwnProperty(E)&&co(_)},f),f.g={}}ea.prototype.N=function(){ea.Z.N.call(this),ru(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=u.JSON.stringify,Xm=u.JSON.parse,bh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function wh(){}function Ih(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){P.call(this,"d")}v(Ze,P);function Gn(){P.call(this,"c")}v(Gn,P);var Se={},Rh=null;function ho(){return Rh=Rh||new De}Se.Ia="serverreachability";function Ch(f){P.call(this,Se.Ia,f)}v(Ch,P);function Ri(f){const _=ho();qe(_,new Ch(_))}Se.STAT_EVENT="statevent";function na(f,_){P.call(this,Se.STAT_EVENT,f),this.stat=_}v(na,P);function Ve(f){const _=ho();qe(_,new na(_,f))}Se.Ja="timingevent";function Ci(f,_){P.call(this,Se.Ja,f),this.size=_}v(Ci,P);function xi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function $m(f,_,E,b,F,Q){f.info(function(){if(f.g)if(Q){var ct="",Ct=Q.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var Ae=Ct[Kt].split("=");if(Ae.length>1){const he=Ae[0];Ae=Ae[1];const Xn=he.split("_");ct=Xn.length>=2&&Xn[1]=="type"?ct+(he+"="+Ae+"&"):ct+(he+"=redacted&")}}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+_+`
`+E+`
`+ct})}function xh(f,_,E,b,F,Q,ct){f.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+_+`
`+E+`
`+Q+" "+ct})}function Di(f,_,E,b){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wm(f,E)+(b?" "+b:"")})}function ia(f,_){f.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Wm(f,_){if(!f.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var E=Q[f];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ct=1;ct<b.length;ct++)b[ct]=""}}}}return Gs(Q)}catch{return _}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},au={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ou;function ra(){}v(ra,wh),ra.prototype.g=function(){return new XMLHttpRequest},ou=new ra;function os(f){return encodeURIComponent(String(f))}function Dh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function ci(f,_,E,b){this.j=f,this.i=_,this.l=E,this.S=b||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Pe={},Ye={};function Vi(f,_,E){f.M=1,f.A=aa(Ne(_)),f.u=E,f.R=!0,fo(f,null)}function fo(f,_){f.F=Date.now(),Pi(f),f.B=Ne(f.A);var E=f.B,b=f.S;Array.isArray(b)||(b=[String(b)]),yo(E.i,"t",b),f.C=0,E=f.j.L,f.h=new hi,f.g=Gh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new gn(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,b=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(su[0]=F.toString()),F=su);for(let Q=0;Q<F.length;Q++){const ct=ce(E,F[Q],b||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ri(),$m(f.i,f.v,f.B,f.l,f.S,f.u)}ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&mi(f)==3?_.j():this.Y(f)},ci.prototype.Y=function(f){try{if(f==this.g)t:{const Ct=mi(this.g),Ae=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ct!=4||Ae==7||(Ae==8||Kt<=0?Ri(3):Ri(2)),Mi(this);var _=this.g.ca();this.X=_;var E=Jm(this);if(this.o=_==200,xh(this.i,this.v,this.B,this.l,this.S,Ct,_),this.o){if(this.U&&!this.L){e:{if(this.g){var b,F=this.g;if((b=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var Q=b;break e}}Q=null}if(f=Q)Di(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,f);else{this.o=!1,this.m=3,Ve(12),Vn(this),Kn(this);break t}}if(this.R){f=!0;let he;for(;!this.K&&this.C<E.length;)if(he=Ph(this,E),he==Ye){Ct==4&&(this.m=4,Ve(14),f=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Pe){this.m=4,Ve(15),Di(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Di(this.i,this.l,he,null),Ni(this,he);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Di(this.i,this.l,E,"[Invalid Chunked Response]"),Vn(this),Kn(this);else if(E.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Su(ct),ct.P=!0,Ve(11))}}else Di(this.i,this.l,E,null),Ni(this,E);Ct==4&&Vn(this),this.o&&!this.K&&(Ct==4?jh(this.j,this):(this.o=!1,Pi(this)))}else us(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Vn(this),Kn(this)}}}catch{}};function Jm(f){if(!Vh(f))return f.g.la();const _=tn(f.g);if(_==="")return"";let E="";const b=_.length,F=mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vn(f),Kn(f),"";f.h.i=new u.TextDecoder}for(let Q=0;Q<b;Q++)f.h.h=!0,E+=f.h.i.decode(_[Q],{stream:!(F&&Q==b-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Vh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ph(f,_){var E=f.C,b=_.indexOf(`
`,E);return b==-1?Ye:(E=Number(_.substring(E,b)),isNaN(E)?Pe:(b+=1,b+E>_.length?Ye:(_=_.slice(b,b+E),f.C=b+E,_)))}ci.prototype.cancel=function(){this.K=!0,Vn(this)};function Pi(f){f.T=Date.now()+f.H,mo(f,f.H)}function mo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=xi(p(f.aa,f),_)}function Mi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ia(this.i,this.B),this.M!=2&&(Ri(),Ve(17)),Vn(this),this.m=2,Kn(this)):mo(this,this.T-f)};function Kn(f){f.j.I==0||f.K||jh(f.j,f)}function Vn(f){Mi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,ru(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Ni(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||ki(E.h,f))){if(!f.L&&ki(E.h,f)&&E.I==3){try{var b=E.Ba.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)So(E),Zs(E);else break t;da(E),Ve(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=xi(p(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((f.L||E.g==f)&&So(E),!x(_))for(F=E.Ba.g.parse(_),_=0;_<F.length;_++){let Kt=F[_];const he=Kt[0];if(!(he<=E.K))if(E.K=he,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const Xn=Kt[3];Xn!=null&&(E.ka=Xn,E.j.info("VER="+E.ka));const qi=Kt[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const pi=Kt[5];pi!=null&&typeof pi=="number"&&pi>0&&(b=1.5*pi,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const gi=f.g;if(gi){const ma=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var Q=b.h;Q.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cu(Q,Q.h),Q.h=null))}if(b.G){const Ao=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(b.wa=Ao,Xt(b.J,b.G,Ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ct=f;if(b.na=Hh(b,b.L?b.ba:null,b.W),ct.L){hu(b.h,ct);var Ct=ct,Ae=b.O;Ae&&(Ct.H=Ae),Ct.D&&(Mi(Ct),Pi(Ct)),b.g=ct}else Bh(b);E.i.length>0&&ji(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Fi(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Fi(E,7):Tu(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}Ri(4)}catch{}}var Me=class{constructor(f,_){this.g=f,this.map=_}};function lu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oi(f){return f.h?1:f.g?f.g.size:0}function ki(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function cu(f,_){f.g?f.g.add(_):f.h=_}function hu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}lu.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return I(f.i)}var Mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const b=f[E].indexOf("=");let F,Q=null;b>=0?(F=f[E].substring(0,b),Q=f[E].substring(b+1)):F=f[E],_(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Pn?(this.l=f.l,Xe(this,f.j),this.o=f.o,this.g=f.g,Ks(this,f.u),this.h=f.h,du(this,Lh(f.i)),this.m=f.m):f&&(_=String(f).match(Mh))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=Li(_[2]||""),this.g=Li(_[3]||"",!0),Ks(this,_[4]),this.h=Li(_[5]||"",!0),du(this,_[6]||"",!0),this.m=Li(_[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Pn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(oa(_,go,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(oa(_,go,!0),"@"),f.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(oa(E,E.charAt(0)=="/"?mu:Nh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",oa(E,Oh)),f.join("")},Pn.prototype.resolve=function(f){const _=Ne(this);let E=!!f.j;E?Xe(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var b=f.h;if(E)Ks(_,f.u);else if(E=!!f.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var F=_.h.lastIndexOf("/");F!=-1&&(b=_.h.slice(0,F+1)+b)}if(F=b,F==".."||F==".")b="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){b=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ct=0;ct<F.length;){const Ct=F[ct++];Ct=="."?b&&ct==F.length&&Q.push(""):Ct==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),b&&ct==F.length&&Q.push("")):(Q.push(Ct),b=!0)}b=Q.join("/")}else b=F}return E?_.h=b:E=f.i.toString()!=="",E?du(_,Lh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Ne(f){return new Pn(f)}function Xe(f,_,E){f.j=E?Li(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ks(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function du(f,_,E){_ instanceof Ys?(f.i=_,_o(f.i,f.l)):(E||(_=oa(_,Qs)),f.i=new Ys(_,f.l))}function Xt(f,_,E){f.i.set(_,E)}function aa(f){return Xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Li(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function oa(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,En),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var go=/[#\/\?@]/g,Nh=/[#\?:]/g,mu=/[#\?]/g,Qs=/[#\?@]/g,Oh=/#/g;function Ys(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&po(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ys.prototype,n.add=function(f,_){Sn(this),this.i=null,f=Xs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function kh(f,_){Sn(f),_=Xs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function pu(f,_){return Sn(f),_=Xs(f,_),f.g.has(_)}n.forEach=function(f,_){Sn(this),this.g.forEach(function(E,b){E.forEach(function(F){f.call(_,F,b,this)},this)},this)};function gu(f,_){Sn(f);let E=[];if(typeof _=="string")pu(f,_)&&(E=E.concat(f.g.get(Xs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}n.set=function(f,_){return Sn(this),this.i=null,f=Xs(this,f),pu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=gu(this,f),f.length>0?String(f[0]):_):_};function yo(f,_,E){kh(f,_),E.length>0&&(f.i=null,f.g.set(Xs(f,_),I(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let b=0;b<_.length;b++){var E=_[b];const F=os(E);E=gu(this,E);for(let Q=0;Q<E.length;Q++){let ct=F;E[Q]!==""&&(ct+="="+os(E[Q])),f.push(ct)}}return this.i=f.join("&")};function Lh(f){const _=new Ys;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Xs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function _o(f,_){_&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(E,b){const F=b.toLowerCase();b!=F&&(kh(this,b),yo(this,F,E))},f)),f.j=_}function fi(f,_){const E=new ui;if(u.Image){const b=new Image;b.onload=y(Qn,E,"TestLoadImage: loaded",!0,_,b),b.onerror=y(Qn,E,"TestLoadImage: error",!1,_,b),b.onabort=y(Qn,E,"TestLoadImage: abort",!1,_,b),b.ontimeout=y(Qn,E,"TestLoadImage: timeout",!1,_,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=f}else _(!1)}function yu(f,_){const E=new ui,b=new AbortController,F=setTimeout(()=>{b.abort(),Qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:b.signal}).then(Q=>{clearTimeout(F),Q.ok?Qn(E,"TestPingServer: ok",!0,_):Qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Qn(E,"TestPingServer: error",!1,_)})}function Qn(f,_,E,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(E)}catch{}}function $s(){this.g=new bh}function Ui(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ui,wh),Ui.prototype.g=function(){return new la(this.i,this.h)};function la(f,_){De.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(la,De),n=la.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,di(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ws(this):di(this),this.readyState==3&&vo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ws(this))},n.Na=function(f){this.g&&(this.response=f,Ws(this))},n.ga=function(){this.g&&Ws(this)};function Ws(f){f.readyState=4,f.l=null,f.j=null,f.B=null,di(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yn(f){let _="";return Dt(f,function(E,b){_+=b,_+=":",_+=E,_+=`\r
`}),_}function ua(f,_,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Yn(E),typeof f=="string"?E!=null&&os(E):Xt(f,_,E))}function ee(f){De.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ee,De);var Bi=/^https?$/i,_u=["POST","PUT"];n=ee.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ou.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){ca(this,Q);return}if(f=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)E.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())E.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(_u,_,void 0)>=0)||b||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of E)this.g.setRequestHeader(Q,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){ca(this,Q)}};function ca(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,vu(f),ls(f)}function vu(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},n.Xa=function(){ha(this)};function ha(f){if(f.h&&typeof l<"u"){if(f.v&&mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),mi(f)==4){f.h=!1;try{const Q=f.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var b;if(b=Q===0){let ct=String(f.D).match(Mh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),b=!Bi.test(ct?ct.toLowerCase():"")}E=b}if(E)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var F=mi(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",vu(f)}}finally{ls(f)}}}}function ls(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||qe(f,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Xm(_)}};function tn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function us(f){const _={};f=(f.g&&mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<f.length;b++){if(x(f[b]))continue;var E=Dh(f[b]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[F]||[];_[F]=Q,Q.push(E)}kt(_,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Js(f){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,f),this.Za=zi("retryDelaySeedMs",1e4,f),this.Ta=zi("forwardChannelMaxRetries",2,f),this.va=zi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new lu(f&&f.concurrentRequestLimit),this.Ba=new $s,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Js.prototype,n.ka=8,n.I=1,n.connect=function(f,_,E,b){Ve(0),this.W=f,this.H=_||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Hh(this,null,this.W),ji(this)};function Tu(f){if(To(f),f.I==3){var _=f.V++,E=Ne(f.J);if(Xt(E,"SID",f.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),fa(f,E),_=new ci(f,f.j,_),_.M=2,_.A=aa(Ne(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Gh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}qh(f)}function Zs(f){f.g&&(Su(f),f.g.cancel(),f.g=null)}function To(f){Zs(f),f.v&&(u.clearTimeout(f.v),f.v=null),So(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ji(f){if(!uu(f.h)&&!f.m){f.m=!0;var _=f.Ea;at||w(),lt||(at(),lt=!0),R.add(_,f),f.D=0}}function Eo(f,_){return Oi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=xi(p(f.Ea,f,_),Fh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new ci(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=O(Q),ft(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(_+=b,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Uh(this,F,_),E=Ne(this.J),Xt(E,"RID",f),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),fa(this,E),Q&&(this.R?_="headers="+os(Yn(Q))+"&"+_:this.u&&ua(E,this.u,Q)),cu(this.h,F),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),F.U=!0,Vi(F,E,null)):Vi(F,E,_),this.I=2}}else this.I==3&&(f?Eu(this,f):this.i.length==0||uu(this.h)||Eu(this))};function Eu(f,_){var E;_?E=_.l:E=f.V++;const b=Ne(f.J);Xt(b,"SID",f.M),Xt(b,"RID",E),Xt(b,"AID",f.K),fa(f,b),f.u&&f.o&&ua(b,f.u,f.o),E=new ci(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Uh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),cu(f.h,E),Vi(E,b,_)}function fa(f,_){f.H&&Dt(f.H,function(E,b){Xt(_,b,E)}),f.l&&Dt({},function(E,b){Xt(_,b,E)})}function Uh(f,_,E){E=Math.min(f.i.length,E);const b=f.l?p(f.l.Ka,f.l,f):null;t:{var F=f.i;let Ct=-1;for(;;){const Ae=["count="+E];Ct==-1?E>0?(Ct=F[0].g,Ae.push("ofs="+Ct)):Ct=0:Ae.push("ofs="+Ct);let Kt=!0;for(let he=0;he<E;he++){var Q=F[he].g;const Xn=F[he].map;if(Q-=Ct,Q<0)Ct=Math.max(0,F[he].g-100),Kt=!1;else try{Q="req"+Q+"_"||"";try{var ct=Xn instanceof Map?Xn:Object.entries(Xn);for(const[qi,pi]of ct){let gi=pi;h(pi)&&(gi=Gs(pi)),Ae.push(Q+qi+"="+encodeURIComponent(gi))}}catch(qi){throw Ae.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{b&&b(Xn)}}if(Kt){ct=Ae.join("&");break t}}ct=void 0}return f=f.i.splice(0,E),_.G=f,ct}function Bh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;at||w(),lt||(at(),lt=!0),R.add(_,f),f.A=0}}function da(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=xi(p(f.Da,f),Fh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=xi(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Zs(this),zh(this))};function Su(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function zh(f){f.g=new ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ne(f.na);Xt(_,"RID","rpc"),Xt(_,"SID",f.M),Xt(_,"AID",f.K),Xt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xt(_,"TO",f.ia),Xt(_,"TYPE","xmlhttp"),fa(f,_),f.u&&f.o&&ua(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=aa(Ne(_)),E.u=null,E.R=!0,fo(E,f)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),da(this),Ve(19))};function So(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function jh(f,_){var E=null;if(f.g==_){So(f),Su(f),f.g=null;var b=2}else if(ki(f.h,_))E=_.G,hu(f.h,_),b=1;else return;if(f.I!=0){if(_.o)if(b==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var F=f.D;b=ho(),qe(b,new Ci(b,E)),ji(f)}else Bh(f);else if(F=_.m,F==3||F==0&&_.X>0||!(b==1&&Eo(f,_)||b==2&&da(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),F){case 1:Fi(f,5);break;case 4:Fi(f,10);break;case 3:Fi(f,6);break;default:Fi(f,2)}}}function Fh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function Fi(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),b=f.Ua;const F=!b;b=new Pn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xe(b,"https"),aa(b),F?fi(b.toString(),E):yu(b.toString(),E)}else Ve(2);f.I=0,f.l&&f.l.pa(_),qh(f),To(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function qh(f){if(f.I=0,f.ja=[],f.l){const _=fu(f.h);(_.length!=0||f.i.length!=0)&&(V(f.ja,_),V(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function Hh(f,_,E){var b=E instanceof Pn?Ne(E):new Pn(E);if(b.g!="")_&&(b.g=_+"."+b.g),Ks(b,b.u);else{var F=u.location;b=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const Q=new Pn(null);b&&Xe(Q,b),_&&(Q.g=_),F&&Ks(Q,F),E&&(Q.h=E),b=Q}return E=f.G,_=f.wa,E&&_&&Xt(b,E,_),Xt(b,"VER",f.ka),fa(f,b),b}function Gh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ee(new Ui({ab:E})):new ee(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}n=Kh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function tr(){}tr.prototype.g=function(f,_){return new yn(f,_)};function yn(f,_){De.call(this),this.g=new Js(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!x(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new cs(this)}v(yn,De),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Tu(this.g)},yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Gs(f),f=E);_.i.push(new Me(_.Ya++,f)),_.I==3&&ji(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,yn.Z.N.call(this)};function Qh(f){Ze.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Qh,Ze);function Yh(){Gn.call(this),this.status=1}v(Yh,Gn);function cs(f){this.g=f}v(cs,Kh),cs.prototype.ra=function(){qe(this.g,"a")},cs.prototype.qa=function(f){qe(this.g,new Qh(f))},cs.prototype.pa=function(f){qe(this.g,new Yh)},cs.prototype.oa=function(){qe(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,SR=function(){return new tr},ER=function(){return ho()},TR=Se,i_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,gd=sa,au.COMPLETE="complete",vR=au,Ih.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",De.prototype.listen=De.prototype.J,gc=Ih,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,_R=ee}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",Pb="4.9.3";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Yl="12.7.0";const Za=new pv("@firebase/firestore");function rl(){return Za.logLevel}function it(n,...t){if(Za.logLevel<=Bt.DEBUG){const e=t.map(_v);Za.debug(`Firestore (${Yl}): ${n}`,...e)}}function Ie(n,...t){if(Za.logLevel<=Bt.ERROR){const e=t.map(_v);Za.error(`Firestore (${Yl}): ${n}`,...e)}}function qc(n,...t){if(Za.logLevel<=Bt.WARN){const e=t.map(_v);Za.warn(`Firestore (${Yl}): ${n}`,...e)}}function _v(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function pt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,AR(n,i,e)}function AR(n,t,e){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ie(i),new Error(i)}function vt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||AR(t,a,i)}function yt(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ls{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class bL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class IL{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){vt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let l=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xs,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xs)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new bL(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class RL{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CL{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new RL(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){vt(this.o===void 0,3512);const i=l=>{l.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,it("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(vt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Mb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DL(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class vv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=DL(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function s_(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return _y(a)===_y(l)?It(a,l):_y(a)?1:-1}return It(n.length,t.length)}const VL=55296,PL=57343;function _y(n){const t=n.charCodeAt(0);return t>=VL&&t<=PL}function bl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function bR(n){return n+"\0"}const Nb="__name__";class Yi{constructor(t,e,i){e===void 0?e=0:e>t.length&&pt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&pt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Yi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=Yi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=Yi.isNumericId(t),a=Yi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Yi.extractNumericId(t).compare(Yi.extractNumericId(e)):s_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class Yt extends Yi{construct(t,e,i){return new Yt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Yt(e)}static emptyPath(){return new Yt([])}}const ML=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ge extends Yi{construct(t,e,i){return new ge(t,e,i)}static isValidIdentifier(t){return ML.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nb}static keyField(){return new ge([Nb])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ge(e)}static emptyPath(){return new ge([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Yt.fromString(t))}static fromName(t){return new ht(Yt.fromString(t).popFirst(5))}static empty(){return new ht(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Yt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Yt(t.slice()))}}function wR(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NL(n,t,e,i){if(t===!0&&i===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ob(n){if(!ht.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kb(n){if(ht.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":pt(12329,{type:typeof n})}function bi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_m(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function je(n,t){const e={typeString:n};return t&&(e.value=t),e}function hh(n,t){if(!IR(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const Lb=-62135596800,Ub=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ub);return new Jt(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Lb)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ub}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hh(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:je("string",Jt._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Jt(0,0))}static max(){return new Et(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wl=-1;class zd{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function r_(n){return n.fields.find((t=>t.kind===2))}function Na(n){return n.fields.filter((t=>t.kind!==2))}zd.UNKNOWN_ID=-1;class yd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Hc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Hc(0,Hn.min())}}function RR(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new Jt(e+1,0):new Jt(e,i));return new Hn(a,ht.empty(),t)}function CR(n){return new Hn(n.readTime,n.key,wl)}class Hn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Hn(Et.min(),ht.empty(),wl)}static max(){return new Hn(Et.max(),ht.empty(),wl)}}function Tv(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Xr(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==xR)throw n;it("LocalStore","Unexpectedly lost primary lease")}class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new j(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof j?e:j.resolve(e)}catch(e){return j.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):j.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):j.reject(e)}static resolve(t){return new j(((e,i)=>{e(t)}))}static reject(t){return new j(((e,i)=>{i(t)}))}static waitFor(t){return new j(((e,i)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(d=>i(d)))})),u=!0,l===a&&e()}))}static or(t){let e=j.resolve(!1);for(const i of t)e=e.next((a=>a?j.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new j(((i,a)=>{const l=t.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;e(t[p]).next((y=>{u[p]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new j(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const zn="SimpleDb";class vm{static open(t,e,i,a){try{return new vm(e,t.transaction(a,i))}catch(l){throw new Ic(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new xs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Ic(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=Ev(i.target.error);this.S.reject(new Ic(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(it(zn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new kL(e)}}class Br{static delete(t){return it(zn,"Removing database:",t),ka(sR().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!hR())return!1;if(Br.F())return!0;const t=Ke(),e=Br.M(t),i=0<e&&e<10,a=VR(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Br.M(Ke())===12.2&&Ie("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(it(zn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Ic(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ut(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ut(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Ic(t,u))},a.onupgradeneeded=l=>{it(zn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{it(zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=vm.open(this.db,t,l?"readonly":"readwrite",i),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),j.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(it(zn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class OL{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return ka(this.U.delete())}}class Ic extends ut{constructor(t,e){super(J.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function $r(n){return n.name==="IndexedDbTransactionError"}class kL{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(it(zn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(it(zn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ka(i)}add(t){return it(zn,"ADD",this.store.name,t,t),ka(this.store.add(t))}get(t){return ka(this.store.get(t)).next((e=>(e===void 0&&(e=null),it(zn,"GET",this.store.name,t,e),e)))}delete(t){return it(zn,"DELETE",this.store.name,t),ka(this.store.delete(t))}count(){return it(zn,"COUNT",this.store.name),ka(this.store.count())}J(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new j(((u,h)=>{l.onerror=d=>{h(d.target.error)},l.onsuccess=d=>{u(d.target.result)}}))}{const l=this.cursor(i),u=[];return this.H(l,((h,d)=>{u.push(d)})).next((()=>u))}}Y(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new j(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}Z(t,e){it(zn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const a=this.cursor(i);return this.H(a,((l,u,h)=>h.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.H(a,e)}te(t){const e=this.cursor({});return new j(((i,a)=>{e.onerror=l=>{const u=Ev(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}H(t,e){const i=[];return new j(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new OL(h),p=e(h.primaryKey,h.value,d);if(p instanceof j){const y=p.catch((v=>(d.done(),j.reject(v))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>j.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ka(n){return new j(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=Ev(i.target.error);e(a)}}))}let Bb=!1;function Ev(n){const t=Br.M(Ke());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bb||(Bb=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Rc="IndexBackfiller";class LL{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){it(Rc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();it(Rc,`Documents written: ${e}`)}catch(e){$r(e)?it(Rc,"Ignoring IndexedDB error during index backfill: ",e):await Xr(e)}await this.re(6e4)}))}}class UL{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return j.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return it(Rc,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(it(Rc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=CR(l);Tv(u,i)>0&&(i=u)})),new Hn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class xn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xn.ce=-1;const Ka=-1;function Tm(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function PR(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jd="";function pn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zb(t)),t=BL(n.get(e),t);return zb(t)}function BL(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case jd:e+="";break;default:e+=l}}return e}function zb(n){return n+jd+""}function Wi(n){const t=n.length;if(vt(t>=2,64408,{path:n}),t===2)return vt(n.charAt(0)===jd&&n.charAt(1)==="",56145,{path:n}),Yt.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(jd,l);switch((u<0||u>e)&&pt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:pt(61167,{path:n})}l=u+2}return new Yt(i)}const Oa="remoteDocuments",fh="owner",Zo="owner",Kc="mutationQueues",zL="userId",Si="mutations",jb="batchId",Fa="userMutationsIndex",Fb=["userId","batchId"];function _d(n,t){return[n,pn(t)]}function MR(n,t,e){return[n,pn(t),e]}const jL={},Il="documentMutations",Fd="remoteDocumentsV14",FL=["prefixPath","collectionGroup","readTime","documentId"],vd="documentKeyIndex",qL=["prefixPath","collectionGroup","documentId"],NR="collectionGroupIndex",HL=["collectionGroup","readTime","prefixPath","documentId"],Qc="remoteDocumentGlobal",a_="remoteDocumentGlobalKey",Rl="targets",OR="queryTargetsIndex",GL=["canonicalId","targetId"],Cl="targetDocuments",KL=["targetId","path"],Sv="documentTargetsIndex",QL=["path","targetId"],qd="targetGlobalKey",Qa="targetGlobal",Yc="collectionParents",YL=["collectionId","parent"],xl="clientMetadata",XL="clientId",Em="bundles",$L="bundleId",Sm="namedQueries",WL="name",Av="indexConfiguration",JL="indexId",o_="collectionGroupIndex",ZL="collectionGroup",Cc="indexState",t3=["indexId","uid"],kR="sequenceNumberIndex",e3=["uid","sequenceNumber"],xc="indexEntries",n3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LR="documentKeyIndex",i3=["indexId","uid","orderedDocumentKey"],Am="documentOverlays",s3=["userId","collectionPath","documentId"],l_="collectionPathOverlayIndex",r3=["userId","collectionPath","largestBatchId"],UR="collectionGroupOverlayIndex",a3=["userId","collectionGroup","largestBatchId"],bv="globals",o3="name",BR=[Kc,Si,Il,Oa,Rl,fh,Qa,Cl,xl,Qc,Yc,Em,Sm],l3=[...BR,Am],zR=[Kc,Si,Il,Fd,Rl,fh,Qa,Cl,xl,Qc,Yc,Em,Sm,Am],jR=zR,wv=[...jR,Av,Cc,xc],u3=wv,FR=[...wv,bv],c3=FR;class u_ extends DR{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Qe(n,t){const e=yt(n);return Br.O(e.le,t)}function qb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Wr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class oe{constructor(t,e){this.comparator=t,this.root=e||on.EMPTY}insert(t,e){return new oe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sd(this.root,t,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sd(this.root,t,this.comparator,!0)}}class sd{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new on(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new on(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class te{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(t){return new Hb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new te(this.comparator);return e.data=t,e}}class Hb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tl(n){return n.hasNext()?n.getNext():void 0}class Dn{constructor(t){this.fields=t,t.sort(ge.comparator)}static empty(){return new Dn([])}unionWith(t){let e=new te(ge.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Dn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HR("Invalid base64 string: "+l):l}})(t);return new Ce(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Ce(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const h3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(vt(!!n,39018),typeof n=="string"){let t=0;const e=h3.exec(n);if(vt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:de(n.seconds),nanos:de(n.nanos)}}function de(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?Ce.fromBase64String(n):Ce.fromUint8Array(n)}const GR="server_timestamp",KR="__type__",QR="__previous_value__",YR="__local_write_time__";function Iv(n){return(n?.mapValue?.fields||{})[KR]?.stringValue===GR}function bm(n){const t=n.mapValue.fields[QR];return Iv(t)?bm(t):t}function Xc(n){const t=Ms(n.mapValue.fields[YR].timestampValue);return new Jt(t.seconds,t.nanos)}class f3{constructor(t,e,i,a,l,u,h,d,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Hd="(default)";class to{constructor(t,e){this.projectId=t,this.database=e||Hd}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(t){return t instanceof to&&t.projectId===this.projectId&&t.database===this.database}}const Rv="__type__",XR="__max__",Mr={mapValue:{fields:{__type__:{stringValue:XR}}}},Cv="__vector__",Dl="value",Td={nullValue:"NULL_VALUE"};function qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iv(n)?4:$R(n)?9007199254740991:wm(n)?10:11:pt(28295,{value:n})}function as(n,t){if(n===t)return!0;const e=qr(n);if(e!==qr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xc(n).isEqual(Xc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ms(a.timestampValue),h=Ms(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return de(a.geoPointValue.latitude)===de(l.geoPointValue.latitude)&&de(a.geoPointValue.longitude)===de(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return de(a.integerValue)===de(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=de(a.doubleValue),h=de(l.doubleValue);return u===h?Gc(u)===Gc(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return bl(n.arrayValue.values||[],t.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(qb(u)!==qb(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!as(u[d],h[d])))return!1;return!0})(n,t);default:return pt(52216,{left:n})}}function $c(n,t){return(n.values||[]).find((e=>as(e,t)))!==void 0}function Hr(n,t){if(n===t)return 0;const e=qr(n),i=qr(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=de(l.integerValue||l.doubleValue),d=de(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return Gb(n.timestampValue,t.timestampValue);case 4:return Gb(Xc(n),Xc(t));case 5:return s_(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Ns(l),d=Ns(u);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=It(h[p],d[p]);if(y!==0)return y}return It(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(de(l.latitude),de(u.latitude));return h!==0?h:It(de(l.longitude),de(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Kb(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Dl]?.arrayValue,y=d[Dl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Kb(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Mr.mapValue&&u===Mr.mapValue)return 0;if(l===Mr.mapValue)return 1;if(u===Mr.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const S=s_(d[v],y[v]);if(S!==0)return S;const I=Hr(h[d[v]],p[y[v]]);if(I!==0)return I}return It(d.length,y.length)})(n.mapValue,t.mapValue);default:throw pt(23264,{he:e})}}function Gb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=Ms(n),i=Ms(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function Kb(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Hr(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function Vl(n){return c_(n)}function c_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ms(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ns(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=c_(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${c_(e.fields[u])}`;return a+"}"})(n.mapValue):pt(61005,{value:n})}function Ed(n){switch(qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bm(n);return t?16+Ed(t):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ed(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Wr(i.fields,((l,u)=>{a+=l.length+Ed(u)})),a})(n.mapValue);default:throw pt(13486,{value:n})}}function Wc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function h_(n){return!!n&&"integerValue"in n}function Jc(n){return!!n&&"arrayValue"in n}function Qb(n){return!!n&&"nullValue"in n}function Yb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sd(n){return!!n&&"mapValue"in n}function wm(n){return(n?.mapValue?.fields||{})[Rv]?.stringValue===Cv}function Dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Wr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Dc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dc(n.arrayValue.values[e]);return t}return{...n}}function $R(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}const WR={mapValue:{fields:{[Rv]:{stringValue:Cv},[Dl]:{arrayValue:{}}}}};function d3(n){return"nullValue"in n?Td:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wc(to.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?wm(n)?WR:{mapValue:{}}:pt(35942,{value:n})}function m3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wc(to.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?WR:"mapValue"in n?wm(n)?{mapValue:{}}:Mr:pt(61959,{value:n})}function Xb(n,t){const e=Hr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function $b(n,t){const e=Hr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Sd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dc(e)}setAll(t){let e=ge.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=Dc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Sd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Sd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Wr(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new fn(Dc(this.value))}}function JR(n){const t=[];return Wr(n.fields,((e,i)=>{const a=new ge([e]);if(Sd(i)){const l=JR(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Dn(t)}class Ee{constructor(t,e,i,a,l,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Ee(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,e,i,a){return new Ee(t,1,e,Et.min(),i,a,0)}static newNoDocument(t,e){return new Ee(t,2,e,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,e){return new Ee(t,3,e,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ee&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pl{constructor(t,e){this.position=t,this.inclusive=e}}function Wb(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Hr(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Jb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!as(n.position[e],t.position[e]))return!1;return!0}class Zc{constructor(t,e="asc"){this.field=t,this.dir=e}}function p3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class ZR{}class zt extends ZR{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new g3(t,e,i):e==="array-contains"?new v3(t,i):e==="in"?new rC(t,i):e==="not-in"?new T3(t,i):e==="array-contains-any"?new E3(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new y3(t,i):new _3(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Hr(e,this.value)):e!==null&&qr(this.value)===qr(e)&&this.matchesComparison(Hr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends ZR{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Zt(t,e)}matches(t){return Ml(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ml(n){return n.op==="and"}function f_(n){return n.op==="or"}function xv(n){return tC(n)&&Ml(n)}function tC(n){for(const t of n.filters)if(t instanceof Zt)return!1;return!0}function d_(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(xv(n))return n.filters.map((t=>d_(t))).join(",");{const t=n.filters.map((e=>d_(e))).join(",");return`${n.op}(${t})`}}function eC(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&as(i.value,a.value)})(n,t):n instanceof Zt?(function(i,a){return a instanceof Zt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&eC(u,a.filters[h])),!0):!1})(n,t):void pt(19439)}function nC(n,t){const e=n.filters.concat(t);return Zt.create(e,n.op)}function iC(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`})(n):n instanceof Zt?(function(e){return e.op.toString()+" {"+e.getFilters().map(iC).join(" ,")+"}"})(n):"Filter"}class g3 extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class y3 extends zt{constructor(t,e){super(t,"in",e),this.keys=sC("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _3 extends zt{constructor(t,e){super(t,"not-in",e),this.keys=sC("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function sC(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class v3 extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Jc(e)&&$c(e.arrayValue,this.value)}}class rC extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&$c(this.value.arrayValue,e)}}class T3 extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!$c(this.value.arrayValue,e)}}class E3 extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Jc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>$c(this.value.arrayValue,i)))}}class S3{constructor(t,e=null,i=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function m_(n,t=null,e=[],i=[],a=null,l=null,u=null){return new S3(n,t,e,i,a,l,u)}function eo(n){const t=yt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>d_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Tm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Vl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Vl(i))).join(",")),t.Te=e}return t.Te}function dh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!p3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!eC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Jb(n.startAt,t.startAt)&&Jb(n.endAt,t.endAt)}function Gd(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Kd(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function Zb(n,t,e){let i=Td,a=!0;for(const l of Kd(n,t)){let u=Td,h=!0;switch(l.op){case"<":case"<=":u=d3(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Td}Xb({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];Xb({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function t1(n,t,e){let i=Mr,a=!0;for(const l of Kd(n,t)){let u=Mr,h=!0;switch(l.op){case">=":case">":u=m3(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Mr}$b({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];$b({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class Xl{constructor(t,e=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aC(n,t,e,i,a,l,u,h){return new Xl(n,t,e,i,a,l,u,h)}function Im(n){return new Xl(n)}function e1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oC(n){return n.collectionGroup!==null}function Vc(n){const t=yt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new te(ge.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Zc(l,i))})),e.has(ge.keyField().canonicalString())||t.Ie.push(new Zc(ge.keyField(),i))}return t.Ie}function qn(n){const t=yt(n);return t.Ee||(t.Ee=A3(t,Vc(n))),t.Ee}function A3(n,t){if(n.limitType==="F")return m_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zc(a.field,l)}));const e=n.endAt?new Pl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pl(n.startAt.position,n.startAt.inclusive):null;return m_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function p_(n,t){const e=n.filters.concat([t]);return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Qd(n,t,e){return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Rm(n,t){return dh(qn(n),qn(t))&&n.limitType===t.limitType}function lC(n){return`${eo(qn(n))}|lt:${n.limitType}`}function al(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>iC(a))).join(", ")}]`),Tm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Vl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Vl(a))).join(",")),`Target(${i})`})(qn(n))}; limitType=${n.limitType})`}function mh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Vc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const p=Wb(u,h,d);return u.inclusive?p<=0:p<0})(i.startAt,Vc(i),a)||i.endAt&&!(function(u,h,d){const p=Wb(u,h,d);return u.inclusive?p>=0:p>0})(i.endAt,Vc(i),a))})(n,t)}function uC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cC(n){return(t,e)=>{let i=!1;for(const a of Vc(n)){const l=b3(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function b3(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Hr(d,p):pt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt(19790,{direction:n.dir})}}class Us{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}const w3=new oe(ht.comparator);function Fn(){return w3}const hC=new oe(ht.comparator);function yc(...n){let t=hC;for(const e of n)t=t.insert(e.key,e);return t}function fC(n){let t=hC;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ji(){return Pc()}function dC(){return Pc()}function Pc(){return new Us((n=>n.toString()),((n,t)=>n.isEqual(t)))}const I3=new oe(ht.comparator),R3=new te(ht.comparator);function Mt(...n){let t=R3;for(const e of n)t=t.add(e);return t}const C3=new te(It);function Dv(){return C3}function Vv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function mC(n){return{integerValue:""+n}}function pC(n,t){return PR(t)?mC(t):Vv(n,t)}class Cm{constructor(){this._=void 0}}function x3(n,t,e){return n instanceof th?(function(a,l){const u={fields:{[KR]:{stringValue:GR},[YR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iv(l)&&(l=bm(l)),l&&(u.fields[QR]=l),{mapValue:u}})(e,t):n instanceof Nl?yC(n,t):n instanceof Ol?_C(n,t):(function(a,l){const u=gC(a,l),h=n1(u)+n1(a.Ae);return h_(u)&&h_(a.Ae)?mC(h):Vv(a.serializer,h)})(n,t)}function D3(n,t,e){return n instanceof Nl?yC(n,t):n instanceof Ol?_C(n,t):e}function gC(n,t){return n instanceof kl?(function(i){return h_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class th extends Cm{}class Nl extends Cm{constructor(t){super(),this.elements=t}}function yC(n,t){const e=vC(t);for(const i of n.elements)e.some((a=>as(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Ol extends Cm{constructor(t){super(),this.elements=t}}function _C(n,t){let e=vC(t);for(const i of n.elements)e=e.filter((a=>!as(a,i)));return{arrayValue:{values:e}}}class kl extends Cm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function n1(n){return de(n.integerValue||n.doubleValue)}function vC(n){return Jc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class TC{constructor(t,e){this.field=t,this.transform=e}}function V3(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Nl&&a instanceof Nl||i instanceof Ol&&a instanceof Ol?bl(i.elements,a.elements,as):i instanceof kl&&a instanceof kl?as(i.Ae,a.Ae):i instanceof th&&a instanceof th})(n.transform,t.transform)}class P3{constructor(t,e){this.version=t,this.transformResults=e}}class mn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ad(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class xm{}function EC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dm(n.key,mn.none()):new $l(n.key,n.data,mn.none());{const e=n.data,i=fn.empty();let a=new te(ge.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Bs(n.key,i,new Dn(a.toArray()),mn.none())}}function M3(n,t,e){n instanceof $l?(function(a,l,u){const h=a.value.clone(),d=s1(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Bs?(function(a,l,u){if(!Ad(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=s1(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(SC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Mc(n,t,e,i){return n instanceof $l?(function(l,u,h,d){if(!Ad(l.precondition,u))return h;const p=l.value.clone(),y=r1(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Bs?(function(l,u,h,d){if(!Ad(l.precondition,u))return h;const p=r1(l.fieldTransforms,d,u),y=u.data;return y.setAll(SC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,h){return Ad(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function N3(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=gC(i.transform,a||null);l!=null&&(e===null&&(e=fn.empty()),e.set(i.field,l))}return e||null}function i1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&bl(i,a,((l,u)=>V3(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $l extends xm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bs extends xm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SC(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function s1(n,t,e){const i=new Map;vt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);i.set(l.field,D3(u,h,e[a]))}return i}function r1(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,x3(l,u,t))}return i}class Dm extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&M3(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Mc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Mc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dC();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const d=EC(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&bl(this.mutations,t.mutations,((e,i)=>i1(e,i)))&&bl(this.baseMutations,t.baseMutations,((e,i)=>i1(e,i)))}}class Mv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){vt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return I3})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Mv(t,e,i,a)}}class Nv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class O3{constructor(t,e){this.count=t,this.unchangedNames=e}}var Be,qt;function k3(n){switch(n){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:n})}}function bC(n){if(n===void 0)return Ie("GRPC error has no .code"),J.UNKNOWN;switch(n){case Be.OK:return J.OK;case Be.CANCELLED:return J.CANCELLED;case Be.UNKNOWN:return J.UNKNOWN;case Be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Be.INTERNAL:return J.INTERNAL;case Be.UNAVAILABLE:return J.UNAVAILABLE;case Be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Be.NOT_FOUND:return J.NOT_FOUND;case Be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Be.ABORTED:return J.ABORTED;case Be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Be.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:n})}}(qt=Be||(Be={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function L3(){return new TextEncoder}const U3=new Ur([4294967295,4294967295],0);function a1(n){const t=L3().encode(n),e=new yR;return e.update(t),new Uint8Array(e.digest())}function o1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ur([e,i],0),new Ur([a,l],0)]}class Ov{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new _c(`Invalid padding: ${e}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new _c(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ur.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Ur.fromNumber(i)));return a.compare(U3)===1&&(a=new Ur([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=a1(t),[i,a]=o1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new Ov(l,a,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=a1(t),[i,a]=o1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,gh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ph(Et.min(),a,new oe(It),Fn(),Mt())}}class gh{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new gh(i,e,Mt(),Mt(),Mt())}}class bd{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class wC{constructor(t,e){this.targetId=t,this.Ce=e}}class IC{constructor(t,e,i=Ce.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class l1{constructor(){this.ve=0,this.Fe=u1(),this.Me=Ce.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),e=Mt(),i=Mt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:pt(38017,{changeType:l})}})),new gh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=u1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class B3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fn(),this.Je=rd(),this.He=rd(),this.Ye=new oe(It)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Gd(l))if(i===0){const u=new ht(l.path);this.et(e,u,Ee.newNoDocument(u,Et.min()))}else vt(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Ns(i).toUint8Array()}catch(d){if(d instanceof HR)return qc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Ov(u,a,l)}catch(d){return qc(d instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Gd(h.target)){const d=new ht(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Ee.newNoDocument(d,t))}l.Be&&(e.set(u,l.ke()),l.qe())}}));let i=Mt();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new ph(t,e,this.Ye,this.je,i);return this.je=Fn(),this.Je=rd(),this.He=rd(),this.Ye=new oe(It),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new l1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new te(It),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new te(It),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||it("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new l1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rd(){return new oe(ht.comparator)}function u1(){return new oe(ht.comparator)}const z3={asc:"ASCENDING",desc:"DESCENDING"},j3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class q3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function g_(n,t){return n.useProto3Json||Tm(t)?t:{value:t}}function Ll(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function H3(n,t){return Ll(n,t.toTimestamp())}function Tn(n){return vt(!!n,49232),Et.fromTimestamp((function(e){const i=Ms(e);return new Jt(i.seconds,i.nanos)})(n))}function kv(n,t){return y_(n,t).canonicalString()}function y_(n,t){const e=(function(a){return new Yt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function CC(n){const t=Yt.fromString(n);return vt(LC(t),10190,{key:t.toString()}),t}function Yd(n,t){return kv(n.databaseId,t.path)}function Ya(n,t){const e=CC(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(VC(e))}function xC(n,t){return kv(n.databaseId,t)}function DC(n){const t=CC(n);return t.length===4?Yt.emptyPath():VC(t)}function __(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VC(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function c1(n,t,e){return{name:Yd(n,t),fields:e.value.mapValue.fields}}function G3(n,t,e){const i=Ya(n,t.name),a=Tn(t.updateTime),l=t.createTime?Tn(t.createTime):Et.min(),u=new fn({mapValue:{fields:t.fields}}),h=Ee.newFoundDocument(i,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function K3(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Ce.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ce.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?J.UNKNOWN:bC(p.code);return new ut(y,p.message||"")})(u);e=new IC(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ya(n,i.document.name),l=Tn(i.document.updateTime),u=i.document.createTime?Tn(i.document.createTime):Et.min(),h=new fn({mapValue:{fields:i.document.fields}}),d=Ee.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];e=new bd(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ya(n,i.document),l=i.readTime?Tn(i.readTime):Et.min(),u=Ee.newNoDocument(a,l),h=i.removedTargetIds||[];e=new bd([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ya(n,i.document),l=i.removedTargetIds||[];e=new bd([],l,a,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new O3(a,l),h=i.targetId;e=new wC(h,u)}}return e}function Xd(n,t){let e;if(t instanceof $l)e={update:c1(n,t.key,t.value)};else if(t instanceof Dm)e={delete:Yd(n,t.key)};else if(t instanceof Bs)e={update:c1(n,t.key,t.data),updateMask:J3(t.fieldMask)};else{if(!(t instanceof AC))return pt(16599,{Vt:t.type});e={verify:Yd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof th)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw pt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:H3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:pt(27497)})(n,t.precondition)),e}function v_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?mn.updateTime(Tn(l.updateTime)):l.exists!==void 0?mn.exists(l.exists):mn.none()})(t.currentDocument):mn.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)vt(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new th;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new Nl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Ol(y)}else"increment"in h?d=new kl(u,h.increment):pt(16584,{proto:h});const p=ge.fromServerFormat(h.fieldPath);return new TC(p,d)})(n,a))):[];if(t.update){t.update.name;const a=Ya(n,t.update.name),l=new fn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new Dn(p.map((y=>ge.fromServerFormat(y))))})(t.updateMask);return new Bs(a,l,u,e,i)}return new $l(a,l,e,i)}if(t.delete){const a=Ya(n,t.delete);return new Dm(a,e)}if(t.verify){const a=Ya(n,t.verify);return new AC(a,e)}return pt(1463,{proto:t})}function Q3(n,t){return n&&n.length>0?(vt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?Tn(a.updateTime):Tn(l);return u.isEqual(Et.min())&&(u=Tn(l)),new P3(u,a.transformResults||[])})(e,t)))):[]}function PC(n,t){return{documents:[xC(n,t.path)]}}function MC(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=xC(n,a);const l=(function(p){if(p.length!==0)return kC(Zt.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(S){return{field:ol(S.field),direction:X3(S.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=g_(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function NC(n){let t=DC(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){vt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const S=OC(v);return S instanceof Zt&&xv(S)?S.getFilters():[S]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((S=>(function(V){return new Zc(ll(V.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let S;return S=typeof v=="object"?v.value:v,Tm(S)?null:S})(e.limit));let d=null;e.startAt&&(d=(function(v){const S=!!v.before,I=v.values||[];return new Pl(I,S)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const S=!v.before,I=v.values||[];return new Pl(I,S)})(e.endAt)),aC(t,a,u,l,h,"F",d,p)}function Y3(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function OC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ll(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ll(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(ll(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Zt.create(e.compositeFilter.filters.map((i=>OC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(e.compositeFilter.op))})(n):pt(30097,{filter:n})}function X3(n){return z3[n]}function $3(n){return j3[n]}function W3(n){return F3[n]}function ol(n){return{fieldPath:n.canonicalString()}}function ll(n){return ge.fromServerFormat(n.fieldPath)}function kC(n){return n instanceof zt?(function(e){if(e.op==="=="){if(Yb(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NAN"}};if(Qb(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Yb(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NOT_NAN"}};if(Qb(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(e.field),op:$3(e.op),value:e.value}}})(n):n instanceof Zt?(function(e){const i=e.getFilters().map((a=>kC(a)));return i.length===1?i[0]:{compositeFilter:{op:W3(e.op),filters:i}}})(n):pt(54877,{filter:n})}function J3(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function LC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Is{constructor(t,e,i,a,l=Et.min(),u=Et.min(),h=Ce.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class UC{constructor(t){this.yt=t}}function Z3(n,t){let e;if(t.document)e=G3(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=io(t.noDocument.readTime);e=Ee.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=io(t.unknownDocument.version);e=Ee.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new Jt(a[0],a[1]);return Et.fromTimestamp(l)})(t.readTime)),e}function h1(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:$d(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:Yd(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Ll(l,u.version.toTimestamp()),createTime:Ll(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:no(t.version)};else{if(!t.isUnknownDocument())return pt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:no(t.version)}}return i}function $d(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function no(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function io(n){const t=new Jt(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function La(n,t){const e=(t.baseMutations||[]).map((l=>v_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>v_(n.yt,l))),a=Jt.fromMillis(t.localWriteTimeMs);return new Pv(t.batchId,a,e,i)}function vc(n){const t=io(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?io(n.lastLimboFreeSnapshotVersion):Et.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return vt(u===1,1966,{count:u}),qn(Im(DC(l.documents[0])))})(n.query):(function(l){return qn(NC(l))})(n.query),new Is(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ce.fromBase64String(n.resumeToken))}function BC(n,t){const e=no(t.snapshotVersion),i=no(t.lastLimboFreeSnapshotVersion);let a;a=Gd(t.target)?PC(n.yt,t.target):MC(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:eo(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function zC(n){const t=NC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qd(t,t.limit,"L"):t}function vy(n,t){return new Nv(t.largestBatchId,v_(n.yt,t.overlayMutation))}function f1(n,t){const e=t.path.lastSegment();return[n,pn(t.path.popLast()),e]}function d1(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:no(i.readTime),documentKey:pn(i.documentKey.path),largestBatchId:i.largestBatchId}}class t6{getBundleMetadata(t,e){return m1(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:io(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return m1(t).put((function(a){return{bundleId:a.id,createTime:no(Tn(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return p1(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:zC(l.bundledQuery),readTime:io(l.readTime)}})(i)}))}saveNamedQuery(t,e){return p1(t).put((function(a){return{name:a.name,readTime:no(Tn(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function m1(n){return Qe(n,Em)}function p1(n){return Qe(n,Sm)}class Vm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new Vm(t,i)}getOverlay(t,e){return lc(t).get(f1(this.userId,e)).next((i=>i?vy(this.serializer,i):null))}getOverlays(t,e){const i=Ji();return j.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const h=new Nv(e,u);a.push(this.St(t,h))})),j.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(pn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(lc(t).Z(l_,h))})),j.waitFor(l)}getOverlaysForCollection(t,e,i){const a=Ji(),l=pn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return lc(t).J(l_,u).next((h=>{for(const d of h){const p=vy(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=Ji();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return lc(t).ee({index:UR,range:h},((d,p,y)=>{const v=vy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}St(t,e){return lc(t).put((function(a,l,u){const[h,d,p]=f1(l,u.mutation.key);return{userId:l,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Xd(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function lc(n){return Qe(n,Am)}class e6{bt(t){return Qe(t,bv)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const i=e?.value;return i?Ce.fromUint8Array(i):Ce.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Ua{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(de(t.integerValue));else if("doubleValue"in t){const i=de(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Gc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Ms(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Ns(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?$R(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):wm(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):pt(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=Dl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(de(l)),this.Ot(a,e),this.Ct(i[a],e)}Qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.Ut(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Ua.Kt=new Ua;const el=255;function n6(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function g1(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=n6(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class i6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Jt(i.value),i=e.next();this.Ht()}Yt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=e.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(t){const e=this.en(t),i=g1(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=g1(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(el),this.sn(255)}_n(){this.an(el),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===el?(this.sn(el),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===el?(this.an(el),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class s6{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class r6{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class uc{constructor(){this.cn=new i6,this.ln=new s6(this.cn),this.hn=new r6(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ba{constructor(t,e,i,a){this.Tn=t,this.In=e,this.En=i,this.dn=a}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.dn,0),e!==t?i.set([0],this.dn.length):++i[i.length-1],new Ba(this.Tn,this.In,this.En,i)}Rn(t,e,i){return{indexId:this.Tn,uid:t,arrayValue:wd(this.En),directionalValue:wd(this.dn),orderedDocumentKey:wd(e),documentKey:i.path.toArray()}}Vn(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ar(n,t){let e=n.Tn-t.Tn;return e!==0?e:(e=y1(n.En,t.En),e!==0?e:(e=y1(n.dn,t.dn),e!==0?e:ht.comparator(n.In,t.In)))}function y1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function wd(n){return cR()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function _1(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class v1{constructor(t){this.mn=new te(((e,i)=>ge.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const i=e;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(t){if(vt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=r_(t);if(e!==void 0&&!this.wn(e))return!1;const i=Na(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[l];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++l}for(;l<i.length;++l){const h=i[l];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let t=new te(ge.comparator);const e=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new yd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new yd(i.field,0))}for(const i of this.fn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new yd(i.field,i.dir==="asc"?0:1)));return new zd(zd.UNKNOWN_ID,this.collectionId,e,Hc.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function jC(n){if(vt(n instanceof zt||n instanceof Zt,20012),n instanceof zt){if(n instanceof rC){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return Zt.create(e,"or")}return n}const t=n.filters.map((e=>jC(e)));return Zt.create(t,n.op)}function a6(n){if(n.getFilters().length===0)return[];const t=S_(jC(n));return vt(FC(t),7391),T_(t)||E_(t)?[t]:t.getFilters()}function T_(n){return n instanceof zt}function E_(n){return n instanceof Zt&&xv(n)}function FC(n){return T_(n)||E_(n)||(function(e){if(e instanceof Zt&&f_(e)){for(const i of e.getFilters())if(!T_(i)&&!E_(i))return!1;return!0}return!1})(n)}function S_(n){if(vt(n instanceof zt||n instanceof Zt,34018),n instanceof zt)return n;if(n.filters.length===1)return S_(n.filters[0]);const t=n.filters.map((i=>S_(i)));let e=Zt.create(t,n.op);return e=Wd(e),FC(e)?e:(vt(e instanceof Zt,64498),vt(Ml(e),40251),vt(e.filters.length>1,57927),e.filters.reduce(((i,a)=>Lv(i,a))))}function Lv(n,t){let e;return vt(n instanceof zt||n instanceof Zt,38388),vt(t instanceof zt||t instanceof Zt,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return Zt.create([a,l],"and")})(n,t):T1(n,t):t instanceof zt?T1(t,n):(function(a,l){if(vt(a.filters.length>0&&l.filters.length>0,48005),Ml(a)&&Ml(l))return nC(a,l.getFilters());const u=f_(a)?a:l,h=f_(a)?l:a,d=u.filters.map((p=>Lv(p,h)));return Zt.create(d,"or")})(n,t),Wd(e)}function T1(n,t){if(Ml(t))return nC(t,n.getFilters());{const e=t.filters.map((i=>Lv(n,i)));return Zt.create(e,"or")}}function Wd(n){if(vt(n instanceof zt||n instanceof Zt,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return Wd(t[0]);if(tC(n))return n;const e=t.map((a=>Wd(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof Zt&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:Zt.create(i,n.op)}class o6{constructor(){this.Cn=new Uv}addToCollectionParentIndex(t,e){return this.Cn.add(e),j.resolve()}getCollectionParents(t,e){return j.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return j.resolve()}deleteFieldIndex(t,e){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,e){return j.resolve()}getDocumentsMatchingTarget(t,e){return j.resolve(null)}getIndexType(t,e){return j.resolve(0)}getFieldIndexes(t,e){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,e){return j.resolve(Hn.min())}getMinOffsetFromCollectionGroup(t,e){return j.resolve(Hn.min())}updateCollectionGroup(t,e,i){return j.resolve()}updateIndexEntries(t,e){return j.resolve()}}class Uv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new te(Yt.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new te(Yt.comparator)).toArray()}}const E1="IndexedDbIndexManager",ad=new Uint8Array(0);class l6{constructor(t,e){this.databaseId=e,this.vn=new Uv,this.Fn=new Us((i=>eo(i)),((i,a)=>dh(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const l={collectionId:i,parent:pn(a)};return S1(t).put(l)}return j.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[bR(e),""],!1,!0);return S1(t).J(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Wi(u.parent))}return i}))}addFieldIndex(t,e){const i=cc(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=il(t);return l.next((h=>{u.put(d1(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=cc(t),a=il(t),l=nl(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=cc(t),i=nl(t),a=il(t);return e.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(t,e){return j.forEach(this.Mn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new v1(i).Dn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=nl(t);let a=!0;const l=new Map;return j.forEach(this.Mn(e),(u=>this.xn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Mt();const h=[];return j.forEach(l,((d,p)=>{it(E1,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((ot=>`${ot.fieldPath}:${ot.kind}`)).join(",")}`})(d)} to execute ${eo(e)}`);const y=(function(K,ot){const at=r_(ot);if(at===void 0)return null;for(const lt of Kd(K,at.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null})(p,d),v=(function(K,ot){const at=new Map;for(const lt of Na(ot))for(const R of Kd(K,lt.fieldPath))switch(R.op){case"==":case"in":at.set(lt.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return at.set(lt.fieldPath.canonicalString(),R.value),Array.from(at.values())}return null})(p,d),S=(function(K,ot){const at=[];let lt=!0;for(const R of Na(ot)){const w=R.kind===0?Zb(K,R.fieldPath,K.startAt):t1(K,R.fieldPath,K.startAt);at.push(w.value),lt&&(lt=w.inclusive)}return new Pl(at,lt)})(p,d),I=(function(K,ot){const at=[];let lt=!0;for(const R of Na(ot)){const w=R.kind===0?t1(K,R.fieldPath,K.endAt):Zb(K,R.fieldPath,K.endAt);at.push(w.value),lt&&(lt=w.inclusive)}return new Pl(at,lt)})(p,d),V=this.On(d,p,S),k=this.On(d,p,I),B=this.Nn(d,p,v),X=this.Bn(d.indexId,y,V,S.inclusive,k,I.inclusive,B);return j.forEach(X,($=>i.Y($,e.limit).next((K=>{K.forEach((ot=>{const at=ht.fromSegments(ot.documentKey);u.has(at)||(u=u.add(at),h.push(at))}))}))))})).next((()=>h))}return j.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=a6(Zt.create(t.filters,"and")).map((i=>m_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,i,a,l,u,h){const d=(e!=null?e.length:1)*Math.max(i.length,l.length),p=d/(e!=null?e.length:1),y=[];for(let v=0;v<d;++v){const S=e?this.Ln(e[v/p]):ad,I=this.kn(t,S,i[v%p],a),V=this.qn(t,S,l[v%p],u),k=h.map((B=>this.kn(t,S,B,!0)));y.push(...this.createRange(I,V,k))}return y}kn(t,e,i,a){const l=new Ba(t,ht.empty(),e,i);return a?l:l.An()}qn(t,e,i,a){const l=new Ba(t,ht.empty(),e,i);return a?l.An():l}xn(t,e){const i=new v1(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)i.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let i=2;const a=this.Mn(e);return j.forEach(a,(l=>this.xn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(d){let p=new te(ge.comparator),y=!1;for(const v of d.filters)for(const S of v.getFlattenedFilters())S.field.isKeyField()||(S.op==="array-contains"||S.op==="array-contains-any"?y=!0:p=p.add(S.field));for(const v of d.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}Qn(t,e){const i=new uc;for(const a of Na(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.Pn(a.kind);Ua.Kt.Dt(l,u)}return i.un()}Ln(t){const e=new uc;return Ua.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const i=new uc;return Ua.Kt.Dt(Wc(this.databaseId,e),i.Pn((function(l){const u=Na(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}Nn(t,e,i){if(i===null)return[];let a=[];a.push(new uc);let l=0;for(const u of Na(t)){const h=i[l++];for(const d of a)if(this.Un(e,u.fieldPath)&&Jc(h))a=this.Kn(a,u,h);else{const p=d.Pn(u.kind);Ua.Kt.Dt(h,p)}}return this.Wn(a)}On(t,e,i){return this.Nn(t,e,i.position)}Wn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Kn(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const h of a){const d=new uc;d.seed(h.un()),Ua.Kt.Dt(u,d.Pn(e.kind)),l.push(d)}return l}Un(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=cc(t),a=il(t);return(e?i.J(o_,IDBKeyRange.bound(e,e)):i.J()).next((l=>{const u=[];return j.forEach(l,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const S=v?new Hc(v.sequenceNumber,new Hn(io(v.readTime),new ht(Wi(v.documentKey)),v.largestBatchId)):Hc.empty(),I=y.fields.map((([V,k])=>new yd(ge.fromServerFormat(V),k)));return new zd(y.indexId,y.collectionGroup,I,S)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=cc(t),l=il(t);return this.Gn(t).next((u=>a.J(o_,IDBKeyRange.bound(e,e)).next((h=>j.forEach(h,(d=>l.put(d1(d.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return j.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?j.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),j.forEach(h,(d=>this.zn(t,a,d).next((p=>{const y=this.jn(l,d);return p.isEqual(y)?j.resolve():this.Jn(t,l,d,p,y)})))))))}))}Hn(t,e,i,a){return nl(t).put(a.Rn(this.uid,this.$n(i,e.key),e.key))}Yn(t,e,i,a){return nl(t).delete(a.Vn(this.uid,this.$n(i,e.key),e.key))}zn(t,e,i){const a=nl(t);let l=new te(Ar);return a.ee({index:LR,range:IDBKeyRange.only([i.indexId,this.uid,wd(this.$n(i,e))])},((u,h)=>{l=l.add(new Ba(i.indexId,e,_1(h.arrayValue),_1(h.directionalValue)))})).next((()=>l))}jn(t,e){let i=new te(Ar);const a=this.Qn(e,t);if(a==null)return i;const l=r_(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Jc(u))for(const h of u.arrayValue.values||[])i=i.add(new Ba(e.indexId,t.key,this.Ln(h),a))}else i=i.add(new Ba(e.indexId,t.key,ad,a));return i}Jn(t,e,i,a,l){it(E1,"Updating index entries for document '%s'",e.key);const u=[];return(function(d,p,y,v,S){const I=d.getIterator(),V=p.getIterator();let k=tl(I),B=tl(V);for(;k||B;){let X=!1,$=!1;if(k&&B){const K=y(k,B);K<0?$=!0:K>0&&(X=!0)}else k!=null?$=!0:X=!0;X?(v(B),B=tl(V)):$?(S(k),k=tl(I)):(k=tl(I),B=tl(V))}})(a,l,Ar,(h=>{u.push(this.Hn(t,e,i,h))}),(h=>{u.push(this.Yn(t,e,i,h))})),j.waitFor(u)}Gn(t){let e=1;return il(t).ee({index:kR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,h)=>Ar(u,h))).filter(((u,h,d)=>!h||Ar(u,d[h-1])!==0));const a=[];a.push(t);for(const u of i){const h=Ar(u,t),d=Ar(u,e);if(h===0)a[0]=t.An();else if(h>0&&d<0)a.push(u),a.push(u.An());else if(d>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Zn(a[u],a[u+1]))return[];const h=a[u].Vn(this.uid,ad,ht.empty()),d=a[u+1].Vn(this.uid,ad,ht.empty());l.push(IDBKeyRange.bound(h,d))}return l}Zn(t,e){return Ar(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(A1)}getMinOffset(t,e){return j.mapArray(this.Mn(e),(i=>this.xn(t,i).next((a=>a||pt(44426))))).next(A1)}}function S1(n){return Qe(n,Yc)}function nl(n){return Qe(n,xc)}function cc(n){return Qe(n,Av)}function il(n){return Qe(n,Cc)}function A1(n){vt(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;Tv(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Hn(t.readTime,t.documentKey,e)}const b1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function HC(n,t,e){const i=n.store(Si),a=n.store(Il),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const d=i.ee({range:u},((y,v,S)=>(h++,S.delete())));l.push(d.next((()=>{vt(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=MR(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return j.waitFor(l).next((()=>p))}function Jd(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt(14731);t=n.noDocument}return JSON.stringify(t).length}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(qC,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Pm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(t,e,i,a){vt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Pm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return br(t).ee({index:Fa,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=ul(t),u=br(t);return u.add({}).next((h=>{vt(typeof h=="number",49019);const d=new Pv(h,e,i,a),p=(function(I,V,k){const B=k.baseMutations.map(($=>Xd(I.yt,$))),X=k.mutations.map(($=>Xd(I.yt,$)));return{userId:V,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:B,mutations:X}})(this.serializer,this.userId,d),y=[];let v=new te(((S,I)=>It(S.canonicalString(),I.canonicalString())));for(const S of a){const I=MR(this.userId,S.key.path,h);v=v.add(S.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,jL))}return v.forEach((S=>{y.push(this.indexManager.addToCollectionParentIndex(t,S))})),t.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),j.waitFor(y).next((()=>d))}))}lookupMutationBatch(t,e){return br(t).get(e).next((i=>i?(vt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),La(this.serializer,i)):null))}er(t,e){return this.Xn[e]?j.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Xn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return br(t).ee({index:Fa,range:a},((u,h,d)=>{h.userId===this.userId&&(vt(h.batchId>=i,47524,{tr:i}),l=La(this.serializer,h)),d.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ka;return br(t).ee({index:Fa,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ka],[this.userId,Number.POSITIVE_INFINITY]);return br(t).J(Fa,e).next((i=>i.map((a=>La(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=_d(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return ul(t).ee({range:a},((u,h,d)=>{const[p,y,v]=u,S=Wi(y);if(p===this.userId&&e.path.isEqual(S))return br(t).get(v).next((I=>{if(!I)throw pt(61480,{nr:u,batchId:v});vt(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(La(this.serializer,I))}));d.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new te(It);const a=[];return e.forEach((l=>{const u=_d(this.userId,l.path),h=IDBKeyRange.lowerBound(u),d=ul(t).ee({range:h},((p,y,v)=>{const[S,I,V]=p,k=Wi(I);S===this.userId&&l.path.isEqual(k)?i=i.add(V):v.done()}));a.push(d)})),j.waitFor(a).next((()=>this.rr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=_d(this.userId,i),u=IDBKeyRange.lowerBound(l);let h=new te(It);return ul(t).ee({range:u},((d,p,y)=>{const[v,S,I]=d,V=Wi(S);v===this.userId&&i.isPrefixOf(V)?V.length===a&&(h=h.add(I)):y.done()})).next((()=>this.rr(t,h)))}rr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(br(t).get(l).next((u=>{if(u===null)throw pt(35274,{batchId:l});vt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(La(this.serializer,u))})))})),j.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return HC(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),j.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return j.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return ul(t).ee({range:i},((l,u,h)=>{if(l[0]===this.userId){const d=Wi(l[1]);a.push(d)}else h.done()})).next((()=>{vt(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return GC(t,this.userId,e)}_r(t){return KC(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ka,lastStreamToken:""}))}}function GC(n,t,e){const i=_d(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return ul(n).ee({range:l,X:!0},((h,d,p)=>{const[y,v,S]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function br(n){return Qe(n,Si)}function ul(n){return Qe(n,Il)}function KC(n){return Qe(n,Kc)}class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}class u6{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const i=new so(e.highestTargetId);return e.highestTargetId=i.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>Et.fromTimestamp(new Jt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.lr(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.hr(t,a))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((i=>(i.targetCount+=1,this.Tr(e,i),this.hr(t,i))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>sl(t).delete(e.targetId))).next((()=>this.lr(t))).next((i=>(vt(i.targetCount>0,8065),i.targetCount-=1,this.hr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return sl(t).ee(((u,h)=>{const d=vc(h);d.sequenceNumber<=e&&i.get(d.targetId)===null&&(a++,l.push(this.removeTargetData(t,d)))})).next((()=>j.waitFor(l))).next((()=>a))}forEachTarget(t,e){return sl(t).ee(((i,a)=>{const l=vc(a);e(l)}))}lr(t){return w1(t).get(qd).next((e=>(vt(e!==null,2888),e)))}hr(t,e){return w1(t).put(qd,e)}Pr(t,e){return sl(t).put(BC(this.serializer,e))}Tr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const i=eo(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return sl(t).ee({range:a,index:OR},((u,h,d)=>{const p=vc(h);dh(e,p.target)&&(l=p,d.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Cr(t);return e.forEach((u=>{const h=pn(u.path);a.push(l.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(t,i,u))})),j.waitFor(a)}removeMatchingKeys(t,e,i){const a=Cr(t);return j.forEach(e,(l=>{const u=pn(l.path);return j.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Cr(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Cr(t);let l=Mt();return a.ee({range:i,X:!0},((u,h,d)=>{const p=Wi(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=pn(e.path),a=IDBKeyRange.bound([i],[bR(i)],!1,!0);let l=0;return Cr(t).ee({index:Sv,X:!0,range:a},(([u,h],d,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return sl(t).get(e).next((i=>i?vc(i):null))}}function sl(n){return Qe(n,Rl)}function w1(n){return Qe(n,Qa)}function Cr(n){return Qe(n,Cl)}const I1="LruGarbageCollector",QC=1048576;function R1([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class c6{constructor(t){this.Ir=t,this.buffer=new te(R1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();R1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class YC{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(I1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$r(e)?it(I1,"Ignoring IndexedDB error during garbage collection: ",e):await Xr(e)}await this.Vr(3e5)}))}}class h6{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return j.resolve(xn.ce);const i=new c6(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(b1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),rl()<=Bt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function XC(n,t){return new h6(n,t)}class f6{constructor(t,e){this.db=t,this.garbageCollector=XC(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((i,a)=>e(a)))}addReference(t,e,i){return od(t,i)}removeReference(t,e,i){return od(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return od(t,e)}br(t,e){return(function(a,l){let u=!1;return KC(a).te((h=>GC(a,h,l).next((d=>(d&&(u=!0),j.resolve(!d)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(t,((u,h)=>{if(h<=e){const d=this.br(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Et.min()),Cr(t).delete((function(v){return[0,pn(v.path)]})(u)))))}));a.push(d)}})).next((()=>j.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return od(t,e)}Sr(t,e){const i=Cr(t);let a,l=xn.ce;return i.ee({index:Sv},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(l!==xn.ce&&e(new ht(Wi(a)),l),l=p,a=d):l=xn.ce})).next((()=>{l!==xn.ce&&e(new ht(Wi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function od(n,t){return Cr(n).put((function(i,a){return{targetId:0,path:pn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class $C{constructor(){this.changes=new Us((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ee.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?j.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class d6{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Va(t).put(i)}removeEntry(t,e,i){return Va(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],$d(u),h[h.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.Dr(t,i))))}getEntry(t,e){let i=Ee.newInvalidDocument(e);return Va(t).ee({index:vd,range:IDBKeyRange.only(hc(e))},((a,l)=>{i=this.Cr(e,l)})).next((()=>i))}vr(t,e){let i={size:0,document:Ee.newInvalidDocument(e)};return Va(t).ee({index:vd,range:IDBKeyRange.only(hc(e))},((a,l)=>{i={document:this.Cr(e,l),size:Jd(l)}})).next((()=>i))}getEntries(t,e){let i=Fn();return this.Fr(t,e,((a,l)=>{const u=this.Cr(a,l);i=i.insert(a,u)})).next((()=>i))}Mr(t,e){let i=Fn(),a=new oe(ht.comparator);return this.Fr(t,e,((l,u)=>{const h=this.Cr(l,u);i=i.insert(l,h),a=a.insert(l,Jd(u))})).next((()=>({documents:i,Or:a})))}Fr(t,e,i){if(e.isEmpty())return j.resolve();let a=new te(D1);e.forEach((d=>a=a.add(d)));const l=IDBKeyRange.bound(hc(a.first()),hc(a.last())),u=a.getIterator();let h=u.getNext();return Va(t).ee({index:vd,range:l},((d,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&D1(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,p),h=u.hasNext()?u.getNext():null),h?y.j(hc(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),$d(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Va(t).J(IDBKeyRange.bound(h,d,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Fn();for(const v of p){const S=this.Cr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);S.isFoundDocument()&&(mh(e,S)||a.has(S.key))&&(y=y.insert(S.key,S))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Fn();const u=x1(e,i),h=x1(e,Hn.max());return Va(t).ee({index:NR,range:IDBKeyRange.bound(u,h,!0)},((d,p,y)=>{const v=this.Cr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new m6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return C1(t).get(a_).next((e=>(vt(!!e,20021),e)))}Dr(t,e){return C1(t).put(a_,e)}Cr(t,e){if(e){const i=Z3(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return Ee.newInvalidDocument(t)}}function WC(n){return new d6(n)}class m6 extends $C{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Us((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new te(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Br.get(l);if(e.push(this.Nr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const d=h1(this.Nr.serializer,u);a=a.add(l.path.popLast());const p=Jd(d);i+=p-h.size,e.push(this.Nr.addEntry(t,l,d))}else if(i-=h.size,this.trackRemovals){const d=h1(this.Nr.serializer,u.convertToNoDocument(Et.min()));e.push(this.Nr.addEntry(t,l,d))}})),a.forEach((l=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Nr.updateMetadata(t,i)),j.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((i=>(this.Br.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:i,Or:a})=>(a.forEach(((l,u)=>{this.Br.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function C1(n){return Qe(n,Qc)}function Va(n){return Qe(n,Fd)}function hc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function x1(n,t){const e=t.documentKey.path.toArray();return[n,$d(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function D1(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class p6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class JC{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Mc(i.mutation,a,Dn.empty(),Jt.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Mt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Mt()){const a=Ji();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=yc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Ji();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Mt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,a){let l=Fn();const u=Pc(),h=(function(){return Pc()})();return e.forEach(((d,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Bs)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Mc(y.mutation,p,y.mutation.getFieldMask(),Jt.now())):u.set(p.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new p6(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Pc();let a=new oe(((u,h)=>u-h)),l=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=e.get(d);if(p===null)return;let y=i.get(d)||Dn.empty();y=h.applyToLocalView(p,y),i.set(d,y);const v=(a.get(h.batchId)||Mt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=dC();y.forEach((S=>{if(!l.has(S)){const I=EC(e.get(S),i.get(S));I!==null&&v.set(S,I),l=l.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return j.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(u){return ht.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):oC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):j.resolve(Ji());let h=wl,d=l;return u.next((p=>j.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?j.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{d=d.insert(y,S)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,d,p,Mt()))).next((y=>({batchId:h,changes:fC(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=yc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(t,l).next((h=>j.forEach(h,(d=>{const p=(function(v,S){return new Xl(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,S)=>{u=u.insert(v,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Ee.newInvalidDocument(y)))}));let h=yc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&Mc(y.mutation,p,Dn.empty(),Jt.now()),mh(e,p)&&(h=h.insert(d,p))})),h}))}}class g6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return j.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Tn(a.createTime)}})(e)),j.resolve()}getNamedQuery(t,e){return j.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:zC(a.bundledQuery),readTime:Tn(a.readTime)}})(e)),j.resolve()}}class y6{constructor(){this.overlays=new oe(ht.comparator),this.qr=new Map}getOverlay(t,e){return j.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ji();return j.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.St(t,e,l)})),j.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),j.resolve()}getOverlaysForCollection(t,e,i){const a=Ji(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return j.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new oe(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Ji(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ji(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return j.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Nv(e,i));let l=this.qr.get(e);l===void 0&&(l=Mt(),this.qr.set(e,l)),this.qr.set(e,l.add(i.key))}}class _6{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,j.resolve()}}class Bv{constructor(){this.Qr=new te(We.$r),this.Ur=new te(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new We(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new We(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new ht(new Yt([])),i=new We(e,t),a=new We(e,t+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new ht(new Yt([])),i=new We(e,t),a=new We(e,t+1);let l=Mt();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new We(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return ht.comparator(t.key,e.key)||It(t.Yr,e.Yr)}static Kr(t,e){return It(t.Yr,e.Yr)||ht.comparator(t.key,e.key)}}class v6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new te(We.$r)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Pv(l,e,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new We(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return j.resolve(u)}lookupMutationBatch(t,e){return j.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),l=a<0?0:a;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Ka:this.tr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),a=new We(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new te(It);return e.forEach((a=>{const l=new We(a,0),u=new We(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),j.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new We(new ht(l),0);let h=new te(It);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),j.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){vt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return j.forEach(e.mutations,(a=>{const l=new We(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new We(e,0),a=this.Zr.firstAfterOrEqual(i);return j.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class T6{constructor(t){this.ri=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return j.resolve(i?i.document.mutableCopy():Ee.newInvalidDocument(e))}getEntries(t,e){let i=Fn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Ee.newInvalidDocument(a))})),j.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Fn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Tv(CR(y),i)<=0||(a.has(y.key)||mh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(t,e,i,a){pt(9500)}ii(t,e){return j.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new E6(this)}getSize(t){return j.resolve(this.size)}}class E6 extends $C{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),j.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class S6{constructor(t){this.persistence=t,this.si=new Us((e=>eo(e)),dh),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Bv,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),j.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new so(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,j.resolve()}updateTargetData(t,e){return this.Pr(e),j.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),j.waitFor(l).next((()=>a))}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return j.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),j.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),j.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),j.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return j.resolve(i)}containsKey(t,e){return j.resolve(this._i.containsKey(e))}}class zv{constructor(t,e){this.ui={},this.overlays={},this.ci=new xn(0),this.li=!1,this.li=!0,this.hi=new _6,this.referenceDelegate=t(this),this.Pi=new S6(this),this.indexManager=new o6,this.remoteDocumentCache=(function(a){return new T6(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new UC(e),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new y6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new v6(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){it("MemoryPersistence","Starting transaction:",t);const a=new A6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,e){return j.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class A6 extends DR{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Bv,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),j.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),j.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(i=>{const a=ht.fromPath(i);return this.gi(t,a).next((l=>{l||e.removeEntry(a,Et.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return j.or([()=>j.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Zd{constructor(t,e){this.persistence=t,this.pi=new Us((i=>pn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=XC(this,e)}static mi(t,e){return new Zd(t,e)}Ei(){}di(t){return j.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return j.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?j.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,e).next((h=>{h||(i++,l.removeEntry(u,Et.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),j.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),j.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ed(t.data.value)),e}br(t,e,i){return j.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return j.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class b6{constructor(t){this.serializer=t}k(t,e,i,a){const l=new vm("createOrUpgrade",e);i<1&&a>=1&&((function(d){d.createObjectStore(fh)})(t),(function(d){d.createObjectStore(Kc,{keyPath:zL}),d.createObjectStore(Si,{keyPath:jb,autoIncrement:!0}).createIndex(Fa,Fb,{unique:!0}),d.createObjectStore(Il)})(t),V1(t),(function(d){d.createObjectStore(Oa)})(t));let u=j.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(Cl),d.deleteObjectStore(Rl),d.deleteObjectStore(Qa)})(t),V1(t)),u=u.next((()=>(function(d){const p=d.store(Qa),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put(qd,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(d,p){return p.store(Si).J().next((v=>{d.deleteObjectStore(Si),d.createObjectStore(Si,{keyPath:jb,autoIncrement:!0}).createIndex(Fa,Fb,{unique:!0});const S=p.store(Si),I=v.map((V=>S.put(V)));return j.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(d){d.createObjectStore(xl,{keyPath:XL})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.yi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Qc)})(t),this.wi(l))))),i<7&&a>=7&&(u=u.next((()=>this.Si(l)))),i<8&&a>=8&&(u=u.next((()=>this.bi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.Di(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Em,{keyPath:$L})})(t),(function(d){d.createObjectStore(Sm,{keyPath:WL})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(Am,{keyPath:s3});p.createIndex(l_,r3,{unique:!1}),p.createIndex(UR,a3,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(Fd,{keyPath:FL});p.createIndex(vd,qL),p.createIndex(NR,HL)})(t))).next((()=>this.Ci(t,l))).next((()=>t.deleteObjectStore(Oa)))),i<14&&a>=14&&(u=u.next((()=>this.Fi(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Av,{keyPath:JL,autoIncrement:!0}).createIndex(o_,ZL,{unique:!1}),d.createObjectStore(Cc,{keyPath:t3}).createIndex(kR,e3,{unique:!1}),d.createObjectStore(xc,{keyPath:n3}).createIndex(LR,i3,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Cc).clear()})).next((()=>{e.objectStore(xc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(bv,{keyPath:o3})})(t)}))),i<18&&a>=18&&cR()&&(u=u.next((()=>{e.objectStore(Cc).clear()})).next((()=>{e.objectStore(xc).clear()}))),u}wi(t){let e=0;return t.store(Oa).ee(((i,a)=>{e+=Jd(a)})).next((()=>{const i={byteSize:e};return t.store(Qc).put(a_,i)}))}yi(t){const e=t.store(Kc),i=t.store(Si);return e.J().next((a=>j.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Ka],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Fa,u).next((h=>j.forEach(h,(d=>{vt(d.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=La(this.serializer,d);return HC(t,l.userId,p).next((()=>{}))}))))}))))}Si(t){const e=t.store(Cl),i=t.store(Oa);return t.store(Qa).get(qd).next((a=>{const l=[];return i.ee(((u,h)=>{const d=new Yt(u),p=(function(v){return[0,pn(v)]})(d);l.push(e.get(p).next((y=>y?j.resolve():(v=>e.put({targetId:0,path:pn(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>j.waitFor(l)))}))}bi(t,e){t.createObjectStore(Yc,{keyPath:YL});const i=e.store(Yc),a=new Uv,l=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:pn(d)})}};return e.store(Oa).ee({X:!0},((u,h)=>{const d=new Yt(u);return l(d.popLast())})).next((()=>e.store(Il).ee({X:!0},(([u,h,d],p)=>{const y=Wi(h);return l(y.popLast())}))))}Di(t){const e=t.store(Rl);return e.ee(((i,a)=>{const l=vc(a),u=BC(this.serializer,l);return e.put(u)}))}Ci(t,e){const i=e.store(Oa),a=[];return i.ee(((l,u)=>{const h=e.store(Fd),d=(function(v){return v.document?new ht(Yt.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):pt(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>j.waitFor(a)))}Fi(t,e){const i=e.store(Si),a=WC(this.serializer),l=new zv(Mm.mi,this.serializer.yt);return i.J().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Mt();La(this.serializer,d).keys().forEach((y=>p=p.add(y))),h.set(d.userId,p)})),j.forEach(h,((d,p)=>{const y=new cn(p),v=Vm.wt(this.serializer,y),S=l.getIndexManager(y),I=Pm.wt(y,this.serializer,S,l.referenceDelegate);return new JC(a,I,v,S).recalculateAndSaveOverlaysForDocumentKeys(new u_(e,xn.ce),d).next()}))}))}}function V1(n){n.createObjectStore(Cl,{keyPath:KL}).createIndex(Sv,QL,{unique:!0}),n.createObjectStore(Rl,{keyPath:"targetId"}).createIndex(OR,GL,{unique:!0}),n.createObjectStore(Qa)}const wr="IndexedDbPersistence",Ty=18e5,Ey=5e3,Sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",w6="main";class jv{constructor(t,e,i,a,l,u,h,d,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Mi=l,this.window=u,this.document=h,this.xi=p,this.Oi=y,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=S=>Promise.resolve(),!jv.v())throw new ut(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f6(this,a),this.$i=e+w6,this.serializer=new UC(d),this.Ui=new Br(this.$i,this.Ni,new b6(this.serializer)),this.hi=new e6,this.Pi=new u6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WC(this.serializer),this.Ii=new t6,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&Ie(wr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(J.FAILED_PRECONDITION,Sy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new xn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>ld(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if($r(t))return it(wr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return it(wr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return fc(t).get(Zo).next((e=>j.resolve(this.es(e))))}ts(t){return ld(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Ty)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Qe(e,xl);return i.J().next((a=>{const l=this.ss(a,Ty),u=a.filter((h=>l.indexOf(h)===-1));return j.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?j.resolve(!0):fc(t).get(Zo).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Ey)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new ut(J.FAILED_PRECONDITION,Sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ld(t).J().next((i=>this.ss(i,Ey).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&it(wr,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fh,xl],(t=>{const e=new u_(t,xn.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((i=>this.rs(i.updateTimeMs,e)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>ld(t).J().next((e=>this.ss(e,Ty).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return Pm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new l6(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Vm.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,i){it(wr,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(d){return d===18?c3:d===17?FR:d===16?u3:d===15?wv:d===14?jR:d===13?zR:d===12?l3:d===11?BR:void pt(60245)})(this.Ni);let u;return this.Ui.runTransaction(t,a,l,(h=>(u=new u_(h,this.ci?this.ci.next():xn.ce),e==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Ie(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(J.FAILED_PRECONDITION,xR);return i(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(t){return fc(t).get(Zo).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Ey)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(J.FAILED_PRECONDITION,Sy)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fc(t).put(Zo,e)}static v(){return Br.v()}Zi(t){const e=fc(t);return e.get(Zo).next((i=>this.es(i)?(it(wr,"Releasing primary lease."),e.delete(Zo)):j.resolve()))}rs(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(Ie(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;uR()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return it(wr,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return Ie(wr,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){Ie("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function fc(n){return Qe(n,fh)}function ld(n){return Qe(n,xl)}function ZC(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Fv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Mt(),a=Mt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fv(t,e.fromCache,i,a)}}class I6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uR()?8:VR(Ke())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.ys(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new I6;return this.Ss(t,e,u).next((h=>{if(l.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>l.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(rl()<=Bt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",al(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(rl()<=Bt.DEBUG&&it("QueryEngine","Query:",al(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(rl()<=Bt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",al(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qn(e))):j.resolve())}ys(t,e){if(e1(e))return j.resolve(null);let i=qn(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Qd(e,null,"F"),i=qn(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Mt(...l);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const p=this.Ds(e,h);return this.Cs(e,p,u,d.readTime)?this.ys(t,Qd(e,null,"F")):this.vs(t,p,e,d)}))))})))))}ws(t,e,i,a){return e1(e)||a.isEqual(Et.min())?j.resolve(null):this.ps.getDocuments(t,i).next((l=>{const u=this.Ds(e,l);return this.Cs(e,u,i,a)?j.resolve(null):(rl()<=Bt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(e)),this.vs(t,u,e,RR(a,wl)).next((h=>h)))}))}Ds(t,e){let i=new te(cC(t));return e.forEach(((a,l)=>{mh(t,l)&&(i=i.add(l))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,i){return rl()<=Bt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",al(e)),this.ps.getDocumentsMatchingQuery(t,e,Hn.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const qv="LocalStore",R6=3e8;class C6{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new oe(It),this.xs=new Us((l=>eo(l)),dh),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function ex(n,t,e,i){return new C6(n,t,e,i)}async function nx(n,t){const e=yt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let d=Mt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function x6(n,t){const e=yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,S=v.keys();let I=j.resolve();return S.forEach((V=>{I=I.next((()=>y.getEntry(d,V))).next((k=>{const B=p.docVersions.get(V);vt(B!==null,48541),k.version.compareTo(B)<0&&(v.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Mt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function ix(n){const t=yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function D6(n,t){const e=yt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const S=a.get(v);if(!S)return;h.push(e.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(l,y.addedDocuments,v))));let I=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Ce.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(k,B,X){return k.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=R6?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,I,y)&&h.push(e.Pi.updateTargetData(l,I))}));let d=Fn(),p=Mt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(V6(l,u,t.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!i.isEqual(Et.min())){const y=e.Pi.getLastRemoteSnapshotVersion(l).next((v=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return j.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(e.Ms=a,l)))}function V6(n,t,e){let i=Mt(),a=Mt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Fn();return e.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Et.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):it(qv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function P6(n,t){const e=yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Ka),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function tm(n,t){const e=yt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((l=>l?(a=l,j.resolve(a)):e.Pi.allocateTargetId(i).next((u=>(a=new Is(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Ul(n,t,e){const i=yt(n),a=i.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!$r(u))throw u;it(qv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function A_(n,t,e){const i=yt(n);let a=Et.min(),l=Mt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=yt(d),S=v.xs.get(y);return S!==void 0?j.resolve(v.Ms.get(S)):v.Pi.getTargetData(p,y)})(i,u,qn(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,e?a:Et.min(),e?l:Mt()))).next((h=>(ax(i,uC(t),h),{documents:h,Qs:l})))))}function sx(n,t){const e=yt(n),i=yt(e.Pi),a=e.Ms.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,t).next((u=>u?u.target:null))))}function rx(n,t){const e=yt(n),i=e.Os.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",(a=>e.Ns.getAllFromCollectionGroup(a,t,RR(i,wl),Number.MAX_SAFE_INTEGER))).then((a=>(ax(e,t,a),a)))}function ax(n,t,e){let i=n.Os.get(t)||Et.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(t,i)}const ox="firestore_clients";function P1(n,t){return`${ox}_${n}_${t}`}const lx="firestore_mutations";function M1(n,t,e){let i=`${lx}_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}const ux="firestore_targets";function Ay(n,t){return`${ux}_${n}_${t}`}const Xi="SharedClientState";class em{constructor(t,e,i,a){this.user=t,this.batchId=e,this.state=i,this.error=a}static Ws(t,e,i){const a=JSON.parse(i);let l,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(l=new ut(a.error.code,a.error.message))),u?new em(t,e,a.state,l):(Ie(Xi,`Failed to parse mutation state for ID '${e}': ${i}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Nc{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ws(t,e){const i=JSON.parse(e);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ut(i.error.code,i.error.message))),l?new Nc(t,i.state,a):(Ie(Xi,`Failed to parse target state for ID '${t}': ${e}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nm{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ws(t,e){const i=JSON.parse(e);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=Dv();for(let u=0;a&&u<i.activeTargetIds.length;++u)a=PR(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return a?new nm(t,l):(Ie(Xi,`Failed to parse client data for instance '${t}': ${e}`),null)}}class Hv{constructor(t,e){this.clientId=t,this.onlineState=e}static Ws(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new Hv(e.clientId,e.onlineState):(Ie(Xi,`Failed to parse online state: ${t}`),null)}}class b_{constructor(){this.activeTargetIds=Dv()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class by{constructor(t,e,i,a,l){this.window=t,this.Mi=e,this.persistenceKey=i,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new oe(It),this.started=!1,this.Xs=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=P1(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new b_),this.ro=new RegExp(`^${ox}_${u}_([^_]*)$`),this.io=new RegExp(`^${lx}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${ux}_${u}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.Ts();for(const i of t){if(i===this.Js)continue;const a=this.getItem(P1(this.persistenceKey,i));if(a){const l=nm.Ws(i,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const e=this.storage.getItem(this.oo);if(e){const i=this.uo(e);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.no,JSON.stringify(t))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(t){let e=!1;return this.Zs.forEach(((i,a)=>{a.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.ho(t,"pending")}updateMutationState(t,e,i){this.ho(t,e,i),this.Po(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(Ay(this.persistenceKey,t));if(a){const l=Nc.Ws(t,a);l&&(i=l.state)}}return e&&this.To.zs(t),this.ao(),i}removeLocalQueryTarget(t){this.To.js(t),this.ao()}isLocalQueryTarget(t){return this.To.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ay(this.persistenceKey,t))}updateQueryState(t,e,i){this.Io(t,e,i)}handleUserChange(t,e,i){e.forEach((a=>{this.Po(a)})),this.currentUser=t,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(t){this.Eo(t)}notifyBundleLoaded(t){this.Ao(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return it(Xi,"READ",t,e),e}setItem(t,e){it(Xi,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){it(Xi,"REMOVE",t),this.storage.removeItem(t)}Ys(t){const e=t;if(e.storageArea===this.storage){if(it(Xi,"EVENT",e.key,e.newValue),e.key===this.eo)return void Ie("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(e.key!==null){if(this.ro.test(e.key)){if(e.newValue==null){const i=this.Ro(e.key);return this.Vo(i,null)}{const i=this.mo(e.key,e.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(e.key)){if(e.newValue!==null){const i=this.fo(e.key,e.newValue);if(i)return this.po(i)}}else if(this.so.test(e.key)){if(e.newValue!==null){const i=this.yo(e.key,e.newValue);if(i)return this.wo(i)}}else if(e.key===this.oo){if(e.newValue!==null){const i=this.uo(e.newValue);if(i)return this.co(i)}}else if(e.key===this.no){const i=(function(l){let u=xn.ce;if(l!=null)try{const h=JSON.parse(l);vt(typeof h=="number",30636,{So:l}),u=h}catch(h){Ie(Xi,"Failed to read sequence number from WebStorage",h)}return u})(e.newValue);i!==xn.ce&&this.sequenceNumberHandler(i)}else if(e.key===this._o){const i=this.bo(e.newValue);await Promise.all(i.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(e)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(t,e,i){const a=new em(this.currentUser,t,e,i),l=M1(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Gs())}Po(t){const e=M1(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Eo(t){const e={clientId:this.Js,onlineState:t};this.storage.setItem(this.oo,JSON.stringify(e))}Io(t,e,i){const a=Ay(this.persistenceKey,t),l=new Nc(t,e,i);this.setItem(a,l.Gs())}Ao(t){const e=JSON.stringify(Array.from(t));this.setItem(this._o,e)}Ro(t){const e=this.ro.exec(t);return e?e[1]:null}mo(t,e){const i=this.Ro(t);return nm.Ws(i,e)}fo(t,e){const i=this.io.exec(t),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return em.Ws(new cn(l),a,e)}yo(t,e){const i=this.so.exec(t),a=Number(i[1]);return Nc.Ws(a,e)}uo(t){return Hv.Ws(t)}bo(t){return JSON.parse(t)}async po(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Co(t.batchId,t.state,t.error);it(Xi,`Ignoring mutation for non-active user ${t.user.uid}`)}wo(t){return this.syncEngine.vo(t.targetId,t.state,t.error)}Vo(t,e){const i=e?this.Zs.insert(t,e):this.Zs.remove(t),a=this.lo(this.Zs),l=this.lo(i),u=[],h=[];return l.forEach((d=>{a.has(d)||u.push(d)})),a.forEach((d=>{l.has(d)||h.push(d)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=i}))}co(t){this.Zs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}lo(t){let e=Dv();return t.forEach(((i,a)=>{e=e.unionWith(a.activeTargetIds)})),e}}class cx{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M6{Oo(t){}shutdown(){}}const N1="ConnectivityMonitor";class O1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(N1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(N1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ud=null;function w_(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}const wy="RestConnection",N6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Hd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,l){const u=w_(),h=this.zo(t,e.toUriEncodedString());it(wy,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Kl(p);return this.Jo(t,h,d,i,y).then((v=>(it(wy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw qc(wy,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,a,l,u){return this.Go(t,e,i,a,l)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,e){const i=N6[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class k6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const un="WebChannelConnection";class L6 extends O6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,l){const u=w_();return new Promise(((h,d)=>{const p=new _R;p.setWithCredentials(!0),p.listenOnce(vR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gd.NO_ERROR:const v=p.getResponseJson();it(un,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case gd.TIMEOUT:it(un,`RPC '${t}' ${u} timed out`),d(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const S=p.getStatus();if(it(un,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I?.error;if(V&&V.status&&V.message){const k=(function(X){const $=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN})(V.status);d(new ut(k,V.message))}else d(new ut(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ut(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{it(un,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);it(un,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=w_(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=SR(),h=ER(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const y=l.join("");it(un,`Creating RPC '${t}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let S=!1,I=!1;const V=new k6({Yo:B=>{I?it(un,`Not sending because RPC '${t}' stream ${a} is closed:`,B):(S||(it(un,`Opening RPC '${t}' stream ${a} transport.`),v.open(),S=!0),it(un,`RPC '${t}' stream ${a} sending:`,B),v.send(B))},Zo:()=>v.close()}),k=(B,X,$)=>{B.listen(X,(K=>{try{$(K)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return k(v,gc.EventType.OPEN,(()=>{I||(it(un,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),k(v,gc.EventType.CLOSE,(()=>{I||(I=!0,it(un,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(v))})),k(v,gc.EventType.ERROR,(B=>{I||(I=!0,qc(un,`RPC '${t}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),V.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),k(v,gc.EventType.MESSAGE,(B=>{if(!I){const X=B.data[0];vt(!!X,16349);const $=X,K=$?.error||$[0]?.error;if(K){it(un,`RPC '${t}' stream ${a} received error:`,K);const ot=K.status;let at=(function(w){const C=Be[w];if(C!==void 0)return bC(C)})(ot),lt=K.message;at===void 0&&(at=J.INTERNAL,lt="Unknown error status: "+ot+" with message "+K.message),I=!0,V.a_(new ut(at,lt)),v.close()}else it(un,`RPC '${t}' stream ${a} received:`,X),V.u_(X)}})),k(h,TR.STAT_EVENT,(B=>{B.stat===i_.PROXY?it(un,`RPC '${t}' stream ${a} detected buffering proxy`):B.stat===i_.NOPROXY&&it(un,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function hx(){return typeof window<"u"?window:null}function Id(){return typeof document<"u"?document:null}function Nm(n){return new q3(n,!0)}class fx{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&it("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const k1="PersistentStream";class dx{constructor(t,e,i,a,l,u,h,d){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(Ie(e.toString()),Ie("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(k1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(it(k1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U6 extends dx{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=K3(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Et.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?Tn(u.readTime):Et.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=__(this.serializer),e.addTarget=(function(l,u){let h;const d=u.target;if(h=Gd(d)?{documents:PC(l,d)}:{query:MC(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=RC(l,u.resumeToken);const p=g_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Et.min())>0){h.readTime=Ll(l,u.snapshotVersion.toTimestamp());const p=g_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=Y3(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=__(this.serializer),e.removeTarget=t,this.q_(e)}}class B6 extends dx{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return vt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){vt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Q3(t.writeResults,t.commitTime),i=Tn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=__(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Xd(this.serializer,i)))};this.q_(e)}}class z6{}class j6 extends z6{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(t,y_(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(J.UNKNOWN,l.toString())}))}Ho(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,y_(e,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ie(e),this.aa=!1):it("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ro="RemoteStore";class q6{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{oo(this)&&(it(ro,"Restarting streams for network reachability change."),await(async function(d){const p=yt(d);p.Ea.add(4),await yh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Om(p)})(this))}))})),this.Ra=new F6(i,a)}}async function Om(n){if(oo(n))for(const t of n.da)await t(!0)}async function yh(n){for(const t of n.da)await t(!1)}function km(n,t){const e=yt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Qv(e)?Kv(e):Jl(e).O_()&&Gv(e,t))}function Bl(n,t){const e=yt(n),i=Jl(e);e.Ia.delete(t),i.O_()&&mx(e,t),e.Ia.size===0&&(i.O_()?i.L_():oo(e)&&e.Ra.set("Unknown"))}function Gv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Jl(n).Y_(t)}function mx(n,t){n.Va.Ue(t),Jl(n).Z_(t)}function Kv(n){n.Va=new B3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Jl(n).start(),n.Ra.ua()}function Qv(n){return oo(n)&&!Jl(n).x_()&&n.Ia.size>0}function oo(n){return yt(n).Ea.size===0}function px(n){n.Va=void 0}async function H6(n){n.Ra.set("Online")}async function G6(n){n.Ia.forEach(((t,e)=>{Gv(n,t)}))}async function K6(n,t){px(n),Qv(n)?(n.Ra.ha(t),Kv(n)):n.Ra.set("Unknown")}async function Q6(n,t,e){if(n.Ra.set("Online"),t instanceof IC&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){it(ro,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await im(n,i)}else if(t instanceof bd?n.Va.Ze(t):t instanceof wC?n.Va.st(t):n.Va.tt(t),!e.isEqual(Et.min()))try{const i=await ix(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(Ce.EMPTY_BYTE_STRING,y.snapshotVersion)),mx(l,d);const v=new Is(y.target,d,p,y.sequenceNumber);Gv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){it(ro,"Failed to raise snapshot:",i),await im(n,i)}}async function im(n,t,e){if(!$r(t))throw t;n.Ea.add(1),await yh(n),n.Ra.set("Offline"),e||(e=()=>ix(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{it(ro,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Om(n)}))}function gx(n,t){return t().catch((e=>im(n,e,t)))}async function Wl(n){const t=yt(n),e=Gr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ka;for(;Y6(t);)try{const a=await P6(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,X6(t,a)}catch(a){await im(t,a)}yx(t)&&_x(t)}function Y6(n){return oo(n)&&n.Ta.length<10}function X6(n,t){n.Ta.push(t);const e=Gr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function yx(n){return oo(n)&&!Gr(n).x_()&&n.Ta.length>0}function _x(n){Gr(n).start()}async function $6(n){Gr(n).ra()}async function W6(n){const t=Gr(n);for(const e of n.Ta)t.ea(e.mutations)}async function J6(n,t,e){const i=n.Ta.shift(),a=Mv.from(i,t,e);await gx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Wl(n)}async function Z6(n,t){t&&Gr(n).X_&&await(async function(i,a){if((function(u){return k3(u)&&u!==J.ABORTED})(a.code)){const l=i.Ta.shift();Gr(i).B_(),await gx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Wl(i)}})(n,t),yx(n)&&_x(n)}async function L1(n,t){const e=yt(n);e.asyncQueue.verifyOperationInProgress(),it(ro,"RemoteStore received new credentials");const i=oo(e);e.Ea.add(3),await yh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Om(e)}async function I_(n,t){const e=yt(n);t?(e.Ea.delete(2),await Om(e)):t||(e.Ea.add(2),await yh(e),e.Ra.set("Unknown"))}function Jl(n){return n.ma||(n.ma=(function(e,i,a){const l=yt(e);return l.sa(),new U6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:H6.bind(null,n),t_:G6.bind(null,n),r_:K6.bind(null,n),H_:Q6.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Qv(n)?Kv(n):n.Ra.set("Unknown")):(await n.ma.stop(),px(n))}))),n.ma}function Gr(n){return n.fa||(n.fa=(function(e,i,a){const l=yt(e);return l.sa(),new B6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:$6.bind(null,n),r_:Z6.bind(null,n),ta:W6.bind(null,n),na:J6.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Wl(n)):(await n.fa.stop(),n.Ta.length>0&&(it(ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Yv{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,h=new Yv(t,e,u,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(n,t){if(Ie("AsyncQueue",`${t}: ${n}`),$r(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class yl{static emptySet(t){return new yl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=yc(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new yl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class U1{constructor(){this.ga=new oe(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class zl{constructor(t,e,i,a,l,u,h,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new zl(t,e,yl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class t5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class e5{constructor(){this.queries=B1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=yt(e),l=a.queries;a.queries=B1(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function B1(){return new Us((n=>lC(n)),Rm)}async function vx(n,t){const e=yt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new t5,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=Xv(u,`Initialization of query '${al(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&$v(e)}async function Tx(n,t){const e=yt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.Sa.indexOf(t);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function n5(n,t){const e=yt(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&$v(e)}function i5(n,t,e){const i=yt(n),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);i.queries.delete(t)}function $v(n){n.Ca.forEach((t=>{t.next()}))}var R_,z1;(z1=R_||(R_={})).Ma="default",z1.Cache="cache";class Ex{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new zl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=zl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==R_.Cache}}class Sx{constructor(t){this.key=t}}class Ax{constructor(t){this.key=t}}class s5{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=cC(t),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new U1,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const S=a.get(y),I=mh(this.query,v)?v:null,V=!!S&&this.mutatedKeys.has(S.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;S&&I?S.data.isEqual(I.data)?V!==k&&(i.track({type:3,doc:I}),B=!0):this.su(S,I)||(i.track({type:2,doc:I}),B=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(h=!0)):!S&&I?(i.track({type:0,doc:I}),B=!0):S&&!I&&(i.track({type:1,doc:S}),B=!0,(d||p)&&(h=!0)),B&&(I?(u=u.add(I),l=k?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,V){const k=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:B})}};return k(I)-k(V)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new zl(this.query,t.tu,l,u,t.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new Ax(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new Sx(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Mt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zl="SyncEngine";class r5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class a5{constructor(t){this.key=t,this.hu=!1}}class o5{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Us((h=>lC(h)),Rm),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ht.comparator),this.Au=new Map,this.Ru=new Bv,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l5(n,t,e=!0){const i=Lm(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await bx(i,t,e,!0),a}async function u5(n,t){const e=Lm(n);await bx(e,t,!0,!1)}async function bx(n,t,e,i){const a=await tm(n.localStore,qn(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return i&&(h=await Wv(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&km(n.remoteStore,a),h}async function Wv(n,t,e,i,a){n.pu=(v,S,I)=>(async function(k,B,X,$){let K=B.view.ru(X);K.Cs&&(K=await A_(k.localStore,B.query,!1).then((({documents:R})=>B.view.ru(R,K))));const ot=$&&$.targetChanges.get(B.targetId),at=$&&$.targetMismatches.get(B.targetId)!=null,lt=B.view.applyChanges(K,k.isPrimaryClient,ot,at);return C_(k,B.targetId,lt.au),lt.snapshot})(n,v,S,I);const l=await A_(n.localStore,t,!0),u=new s5(t,l.Qs),h=u.ru(l.documents),d=gh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,d);C_(n,e,p.au);const y=new r5(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function c5(n,t,e){const i=yt(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Rm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ul(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Bl(i.remoteStore,a.targetId),jl(i,a.targetId)})).catch(Xr)):(jl(i,a.targetId),await Ul(i.localStore,a.targetId,!0))}async function h5(n,t){const e=yt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Bl(e.remoteStore,i.targetId))}async function f5(n,t,e){const i=eT(n);try{const a=await(function(u,h){const d=yt(u),p=Jt.now(),y=h.reduce(((I,V)=>I.add(V.key)),Mt());let v,S;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let V=Fn(),k=Mt();return d.Ns.getEntries(I,y).next((B=>{V=B,V.forEach(((X,$)=>{$.isValidDocument()||(k=k.add(X))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,V))).next((B=>{v=B;const X=[];for(const $ of h){const K=N3($,v.get($.key).overlayedDocument);K!=null&&X.push(new Bs($.key,K,JR(K.value.mapValue),mn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,X,h)})).next((B=>{S=B;const X=B.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(I,B.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:fC(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new oe(It)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,e),await Jr(i,a.changes),await Wl(i.remoteStore)}catch(a){const l=Xv(a,"Failed to persist write");e.reject(l)}}async function wx(n,t){const e=yt(n);try{const i=await D6(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?vt(u.hu,14607):a.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await Jr(e,i,t)}catch(i){await Xr(i)}}function j1(n,t,e){const i=yt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=yt(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const S of v.Sa)S.va(h)&&(p=!0)})),p&&$v(d)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function d5(n,t,e){const i=yt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new oe(ht.comparator);u=u.insert(l,Ee.newNoDocument(l,Et.min()));const h=Mt().add(l),d=new ph(Et.min(),new Map,new oe(It),u,h);await wx(i,d),i.du=i.du.remove(l),i.Au.delete(t),tT(i)}else await Ul(i.localStore,t,!1).then((()=>jl(i,t,e))).catch(Xr)}async function m5(n,t){const e=yt(n),i=t.batch.batchId;try{const a=await x6(e.localStore,t);Zv(e,i,null),Jv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Jr(e,a)}catch(a){await Xr(a)}}async function p5(n,t,e){const i=yt(n);try{const a=await(function(u,h){const d=yt(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(vt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);Zv(i,t,e),Jv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Jr(i,a)}catch(a){await Xr(a)}}function Jv(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Zv(n,t,e){const i=yt(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function jl(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||Ix(n,i)}))}function Ix(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Bl(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),tT(n))}function C_(n,t,e){for(const i of e)i instanceof Sx?(n.Ru.addReference(i.key,t),g5(n,i)):i instanceof Ax?(it(Zl,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||Ix(n,i.key)):pt(19791,{wu:i})}function g5(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(it(Zl,"New document in limbo: "+e),n.Eu.add(i),tT(n))}function tT(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Yt.fromString(t)),i=n.fu.next();n.Au.set(i,new a5(e)),n.du=n.du.insert(e,i),km(n.remoteStore,new Is(qn(Im(e.path)),i,"TargetPurposeLimboResolution",xn.ce))}}async function Jr(n,t,e){const i=yt(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Fv.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(d,p){const y=yt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>j.forEach(p,(S=>j.forEach(S.Es,(I=>y.persistence.referenceDelegate.addReference(v,S.targetId,I))).next((()=>j.forEach(S.ds,(I=>y.persistence.referenceDelegate.removeReference(v,S.targetId,I)))))))))}catch(v){if(!$r(v))throw v;it(qv,"Failed to update sequence numbers: "+v)}for(const v of p){const S=v.targetId;if(!v.fromCache){const I=y.Ms.get(S),V=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(S,k)}}})(i.localStore,l))}async function y5(n,t){const e=yt(n);if(!e.currentUser.isEqual(t)){it(Zl,"User change. New user:",t.toKey());const i=await nx(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ut(J.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Jr(e,i.Ls)}}function _5(n,t){const e=yt(n),i=e.Au.get(t);if(i&&i.hu)return Mt().add(i.key);{let a=Mt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}async function v5(n,t){const e=yt(n),i=await A_(e.localStore,t.query,!0),a=t.view.cu(i);return e.isPrimaryClient&&C_(e,t.targetId,a.au),a}async function T5(n,t){const e=yt(n);return rx(e.localStore,t).then((i=>Jr(e,i)))}async function E5(n,t,e,i){const a=yt(n),l=await(function(h,d){const p=yt(h),y=yt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(v=>y.er(v,d).next((S=>S?p.localDocuments.getDocuments(v,S):j.resolve(null)))))})(a.localStore,t);l!==null?(e==="pending"?await Wl(a.remoteStore):e==="acknowledged"||e==="rejected"?(Zv(a,t,i||null),Jv(a,t),(function(h,d){yt(yt(h).mutationQueue).ir(d)})(a.localStore,t)):pt(6720,"Unknown batchState",{Su:e}),await Jr(a,l)):it(Zl,"Cannot apply mutation batch with id: "+t)}async function S5(n,t){const e=yt(n);if(Lm(e),eT(e),t===!0&&e.gu!==!0){const i=e.sharedClientState.getAllActiveQueryTargets(),a=await F1(e,i.toArray());e.gu=!0,await I_(e.remoteStore,!0);for(const l of a)km(e.remoteStore,l)}else if(t===!1&&e.gu!==!1){const i=[];let a=Promise.resolve();e.Iu.forEach(((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):a=a.then((()=>(jl(e,u),Ul(e.localStore,u,!0)))),Bl(e.remoteStore,u)})),await a,await F1(e,i),(function(u){const h=yt(u);h.Au.forEach(((d,p)=>{Bl(h.remoteStore,p)})),h.Ru.Jr(),h.Au=new Map,h.du=new oe(ht.comparator)})(e),e.gu=!1,await I_(e.remoteStore,!1)}}async function F1(n,t,e){const i=yt(n),a=[],l=[];for(const u of t){let h;const d=i.Iu.get(u);if(d&&d.length!==0){h=await tm(i.localStore,qn(d[0]));for(const p of d){const y=i.Tu.get(p),v=await v5(i,y);v.snapshot&&l.push(v.snapshot)}}else{const p=await sx(i.localStore,u);h=await tm(i.localStore,p),await Wv(i,Rx(p),u,!1,h.resumeToken)}a.push(h)}return i.Pu.H_(l),a}function Rx(n){return aC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function A5(n){return(function(e){return yt(yt(e).persistence).Ts()})(yt(n).localStore)}async function b5(n,t,e,i){const a=yt(n);if(a.gu)return void it(Zl,"Ignoring unexpected query state notification.");const l=a.Iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=await rx(a.localStore,uC(l[0])),h=ph.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Ce.EMPTY_BYTE_STRING);await Jr(a,u,h);break}case"rejected":await Ul(a.localStore,t,!0),jl(a,t,i);break;default:pt(64155,e)}}async function w5(n,t,e){const i=Lm(n);if(i.gu){for(const a of t){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){it(Zl,"Adding an already active target "+a);continue}const l=await sx(i.localStore,a),u=await tm(i.localStore,l);await Wv(i,Rx(l),u.targetId,!1,u.resumeToken),km(i.remoteStore,u)}for(const a of e)i.Iu.has(a)&&await Ul(i.localStore,a,!1).then((()=>{Bl(i.remoteStore,a),jl(i,a)})).catch(Xr)}}function Lm(n){const t=yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=wx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d5.bind(null,t),t.Pu.H_=n5.bind(null,t.eventManager),t.Pu.yu=i5.bind(null,t.eventManager),t}function eT(n){const t=yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=m5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ex(this.persistence,new tx,t.initialUser,this.serializer)}Cu(t){return new zv(Mm.mi,this.serializer)}Du(t){return new cx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class I5 extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){vt(this.persistence.referenceDelegate instanceof Zd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YC(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new zv((i=>Zd.mi(i,e)),this.serializer)}}class Cx extends eh{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await eT(this.xu.syncEngine),await Wl(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return ex(this.persistence,new tx,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new YC(i,t.asyncQueue,e)}Mu(t,e){const i=new UL(e,this.persistence);return new LL(t.asyncQueue,i)}Cu(t){const e=ZC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new jv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,hx(),Id(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new cx}}class R5 extends Cx{constructor(t,e){super(t,e,!1),this.xu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.xu.syncEngine;this.sharedClientState instanceof by&&(this.sharedClientState.syncEngine={Co:E5.bind(null,e),vo:b5.bind(null,e),Fo:w5.bind(null,e),Ts:A5.bind(null,e),Do:T5.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await S5(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(t){const e=hx();if(!by.v(e))throw new ut(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ZC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new by(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class nh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y5.bind(null,this.syncEngine),await I_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new e5})()}createDatastore(t){const e=Nm(t.databaseInfo.databaseId),i=(function(l){return new L6(l)})(t.databaseInfo);return(function(l,u,h,d){return new j6(l,u,h,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,h){return new q6(i,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>j1(this.syncEngine,e,0)),(function(){return O1.v()?new O1:new M6})())}createSyncEngine(t,e){return(function(a,l,u,h,d,p,y){const v=new o5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=yt(e);it(ro,"RemoteStore shutting down."),i.Ea.add(5),await yh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nh.provider={build:()=>new nh};class xx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ie("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Kr="FirestoreClient";class C5{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{it(Kr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(it(Kr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Xv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Iy(n,t){n.asyncQueue.verifyOperationInProgress(),it(Kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await nx(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function q1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await x5(n);it(Kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>L1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>L1(t.remoteStore,a))),n._onlineComponents=t}async function x5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){it(Kr,"Using user provided OfflineComponentProvider");try{await Iy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;qc("Error using user provided cache. Falling back to memory cache: "+e),await Iy(n,new eh)}}else it(Kr,"Using default OfflineComponentProvider"),await Iy(n,new I5(void 0));return n._offlineComponents}async function Dx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(it(Kr,"Using user provided OnlineComponentProvider"),await q1(n,n._uninitializedComponentsProvider._online)):(it(Kr,"Using default OnlineComponentProvider"),await q1(n,new nh))),n._onlineComponents}function D5(n){return Dx(n).then((t=>t.syncEngine))}async function x_(n){const t=await Dx(n),e=t.eventManager;return e.onListen=l5.bind(null,t.syncEngine),e.onUnlisten=c5.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=u5.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=h5.bind(null,t.syncEngine),e}function V5(n,t,e={}){const i=new xs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new xx({next:S=>{y.Nu(),u.enqueueAndForget((()=>Tx(l,v))),S.fromCache&&d.source==="server"?p.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),v=new Ex(h,y,{includeMetadataChanges:!0,qa:!0});return vx(l,v)})(await x_(n),n.asyncQueue,t,e,i))),i.promise}function Vx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const H1=new Map;const P5="firestore.googleapis.com",G1=!0;class K1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P5,this.ssl=G1}else this.host=t.host,this.ssl=t.ssl??G1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QC)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nT{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new wL;switch(i.type){case"firstParty":return new CL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=H1.get(e);i&&(it("ComponentProvider","Removing Datastore"),H1.delete(e),i.terminate())})(this),Promise.resolve()}}class zs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new zs(this.firestore,t,this._query)}}class Re{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(hh(e,Re._jsonSchema))return new Re(t,i||null,new ht(Yt.fromString(e.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:je("string",Re._jsonSchemaVersion),referencePath:je("string")};class zr extends zs{constructor(t,e,i){super(t,e,Im(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ht(t))}withConverter(t){return new zr(this.firestore,t,this._path)}}function Oc(n,t,...e){if(n=Je(n),wR("collection","path",t),n instanceof nT){const i=Yt.fromString(t,...e);return kb(i),new zr(n,null,i)}{if(!(n instanceof Re||n instanceof zr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return kb(i),new zr(n.firestore,null,i)}}function Fl(n,t,...e){if(n=Je(n),arguments.length===1&&(t=vv.newId()),wR("doc","path",t),n instanceof nT){const i=Yt.fromString(t,...e);return Ob(i),new Re(n,null,new ht(i))}{if(!(n instanceof Re||n instanceof zr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(t,...e));return Ob(i),new Re(n.firestore,n instanceof zr?n.converter:null,new ht(i))}}const Q1="AsyncQueue";class Y1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const i=Id();i&&it(Q1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Id();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Id();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$r(t))throw t;it(Q1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ie("INTERNAL UNHANDLED ERROR: ",X1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Yv.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&pt(47125,{Pc:X1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function X1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function $1(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Qr extends nT{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Y1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Y1(t),this._firestoreClient=void 0,await t}}}function M5(n,t,e){e||(e=Hd);const i=yv(n,"firestore");if(i.isInitialized(e)){const a=i.getImmediate({identifier:e}),l=i.getOptions(e);if(Wa(l,t))return a;throw new ut(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ut(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QC)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Kl(t.host)&&oR(t.host),i.initialize({options:t,instanceIdentifier:e})}function iT(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N5(n),n._firestoreClient}function N5(n){const t=n._freezeSettings(),e=(function(a,l,u,h){return new f3(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Vx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new C5(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(Ce.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ri(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hh(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:je("string",ri._jsonSchemaVersion),bytes:je("string")};class Um{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Bm{constructor(t){this._methodName=t}}class es{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(t){if(hh(t,es._jsonSchema))return new es(t.latitude,t.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:je("string",es._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class ns{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hh(t,ns._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ns(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:je("string",ns._jsonSchemaVersion),vectorValues:je("object")};const O5=/^__.*__$/;class k5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms):new $l(t,this.data,e,this.fieldTransforms)}}class Px{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Mx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:n})}}class sT{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sT({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Mx(this.Ac)&&O5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class L5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Nm(t)}Cc(t,e,i,a=!1){return new sT({Ac:t,methodName:e,Dc:i,path:ge.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zm(n){const t=n._freezeSettings(),e=Nm(n._databaseId);return new L5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nx(n,t,e,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,t,e,a);aT("Data must be an object, but it was:",u,i);const h=Ox(i,u);let d,p;if(l.merge)d=new Dn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const S=D_(t,v,e);if(!u.contains(S))throw new ut(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Lx(y,S)||y.push(S)}d=new Dn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new k5(new fn(h),d,p)}class jm extends Bm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jm}}class rT extends Bm{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new kl(t.serializer,pC(t.serializer,this.Fc));return new TC(t.path,e)}isEqual(t){return t instanceof rT&&this.Fc===t.Fc}}function U5(n,t,e,i){const a=n.Cc(1,t,e);aT("Data must be an object, but it was:",a,i);const l=[],u=fn.empty();Wr(i,((d,p)=>{const y=oT(t,d,e);p=Je(p);const v=a.yc(y);if(p instanceof jm)l.push(y);else{const S=_h(p,v);S!=null&&(l.push(y),u.set(y,S))}}));const h=new Dn(l);return new Px(u,h,a.fieldTransforms)}function B5(n,t,e,i,a,l){const u=n.Cc(1,t,e),h=[D_(t,i,e)],d=[a];if(l.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)h.push(D_(t,l[S])),d.push(l[S+1]);const p=[],y=fn.empty();for(let S=h.length-1;S>=0;--S)if(!Lx(p,h[S])){const I=h[S];let V=d[S];V=Je(V);const k=u.yc(I);if(V instanceof jm)p.push(I);else{const B=_h(V,k);B!=null&&(p.push(I),y.set(I,B))}}const v=new Dn(p);return new Px(y,v,u.fieldTransforms)}function z5(n,t,e,i=!1){return _h(e,n.Cc(i?4:3,t))}function _h(n,t){if(kx(n=Je(n)))return aT("Unsupported field value:",t,n),Ox(n,t);if(n instanceof Bm)return(function(i,a){if(!Mx(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let d=_h(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pC(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Jt.fromDate(i);return{timestampValue:Ll(a.serializer,l)}}if(i instanceof Jt){const l=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ll(a.serializer,l)}}if(i instanceof es)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ri)return{bytesValue:RC(a.serializer,i._byteString)};if(i instanceof Re){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ns)return(function(u,h){return{mapValue:{fields:{[Rv]:{stringValue:Cv},[Dl]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Vv(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${_m(i)}`)})(n,t)}function Ox(n,t){const e={};return qR(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(n,((i,a)=>{const l=_h(a,t.mc(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function kx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof es||n instanceof ri||n instanceof Re||n instanceof Bm||n instanceof ns)}function aT(n,t,e){if(!kx(e)||!IR(e)){const i=_m(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function D_(n,t,e){if((t=Je(t))instanceof Um)return t._internalPath;if(typeof t=="string")return oT(n,t);throw sm("Field path arguments must be of type string or ",n,!1,void 0,e)}const j5=new RegExp("[~\\*/\\[\\]]");function oT(n,t,e){if(t.search(j5)>=0)throw sm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Um(...t.split("."))._internalPath}catch{throw sm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sm(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ut(J.INVALID_ARGUMENT,h+n+d)}function Lx(n,t){return n.some((e=>e.isEqual(t)))}class Ux{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new F5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Fm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class F5 extends Ux{data(){return super.data()}}function Fm(n,t){return typeof t=="string"?oT(n,t):t instanceof Um?t._internalPath:t._delegate._internalPath}function Bx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lT{}class uT extends lT{}function zx(n,t,...e){let i=[];t instanceof lT&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((d=>d instanceof cT)).length,h=l.filter((d=>d instanceof qm)).length;if(u>1||u>0&&h>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class qm extends uT{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new qm(t,e,i)}_apply(t){const e=this._parse(t);return Fx(t._query,e),new zs(t.firestore,t.converter,p_(t._query,e))}_parse(t){const e=zm(t.firestore);return(function(l,u,h,d,p,y,v){let S;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){J1(v,y);const V=[];for(const k of v)V.push(W1(d,l,k));S={arrayValue:{values:V}}}else S=W1(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||J1(v,y),S=z5(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function jx(n,t,e){const i=t,a=Fm("where",n);return qm._create(a,i,e)}class cT extends lT{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new cT(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Zt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)Fx(u,d),u=p_(u,d)})(t._query,e),new zs(t.firestore,t.converter,p_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hT extends uT{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new hT(t,e)}_apply(t){const e=(function(a,l,u){if(a.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(l,u)})(t._query,this._field,this._direction);return new zs(t.firestore,t.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Xl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function kB(n,t="asc"){const e=t,i=Fm("orderBy",n);return hT._create(i,e)}class fT extends uT{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new fT(t,e,i)}_apply(t){return new zs(t.firestore,t.converter,Qd(t._query,this._limit,this._limitType))}}function LB(n){return fT._create("limit",n,"F")}function W1(n,t,e){if(typeof(e=Je(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oC(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Yt.fromString(e));if(!ht.isDocumentKey(i))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wc(n,new ht(i))}if(e instanceof Re)return Wc(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(e)}.`)}function J1(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Fx(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class q5{convertValue(t,e="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Wr(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Dl].arrayValue?.values?.map((i=>de(i.doubleValue)));return new ns(e)}convertGeoPoint(t){return new es(de(t.latitude),de(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=bm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xc(t));default:return null}}convertTimestamp(t){const e=Ms(t);return new Jt(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Yt.fromString(t);vt(LC(i),9688,{name:t});const a=new to(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||Ie(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function qx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Tc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xa extends Ux{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Fm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Xa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:je("string",Xa._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Rd extends Xa{data(t={}){return super.data(t)}}class $a{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Tc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Rd(this._firestore,this._userDataWriter,i.key,i,new Tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Rd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Rd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:H5(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function H5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:n})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:je("string",$a._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class dT extends q5{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,e)}}function UB(n){n=bi(n,zs);const t=bi(n.firestore,Qr),e=iT(t),i=new dT(t);return Bx(n._query),V5(e,n._query).then((a=>new $a(t,i,n,a)))}function Z1(n,t,e){n=bi(n,Re);const i=bi(n.firestore,Qr),a=qx(n.converter,t,e);return Hm(i,[Nx(zm(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,mn.none())])}function G5(n,t,e,...i){n=bi(n,Re);const a=bi(n.firestore,Qr),l=zm(a);let u;return u=typeof(t=Je(t))=="string"||t instanceof Um?B5(l,"updateDoc",n._key,t,e,i):U5(l,"updateDoc",n._key,t),Hm(a,[u.toMutation(n._key,mn.exists(!0))])}function Hx(n){return Hm(bi(n.firestore,Qr),[new Dm(n._key,mn.none())])}function V_(n,t){const e=bi(n.firestore,Qr),i=Fl(n),a=qx(n.converter,t);return Hm(e,[Nx(zm(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,mn.exists(!1))]).then((()=>i))}function mT(n,...t){n=Je(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||$1(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if($1(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let l,u,h;if(n instanceof Re)u=bi(n.firestore,Qr),h=Im(n._key.path),l={next:d=>{t[i]&&t[i](K5(u,n,d))},error:t[i+1],complete:t[i+2]};else{const d=bi(n,zs);u=bi(d.firestore,Qr),h=d._query;const p=new dT(u);l={next:y=>{t[i]&&t[i](new $a(u,p,d,y))},error:t[i+1],complete:t[i+2]},Bx(n._query)}return(function(p,y,v,S){const I=new xx(S),V=new Ex(y,I,v);return p.asyncQueue.enqueueAndForget((async()=>vx(await x_(p),V))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>Tx(await x_(p),V)))}})(iT(u),h,a,l)}function Hm(n,t){return(function(i,a){const l=new xs;return i.asyncQueue.enqueueAndForget((async()=>f5(await D5(i),a,l))),l.promise})(iT(n),t)}function K5(n,t,e){const i=e.docs.get(t._key),a=new dT(n);return new Xa(n,a,t._key,i,new Tc(e.hasPendingWrites,e.fromCache),t.converter)}class Q5{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=W5(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Y5(n){return new Q5(n)}class X5{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=nh.provider,this._offlineComponentProvider={build:e=>new Cx(e,t?.cacheSizeBytes,this.forceOwnership)}}}class $5{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=nh.provider,this._offlineComponentProvider={build:e=>new R5(e,t?.cacheSizeBytes)}}}function W5(n){return new X5(n?.forceOwnership)}function J5(){return new $5}function BB(n){return new rT("increment",n)}(function(t,e=!0){(function(a){Yl=a})(Ql),Al(new Ja("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Qr(new IL(i.getProvider("auth-internal")),new xL(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Lr(Vb,Pb,t),Lr(Vb,Pb,"esm2020")})();function Gx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z5=Gx,Kx=new uh("auth","Firebase",Gx());const rm=new pv("@firebase/auth");function tU(n,...t){rm.logLevel<=Bt.WARN&&rm.warn(`Auth (${Ql}): ${n}`,...t)}function Cd(n,...t){rm.logLevel<=Bt.ERROR&&rm.error(`Auth (${Ql}): ${n}`,...t)}function wi(n,...t){throw pT(n,...t)}function is(n,...t){return pT(n,...t)}function Qx(n,t,e){const i={...Z5(),[t]:e};return new uh("auth","Firebase",i).create(t,{appName:n.name})}function ss(n){return Qx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pT(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Kx.create(n,...t)}function At(n,t,...e){if(!n)throw pT(t,...e)}function Rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Cd(t),new Error(t)}function Os(n,t){n||Rs(t)}function P_(){return typeof self<"u"&&self.location?.href||""}function eU(){return tw()==="http:"||tw()==="https:"}function tw(){return typeof self<"u"&&self.location?.protocol||null}function nU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||n4()||"connection"in navigator)?navigator.onLine:!0}function iU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class vh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=t4()||i4()}get(){return nU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gT(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Yx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aU=new vh(3e4,6e4);function js(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Fs(n,t,e,i,a={}){return Xx(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const h=ch({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...l};return e4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Kl(n.emulatorConfig.host)&&(p.credentials="include"),Yx.fetch()(await $x(n,n.config.apiHost,e,h),p)})}async function Xx(n,t,e){n._canInitEmulator=!1;const i={...sU,...t};try{const a=new lU(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw cd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw cd(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Qx(n,y,p);wi(n,y)}}catch(a){if(a instanceof Ls)throw a;wi(n,"network-request-failed",{message:String(a)})}}async function Th(n,t,e,i,a={}){const l=await Fs(n,t,e,i,a);return"mfaPendingCredential"in l&&wi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function $x(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?gT(n.config,a):`${n.config.apiScheme}://${a}`;return rU.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function oU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(is(this.auth,"network-request-failed")),aU.get())})}}function cd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=is(n,t,i);return a.customData._tokenResponse=e,a}function ew(n){return n!==void 0&&n.enterprise!==void 0}class uU{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return oU(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cU(n,t){return Fs(n,"GET","/v2/recaptchaConfig",js(n,t))}async function hU(n,t){return Fs(n,"POST","/v1/accounts:delete",t)}async function am(n,t){return Fs(n,"POST","/v1/accounts:lookup",t)}function kc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fU(n,t=!1){const e=Je(n),i=await e.getIdToken(t),a=yT(i);At(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:kc(Ry(a.auth_time)),issuedAtTime:kc(Ry(a.iat)),expirationTime:kc(Ry(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ry(n){return Number(n)*1e3}function yT(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const a=iR(e);return a?JSON.parse(a):(Cd("Failed to decode base64 JWT payload"),null)}catch(a){return Cd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function nw(n){const t=yT(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ih(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ls&&dU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function dU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class mU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class M_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function om(n){const t=n.auth,e=await n.getIdToken(),i=await ih(n,am(t,{idToken:e}));At(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Wx(a.providerUserInfo):[],u=gU(n.providerData,l),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new M_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function pU(n){const t=Je(n);await om(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gU(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function Wx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function yU(n,t){const e=await Xx(n,{},async()=>{const i=ch({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await $x(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&Kl(n.emulatorConfig.host)&&(d.credentials="include"),Yx.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function _U(n,t){return Fs(n,"POST","/v2/accounts:revokeToken",js(n,t))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=nw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await yU(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new _l;return i&&(At(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(At(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function Ir(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ai{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new mU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new M_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await ih(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return fU(this,t)}reload(){return pU(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await om(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ss(this.auth));const t=await this.getIdToken();return await ih(this,hU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:I,providerData:V,stsTokenManager:k}=e;At(v&&k,t,"internal-error");const B=_l.fromJSON(this.name,k);At(typeof v=="string",t,"internal-error"),Ir(i,t.name),Ir(a,t.name),At(typeof S=="boolean",t,"internal-error"),At(typeof I=="boolean",t,"internal-error"),Ir(l,t.name),Ir(u,t.name),Ir(h,t.name),Ir(d,t.name),Ir(p,t.name),Ir(y,t.name);const X=new Ai({uid:v,auth:t,email:a,emailVerified:S,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:B,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(X.providerData=V.map($=>({...$}))),d&&(X._redirectEventId=d),X}static async _fromIdTokenResponse(t,e,i=!1){const a=new _l;a.updateFromServerResponse(e);const l=new Ai({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await om(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Wx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new _l;h.updateFromIdToken(i);const d=new Ai({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new M_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const iw=new Map;function Cs(n){Os(n instanceof Function,"Expected a class definition");let t=iw.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,iw.set(n,t),t)}class Jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Jx.type="NONE";const sw=Jx;function xd(n,t,e){return`firebase:${n}:${t}:${e}`}class vl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await am(this.auth,{idToken:t}).catch(()=>{});return e?Ai._fromGetAccountInfoResponse(this.auth,e,t):null}return Ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new vl(Cs(sw),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Cs(sw);const u=xd(i,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const S=await am(t,{idToken:y}).catch(()=>{});if(!S)break;v=await Ai._fromGetAccountInfoResponse(t,S,y)}else v=Ai._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new vl(l,t,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new vl(l,t,i))}}function rw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s2(t))return"Blackberry";if(r2(t))return"Webos";if(t2(t))return"Safari";if((t.includes("chrome/")||e2(t))&&!t.includes("edge/"))return"Chrome";if(i2(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Zx(n=Ke()){return/firefox\//i.test(n)}function t2(n=Ke()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e2(n=Ke()){return/crios\//i.test(n)}function n2(n=Ke()){return/iemobile/i.test(n)}function i2(n=Ke()){return/android/i.test(n)}function s2(n=Ke()){return/blackberry/i.test(n)}function r2(n=Ke()){return/webos/i.test(n)}function _T(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vU(n=Ke()){return _T(n)&&!!window.navigator?.standalone}function TU(){return s4()&&document.documentMode===10}function a2(n=Ke()){return _T(n)||i2(n)||r2(n)||s2(n)||/windows phone/i.test(n)||n2(n)}function o2(n,t=[]){let e;switch(n){case"Browser":e=rw(Ke());break;case"Worker":e=`${rw(Ke())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ql}/${i}`}class EU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,h)=>{try{const d=t(l);u(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function SU(n,t={}){return Fs(n,"GET","/v2/passwordPolicy",js(n,t))}const AU=6;class bU{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??AU,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class wU{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aw(this),this.idTokenSubscription=new aw(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await am(this,{idToken:t}),i=await Ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await om(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iU()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(ss(this));const e=t?Je(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SU(this),e=new bU(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new uh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await _U(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cs(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,a);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tU(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qs(n){return Je(n)}class aw{constructor(t){this.auth=t,this.observer=null,this.addObserver=c4(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IU(n){Gm=n}function l2(n){return Gm.loadJS(n)}function RU(){return Gm.recaptchaEnterpriseScript}function CU(){return Gm.gapiScript}function xU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DU{constructor(){this.enterprise=new VU}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class VU{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const PU="recaptcha-enterprise",u2="NO_RECAPTCHA";class MU{constructor(t){this.type=PU,this.auth=qs(t)}async verify(t="verify",e=!1){async function i(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{cU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new uU(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;ew(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:t}).then(p=>{u(p)}).catch(()=>{u(u2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!e&&ew(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=RU();d.length!==0&&(d+=h),l2(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function ow(n,t,e,i=!1,a=!1){const l=new MU(n);let u;if(a)u=u2;else try{u=await l.verify(e)}catch{u=await l.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function lm(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ow(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ow(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}function NU(n,t){const e=yv(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Wa(l,t??{}))return a;wi(a,"already-initialized")}return e.initialize({options:t})}function OU(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Cs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function kU(n,t,e){const i=qs(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=c2(t),{host:u,port:h}=LU(t),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(Wa(p,i.config.emulator)&&Wa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Kl(u)?(oR(`${l}//${u}${d}`),Zk("Auth",!0)):UU()}function c2(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function LU(n){const t=c2(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:lw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:lw(u)}}}function lw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function UU(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class vT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}async function BU(n,t){return Fs(n,"POST","/v1/accounts:signUp",t)}async function zU(n,t){return Th(n,"POST","/v1/accounts:signInWithPassword",js(n,t))}async function jU(n,t){return Fs(n,"POST","/v1/accounts:sendOobCode",js(n,t))}async function FU(n,t){return jU(n,t)}async function qU(n,t){return Th(n,"POST","/v1/accounts:signInWithEmailLink",js(n,t))}async function HU(n,t){return Th(n,"POST","/v1/accounts:signInWithEmailLink",js(n,t))}class sh extends vT{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new sh(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new sh(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,e,"signInWithPassword",zU);case"emailLink":return qU(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,i,"signUpPassword",BU);case"emailLink":return HU(t,{idToken:e,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Tl(n,t){return Th(n,"POST","/v1/accounts:signInWithIdp",js(n,t))}const GU="http://localhost";class ao extends vT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ao(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new ao(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Tl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Tl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Tl(t,e)}buildRequest(){const t={requestUri:GU,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ch(e)}return t}}function KU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QU(n){const t=mc(pc(n)).link,e=t?mc(pc(t)).deep_link_id:null,i=mc(pc(n)).deep_link_id;return(i?mc(pc(i)).link:null)||i||e||t||n}class TT{constructor(t){const e=mc(pc(t)),i=e.apiKey??null,a=e.oobCode??null,l=KU(e.mode??null);At(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=QU(t);try{return new TT(e)}catch{return null}}}class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(t,e){return sh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=TT.parseLink(e);return At(i,"argument-error"),sh._fromEmailAndCode(t,i.code,i.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Eh extends h2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class xr extends Eh{constructor(){super("facebook.com")}static credential(t){return ao._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";class Dr extends Eh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ao._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Dr.credential(e,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class Vr extends Eh{constructor(){super("github.com")}static credential(t){return ao._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Pr extends Eh{constructor(){super("twitter.com")}static credential(t,e){return ao._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Pr.credential(e,i)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function f2(n,t){return Th(n,"POST","/v1/accounts:signUp",js(n,t))}class ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await Ai._fromIdTokenResponse(t,i,a),u=uw(i);return new ks({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=uw(i);return new ks({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function uw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function YU(n){if(jn(n.app))return Promise.reject(ss(n));const t=qs(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ks({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await f2(t,{returnSecureToken:!0}),i=await ks._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class um extends Ls{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,um.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new um(t,e,i,a)}}function d2(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(n,l,t,i):l})}async function XU(n,t,e=!1){const i=await ih(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ks._forOperation(n,"link",i)}async function $U(n,t,e=!1){const{auth:i}=n;if(jn(i.app))return Promise.reject(ss(i));const a="reauthenticate";try{const l=await ih(n,d2(i,a,t,n),e);At(l.idToken,i,"internal-error");const u=yT(l.idToken);At(u,i,"internal-error");const{sub:h}=u;return At(n.uid===h,i,"user-mismatch"),ks._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),l}}async function m2(n,t,e=!1){if(jn(n.app))return Promise.reject(ss(n));const i="signIn",a=await d2(n,i,t),l=await ks._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}async function WU(n,t){return m2(qs(n),t)}async function p2(n){const t=qs(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function JU(n,t,e){const i=qs(n);await lm(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",FU)}async function ZU(n,t,e){if(jn(n.app))return Promise.reject(ss(n));const i=qs(n),u=await lm(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&p2(n),d}),h=await ks._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function t9(n,t,e){return jn(n.app)?Promise.reject(ss(n)):WU(Je(n),tu.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&p2(n),i})}function e9(n,t,e,i){return Je(n).onIdTokenChanged(t,e,i)}function n9(n,t,e){return Je(n).beforeAuthStateChanged(t,e)}function i9(n,t,e,i){return Je(n).onAuthStateChanged(t,e,i)}const cm="__sak";class g2{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const s9=1e3,r9=10;class y2 extends g2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);TU()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,r9):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}y2.type="LOCAL";const a9=y2;class _2 extends g2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}_2.type="SESSION";const v2=_2;function o9(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Km{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Km(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),d=await o9(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];function ET(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class l9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=ET("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(S.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function rs(){return window}function u9(n){rs().location.href=n}function T2(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function c9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h9(){return navigator?.serviceWorker?.controller||null}function f9(){return T2()?self:null}const E2="firebaseLocalStorageDb",d9=1,hm="firebaseLocalStorage",S2="fbase_key";class Sh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Qm(n,t){return n.transaction([hm],t?"readwrite":"readonly").objectStore(hm)}function m9(){const n=indexedDB.deleteDatabase(E2);return new Sh(n).toPromise()}function N_(){const n=indexedDB.open(E2,d9);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(hm,{keyPath:S2})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(hm)?t(i):(i.close(),await m9(),t(await N_()))})})}async function cw(n,t,e){const i=Qm(n,!0).put({[S2]:t,value:e});return new Sh(i).toPromise()}async function p9(n,t){const e=Qm(n,!1).get(t),i=await new Sh(e).toPromise();return i===void 0?null:i.value}function hw(n,t){const e=Qm(n,!0).delete(t);return new Sh(e).toPromise()}const g9=800,y9=3;class A2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>y9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(f9()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c9(),!this.activeServiceWorker)return;this.sender=new l9(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||h9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await N_();return await cw(t,cm,"1"),await hw(t,cm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>p9(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Qm(a,!1).getAll();return new Sh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A2.type="LOCAL";const _9=A2;new vh(3e4,6e4);function v9(n,t){return t?Cs(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ST extends vT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Tl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Tl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function T9(n){return m2(n.auth,new ST(n),n.bypassAuthState)}function E9(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),$U(e,new ST(n),n.bypassAuthState)}async function S9(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),XU(e,new ST(n),n.bypassAuthState)}class b2{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return T9;case"linkViaPopup":case"linkViaRedirect":return S9;case"reauthViaPopup":case"reauthViaRedirect":return E9;default:wi(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A9=new vh(2e3,1e4);class pl extends b2{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=ET();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,A9.get())};t()}}pl.currentPopupAction=null;const b9="pendingRedirect",Dd=new Map;class w9 extends b2{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Dd.get(this.auth._key());if(!t){try{const i=await I9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Dd.set(this.auth._key(),t)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I9(n,t){const e=x9(t),i=C9(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function R9(n,t){Dd.set(n._key(),t)}function C9(n){return Cs(n._redirectPersistence)}function x9(n){return xd(b9,n.config.apiKey,n.name)}async function D9(n,t,e=!1){if(jn(n.app))return Promise.reject(ss(n));const i=qs(n),a=v9(i,t),u=await new w9(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const V9=600*1e3;class P9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!M9(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!w2(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(is(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V9&&this.cachedEventUids.clear(),this.cachedEventUids.has(fw(t))}saveEventToCache(t){this.cachedEventUids.add(fw(t)),this.lastProcessedEventTime=Date.now()}}function fw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function w2({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function M9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(n);default:return!1}}async function N9(n,t={}){return Fs(n,"GET","/v1/projects",t)}const O9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k9=/^https?/;async function L9(n){if(n.config.emulator)return;const{authorizedDomains:t}=await N9(n);for(const e of t)try{if(U9(e))return}catch{}wi(n,"unauthorized-domain")}function U9(n){const t=P_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!k9.test(e))return!1;if(O9.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const B9=new vh(3e4,6e4);function dw(){const n=rs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function z9(n){return new Promise((t,e)=>{function i(){dw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dw(),e(is(n,"network-request-failed"))},timeout:B9.get()})}if(rs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(rs().gapi?.load)i();else{const a=xU("iframefcb");return rs()[a]=()=>{gapi.load?i():e(is(n,"network-request-failed"))},l2(`${CU()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw Vd=null,t})}let Vd=null;function j9(n){return Vd=Vd||z9(n),Vd}const F9=new vh(5e3,15e3),q9="__/auth/iframe",H9="emulator/auth/iframe",G9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q9(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?gT(t,H9):`https://${n.config.authDomain}/${q9}`,i={apiKey:t.apiKey,appName:n.name,v:Ql},a=K9.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${ch(i).slice(1)}`}async function Y9(n){const t=await j9(n),e=rs().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:Q9(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=is(n,"network-request-failed"),h=rs().setTimeout(()=>{l(u)},F9.get());function d(){rs().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}const X9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$9=500,W9=600,J9="_blank",Z9="http://localhost";class mw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tB(n,t,e,i=$9,a=W9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...X9,width:i.toString(),height:a.toString(),top:l,left:u},p=Ke().toLowerCase();e&&(h=e2(p)?J9:e),Zx(p)&&(t=t||Z9,d.scrollbars="yes");const y=Object.entries(d).reduce((S,[I,V])=>`${S}${I}=${V},`,"");if(vU(p)&&h!=="_self")return eB(t||"",h),new mw(null);const v=window.open(t||"",h,y);At(v,n,"popup-blocked");try{v.focus()}catch{}return new mw(v)}function eB(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const nB="__/auth/handler",iB="emulator/auth/handler",sB=encodeURIComponent("fac");async function pw(n,t,e,i,a,l){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ql,eventId:a};if(t instanceof h2){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",u4(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof Eh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),p=d?`#${sB}=${encodeURIComponent(d)}`:"";return`${rB(n)}?${ch(h).slice(1)}${p}`}function rB({config:n}){return n.emulator?gT(n,iB):`https://${n.authDomain}/${nB}`}const Cy="webStorageSupport";class aB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v2,this._completeRedirectFn=D9,this._overrideRedirectResult=R9}async _openPopup(t,e,i,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await pw(t,e,i,P_(),a);return tB(t,l,ET())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await pw(t,e,i,P_(),a);return u9(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Y9(t),i=new P9(t);return e.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cy,{type:Cy},a=>{const l=a?.[0]?.[Cy];l!==void 0&&e(!!l),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=L9(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return a2()||t2()||_T()}}const oB=aB;var gw="@firebase/auth",yw="1.12.0";class lB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cB(n){Al(new Ja("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;At(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o2(n)},p=new wU(i,a,l,d);return OU(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Al(new Ja("auth-internal",t=>{const e=qs(t.getProvider("auth").getImmediate());return(i=>new lB(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(gw,yw,uB(n)),Lr(gw,yw,"esm2020")}const hB=300,fB=aR("authIdTokenMaxAge")||hB;let _w=null;const dB=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>fB)return;const a=e?.token;_w!==a&&(_w=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mB(n=hL()){const t=yv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=NU(n,{popupRedirectResolver:oB,persistence:[_9,a9,v2]}),i=aR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=dB(l.toString());n9(e,u,()=>u(e.currentUser)),e9(e,h=>u(h))}}const a=Xk("auth");return a&&kU(e,`http://${a}`),e}function pB(){return document.getElementsByTagName("head")?.[0]??document}IU({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=is("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",pB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cB("Browser");const gB={apiKey:"AIzaSyDFJKoHEhMnpjt2bqTPpzru1qdA_rUOEdk",authDomain:"bitlkhzin-8d5c8.firebaseapp.com",projectId:"bitlkhzin-8d5c8",storageBucket:"bitlkhzin-8d5c8.firebasestorage.app",messagingSenderId:"862517672946",appId:"1:862517672946:web:66efa0f33cd67f0751896b"},I2=mR(gB),$i=M5(I2,{localCache:Y5({tabManager:J5()})}),qa=mB(I2),yB=({children:n,currentView:t="inventory",onNavigate:e})=>z.jsxs("div",{className:"layout-container",style:{display:"flex",minHeight:"100vh"},children:[z.jsxs("aside",{className:"glass-panel sidebar desktop-only",style:{width:"260px",margin:"24px 0 24px 24px",height:"calc(100vh - 48px)",position:"sticky",top:"24px",display:"flex",flexDirection:"column",padding:"32px 24px",borderRadius:"32px"},children:[z.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px",paddingLeft:"12px"},children:[z.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, hsl(var(--color-primary)), #8b5cf6)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.4)"},children:z.jsx(ak,{size:28,strokeWidth:2})}),z.jsx("span",{style:{fontSize:"1.25rem",fontWeight:800,color:"white",letterSpacing:"-0.02em"},children:"Tqadiya"})]}),z.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"12px",flex:1},children:[z.jsx(hd,{icon:z.jsx(gb,{size:22}),label:"Inventory",active:t==="inventory",onClick:()=>e?.("inventory")}),z.jsx(hd,{icon:z.jsx(_b,{size:22}),label:"Shopping List",active:t==="todo",onClick:()=>e?.("todo")}),z.jsx(hd,{icon:z.jsx(yb,{size:22}),label:"Settings",active:t==="settings",onClick:()=>e?.("settings")})]}),z.jsx("div",{style:{marginTop:"auto",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,0.05)",width:"100%"},children:z.jsx(hd,{icon:z.jsx(ZI,{size:20}),label:"Sign Out",onClick:()=>qa.signOut(),active:!1,danger:!0})})]}),z.jsx("main",{style:{flex:1,padding:"24px",maxWidth:"100%",paddingBottom:"100px",marginLeft:"0"},children:z.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",width:"100%"},children:n})}),z.jsx("div",{className:"mobile-nav-container mobile-only",style:{zIndex:50},children:z.jsxs("ul",{className:"nav-list",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",width:"100%"},children:[z.jsx("li",{className:`nav-item ${t==="inventory"||t==="add"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:z.jsxs("button",{className:`nav-link ${t==="inventory"||t==="add"?"active":""}`,onClick:()=>e?.("inventory"),children:[z.jsx("span",{className:"icon",children:z.jsx(gb,{size:24})}),z.jsx("span",{className:"text",children:"Pantry"})]})}),z.jsx("li",{className:`nav-item ${t==="todo"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:z.jsxs("button",{className:`nav-link ${t==="todo"?"active":""}`,onClick:()=>e?.("todo"),children:[z.jsx("span",{className:"icon",children:z.jsx(_b,{size:24})}),z.jsx("span",{className:"text",children:"Shop"})]})}),z.jsx("li",{className:`nav-item ${t==="settings"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:z.jsxs("button",{className:`nav-link ${t==="settings"?"active":""}`,onClick:()=>e?.("settings"),children:[z.jsx("span",{className:"icon",children:z.jsx(yb,{size:24})}),z.jsx("span",{className:"text",children:"Settings"})]})}),z.jsx("div",{className:"indicator",style:{left:`calc(100% / 3 * ${t==="inventory"||t==="add"?0:t==="todo"?1:2} + 100% / 6 - 28px)`}})]})}),z.jsx("style",{children:`
        @media (max-width: 1024px) {
          .desktop-only { display: none !important; }
        }
        @media (min-width: 1025px) {
          .mobile-only { display: none !important; }
        }
      `})]}),hd=({icon:n,label:t,active:e=!1,onClick:i,danger:a=!1})=>z.jsxs("button",{onClick:i,className:"tap-scale",style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px 24px",width:"100%",borderRadius:"20px",border:e?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",background:e?"rgba(59, 130, 246, 0.15)":"transparent",boxShadow:e?"0 0 20px -5px rgba(59, 130, 246, 0.3)":"none",color:e?"#60a5fa":a?"#ef4444":"rgba(255,255,255,0.6)",cursor:"pointer",fontWeight:e?600:500,transition:"all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",textAlign:"left",fontSize:"1rem",position:"relative"},children:[z.jsx("span",{style:{color:e?"#60a5fa":"currentColor",display:"flex",alignItems:"center",filter:e?"drop-shadow(0 0 8px rgba(96, 165, 250, 0.5))":"none"},children:n}),z.jsx("span",{style:{opacity:e?1:.9},children:t})]}),Pd=["Produce","Dairy","Bakery","Meat","Frozen","Pantry","Beverages","Snacks","Household","Other"],_B={milk:"Dairy",cheese:"Dairy",yogurt:"Dairy",butter:"Dairy",egg:"Dairy","7lib":"Dairy",lben:"Dairy",bayd:"Dairy",fermaj:"Dairy",danon:"Dairy",bread:"Bakery",bagel:"Bakery",sugar:"Bakery",flour:"Bakery",khobz:"Bakery",apple:"Produce",banana:"Produce",lettuce:"Produce",tomato:"Produce",onion:"Produce",potato:"Produce",maticha:"Produce",batata:"Produce",khei:"Produce",carrot:"Produce",khodra:"Produce",fakiya:"Produce",bsla:"Produce",touma:"Produce",na3na3:"Produce",rbi3:"Produce",chicken:"Meat",beef:"Meat",steak:"Meat",djaj:"Meat",l7em:"Meat",kefta:"Meat",saucisse:"Meat",hout:"Meat",water:"Beverages",juice:"Beverages",soda:"Beverages",coffee:"Beverages",tea:"Beverages",atay:"Beverages","9ahwa":"Beverages",monada:"Beverages",rice:"Pantry",pasta:"Pantry",oil:"Pantry",salt:"Pantry",pepper:"Pantry",zit:"Pantry","olive oil":"Pantry",skar:"Pantry",smida:"Pantry",semolina:"Pantry",laadas:"Pantry",lentils:"Pantry",homs:"Pantry",chickpeas:"Pantry",lubia:"Pantry",couscous:"Pantry"},R2=st.createContext({user:null,userProfile:null,loading:!0,updateHousehold:async()=>{}}),AT=()=>st.useContext(R2),vB=({children:n})=>{const[t,e]=st.useState(null),[i,a]=st.useState(null),[l,u]=st.useState(!0);st.useEffect(()=>{const d=i9(qa,async p=>{if(e(p),p){const y=Fl($i,"users",p.uid),v=mT(y,async S=>{if(S.exists())a(S.data());else{const I={uid:p.uid,email:p.email||"",householdId:p.uid};try{await Z1(y,I),a(I)}catch(V){console.error("Error creating profile:",V)}}u(!1)});return()=>v()}else a(null),u(!1)});return()=>d()},[]);const h=async d=>{if(!t)return;const p=Fl($i,"users",t.uid);await Z1(p,{householdId:d},{merge:!0})};return z.jsx(R2.Provider,{value:{user:t,userProfile:i,loading:l,updateHousehold:h},children:n})},TB=()=>{const[n,t]=st.useState([]),[e,i]=st.useState(!0),{user:a,userProfile:l}=AT();return st.useEffect(()=>{if(!a||!l?.householdId){t([]),i(!1);return}const y=zx(Oc($i,"inventory"),jx("householdId","==",l.householdId)),v=mT(y,S=>{const I=S.docs.map(V=>({id:V.id,...V.data()}));I.sort((V,k)=>k.createdAt-V.createdAt),t(I),i(!1)},S=>{console.error("Error fetching inventory:",S),i(!1)});return()=>v()},[a,l?.householdId]),{items:n,loading:e,addItem:async y=>{if(!a||!l?.householdId)return;let v=y.category;if(!v||v==="Other"){const V=y.name.toLowerCase();for(const[k,B]of Object.entries(_B))if(V.includes(k)){v=B;break}}const S=Date.now().toString(),I={...y,category:v,stockLevel:y.stockLevel||"full",id:S,userId:a.uid,householdId:l.householdId,createdAt:Date.now(),updatedAt:Date.now()};t(V=>[I,...V]);try{await V_(Oc($i,"inventory"),{...y,category:v,stockLevel:y.stockLevel||"full",userId:a.uid,householdId:l.householdId,createdAt:Date.now(),updatedAt:Date.now()})}catch(V){throw console.error("Error adding item:",V),t(k=>k.filter(B=>B.id!==S)),V}},updateItem:async(y,v)=>{t(S=>S.map(I=>I.id===y?{...I,...v,updatedAt:Date.now()}:I));try{await G5(Fl($i,"inventory",y),{...v,updatedAt:Date.now()})}catch(S){console.error("Error updating item:",S)}},deleteItem:async y=>{const v=n.find(S=>S.id===y);if(v){t(S=>S.filter(I=>I.id!==y));try{await Hx(Fl($i,"inventory",y))}catch(S){console.error("Error deleting item:",S),v&&t(I=>[...I,v].sort((V,k)=>k.createdAt-V.createdAt))}}},seedData:async()=>{if(!a||!l?.householdId)return;const y=[{name:"Khobz (Bread)",category:"Bakery",stockLevel:"full"},{name:"Atay (Tea)",category:"Beverages",stockLevel:"full"},{name:"Skar (Sugar)",category:"Pantry",stockLevel:"full"},{name:"Zit Zitoune",category:"Pantry",stockLevel:"full"},{name:"Farine & Smida",category:"Pantry",stockLevel:"full"},{name:"Laadas/Homs",category:"Pantry",stockLevel:"low"},{name:"Maticha (Tomato)",category:"Produce",stockLevel:"full"},{name:"Batata (Potato)",category:"Produce",stockLevel:"full"},{name:"Milk",category:"Dairy",stockLevel:"full"},{name:"Eggs",category:"Dairy",stockLevel:"low"}];try{const v=y.map(S=>V_(Oc($i,"inventory"),{...S,location:"kitchen",quantity:1,value:0,userId:a.uid,householdId:l.householdId,createdAt:Date.now(),updatedAt:Date.now()}));await Promise.all(v)}catch(v){console.error("Error seeding data:",v)}}}},C2=({children:n,className:t="",hoverEffect:e=!1,style:i,...a})=>z.jsx("div",{className:`glass-panel ${e?"hover-lift":""} ${t}`,style:{padding:"24px",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:e?"pointer":"default",...i},...a,children:n}),Nr=({children:n,variant:t="primary",size:e="md",isLoading:i,className:a="",disabled:l,...u})=>{const h=()=>{switch(t){case"primary":return"btn-primary";case"secondary":return"btn-secondary";case"danger":return"btn-primary";case"ghost":return"btn-ghost";default:return"btn-primary"}},d=()=>{switch(e){case"sm":return{padding:"8px 16px",fontSize:"0.875rem"};case"lg":return{padding:"16px 32px",fontSize:"1.25rem"};default:return{}}},p=h();return z.jsxs("button",{className:`${p} tap-scale ${a}`,disabled:i||l,style:{...d(),opacity:i||l?.7:1,cursor:i||l?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",...u.style},...u,children:[i&&z.jsx("svg",{className:"animate-spin",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"30 60"})}),n]})},EB=()=>{const[n,t]=st.useState(!1);return st.useEffect(()=>{typeof window<"u"&&window.deferredPrompt&&(console.log("[PWA] Hook found global deferredPrompt on mount"),t(!0));const i=a=>{a.preventDefault(),console.log("[PWA] Hook captured beforeinstallprompt dynamically"),t(!0),window.deferredPrompt=a};return window.addEventListener("beforeinstallprompt",i),()=>window.removeEventListener("beforeinstallprompt",i)},[]),{canInstall:n,triggerInstall:async()=>{const i=window.deferredPrompt;if(!i)return console.warn("[PWA] No prompt event available to trigger"),!1;await i.prompt();const{outcome:a}=await i.userChoice;return console.log(`[PWA] User response: ${a}`),window.deferredPrompt=null,t(!1),!0}}},SB=()=>{const{triggerInstall:n,canInstall:t}=EB(),e=async()=>{if(!await n()){if(window.matchMedia("(display-mode: standalone)").matches){alert("The app is already installed and running in app mode.");return}if(window.location.hostname!=="localhost"&&window.location.protocol!=="https:"){alert("Installation requires HTTPS. If you are on a local network, please use a secure connection or localhost via port forwarding.");return}alert(`App installation is not available right now.

Possible reasons:
1. It's already installed (check your home screen)
2. Browser limitation (try Chrome/Edge)
3. You are effectively in Incognito mode`)}};return z.jsxs(z.Fragment,{children:[z.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),z.jsxs(Nr,{onClick:e,style:{width:"100%",display:"flex",justifyContent:"center",gap:"8px",background:"linear-gradient(135deg, hsl(var(--color-primary)), hsl(var(--color-primary) / 0.8))",color:"white",border:"none",opacity:t?1:.9},children:[z.jsx(fk,{size:18}),"Install App"]})]})},x2=({message:n,type:t="info",isVisible:e,onClose:i,duration:a=3e3,actionLabel:l,onAction:u})=>{if(st.useEffect(()=>{if(e&&a>0){const p=setTimeout(()=>{i()},a);return()=>clearTimeout(p)}},[e,a,i]),!e)return null;const h=()=>{switch(t){case"success":return z.jsx(ck,{size:20,color:"#4ade80"});case"error":return z.jsx(lk,{size:20,color:"#f87171"});default:return z.jsx(_k,{size:20,color:"#60a5fa"})}},d=()=>{switch(t){case"success":return"rgba(74, 222, 128, 0.5)";case"error":return"rgba(248, 113, 113, 0.5)";default:return"rgba(96, 165, 250, 0.5)"}};return z.jsxs("div",{style:{position:"fixed",top:"24px",left:"50%",transform:"translateX(-50%)",zIndex:2e3,display:"flex",alignItems:"center",gap:"12px",padding:"12px 20px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(12px)",border:`1px solid ${d()}`,borderRadius:"99px",color:"white",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",maxWidth:"90%",width:"max-content",animation:"slideDownFade 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[h(),z.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500,flex:1},children:n}),l&&u&&z.jsx("button",{onClick:u,style:{background:"rgba(255,255,255,0.15)",border:"none",color:"white",padding:"4px 10px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",fontSize:"0.85rem"},children:l}),z.jsx("button",{onClick:i,style:{background:"none",border:"none",padding:"4px",cursor:"pointer",color:"rgba(255,255,255,0.6)",display:"flex"},children:z.jsx(jk,{size:16})}),z.jsx("style",{children:`
                @keyframes slideDownFade {
                    from { opacity: 0; transform: translate(-50%, -20px); }
                    to { opacity: 1; transform: translate(-50%, 0); }
                }
            `})]})},AB=()=>{const[n,t]=st.useState(!0),[e,i]=st.useState(!1),[a,l]=st.useState(""),[u,h]=st.useState(""),[d,p]=st.useState(!1),[y,v]=st.useState(!1),[S,I]=st.useState({msg:"",type:"info",show:!1}),V=($,K)=>{I({msg:$,type:K,show:!0})},k=async $=>{$.preventDefault(),v(!0);try{n?await t9(qa,a,u):await ZU(qa,a,u)}catch(K){console.error(K);let ot="Authentication failed";K.code==="auth/invalid-credential"&&(ot="Invalid email or password."),K.code==="auth/email-already-in-use"&&(ot="Email already in use."),K.code==="auth/weak-password"&&(ot="Password should be at least 6 characters."),K.code==="auth/operation-not-allowed"&&(ot="Enable Email/Password in Firebase Console!"),V(ot,"error"),v(!1)}},B=async()=>{v(!0);try{await YU(qa)}catch($){console.error($),V("Failed to sign in anonymously.","error"),v(!1)}},X=async $=>{if($.preventDefault(),!a){V("Please enter your email address.","info");return}v(!0);try{await JU(qa,a),V("Password reset email sent! Check your inbox.","success"),i(!1)}catch(K){console.error(K);let ot="Failed to send reset email.";K.code==="auth/user-not-found"&&(ot="No account found with this email."),K.code==="auth/invalid-email"&&(ot="Invalid email address."),V(ot,"error")}finally{v(!1)}};return z.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"radial-gradient(circle at 50% 10%, rgba(37, 99, 235, 0.1) 0%, transparent 50%)"},children:[z.jsxs("div",{className:"animate-fade-in",style:{width:"100%",maxWidth:"400px"},children:[z.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[z.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:800,marginBottom:"8px",background:"linear-gradient(135deg, hsl(var(--color-primary)) 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Bitlkhzin"}),z.jsx("p",{className:"text-muted",children:"Your smart inventory companion."})]}),z.jsx(C2,{children:z.jsxs("form",{onSubmit:e?X:k,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[z.jsx("h2",{className:"text-title",style:{fontSize:"1.5rem",textAlign:"center"},children:e?"Reset Password":n?"Welcome Back":"Create Account"}),z.jsxs("div",{className:"form-row",style:{display:"flex",flexDirection:"column"},children:[z.jsx("label",{style:{fontWeight:600,fontSize:"0.875rem",marginBottom:"8px"},children:"Email"}),z.jsx("input",{type:"email",required:!0,value:a,onChange:$=>l($.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"},placeholder:"you@example.com"})]}),!e&&z.jsxs("div",{className:"form-row",style:{display:"flex",flexDirection:"column"},children:[z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[z.jsx("label",{style:{fontWeight:600,fontSize:"0.875rem"},children:"Password"}),n&&z.jsx("button",{type:"button",onClick:()=>i(!0),style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:"Forgot Password?"})]}),z.jsxs("div",{style:{position:"relative"},children:[z.jsx("input",{type:d?"text":"password",required:!0,minLength:6,value:u,onChange:$=>h($.target.value),className:"glass-panel",style:{padding:"12px",paddingRight:"40px",background:"rgba(255,255,255,0.5)",width:"100%"},placeholder:""}),z.jsx("button",{type:"button",onClick:()=>p(!d),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--color-text-light)",opacity:.6,display:"flex",alignItems:"center"},children:d?z.jsx(mk,{size:18}):z.jsx(gk,{size:18})})]})]}),z.jsxs(Nr,{type:"submit",style:{marginTop:"8px",display:"flex",justifyContent:"center",gap:"8px"},disabled:y,children:[y?z.jsx(Wy,{className:"animate-spin"}):e?z.jsx(bk,{size:18}):n?z.jsx(Ek,{size:18}):z.jsx(Bk,{size:18}),e?"Send Reset Link":n?"Sign In":"Create Account"]}),z.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:z.jsx("p",{className:"text-muted",style:{fontSize:"0.9rem"},children:e?z.jsx("button",{type:"button",onClick:()=>i(!1),style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontWeight:600,cursor:"pointer"},children:"Back to Login"}):z.jsxs(z.Fragment,{children:[n?"Don't have an account? ":"Already have an account? ",z.jsx("button",{type:"button",onClick:()=>{t(!n),l(""),h("")},style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontWeight:600,cursor:"pointer",textDecoration:"underline"},children:n?"Sign Up":"Log In"})]})})}),!e&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{style:{position:"relative",margin:"20px 0",textAlign:"center"},children:[z.jsx("hr",{style:{borderColor:"var(--glass-border)",opacity:.5}}),z.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--color-surface-light)",padding:"0 10px",fontSize:"0.8rem",color:"var(--color-text-light)",opacity:.6},children:"OR"})]}),z.jsx(Nr,{type:"button",variant:"secondary",onClick:B,disabled:y,style:{width:"100%"},children:"Continue as Guest"})]})]})})]}),z.jsx(x2,{message:S.msg,type:S.type,isVisible:S.show,onClose:()=>I({...S,show:!1})})]})},D2=st.createContext({categories:Pd,customCategories:[],addCategory:async()=>{},removeCategory:async()=>{},loading:!0}),bB=()=>st.useContext(D2),wB=({children:n})=>{const{user:t,userProfile:e}=AT(),[i,a]=st.useState([]),[l,u]=st.useState(!0);st.useEffect(()=>{if(!t||!e?.householdId){a([]),u(!1);return}const y=zx(Oc($i,"categories"),jx("householdId","==",e.householdId)),v=mT(y,S=>{const I=S.docs.map(V=>({id:V.id,...V.data(),isCustom:!0}));a(I),u(!1)});return()=>v()},[t,e?.householdId]);const h=async y=>{if(!(!y.trim()||!e?.householdId)){if(Pd.includes(y)||i.some(v=>v.name===y)){alert("Category already exists");return}await V_(Oc($i,"categories"),{name:y,householdId:e.householdId,createdAt:Date.now()})}},d=async(y,v)=>{if(Pd.includes(v)){alert("Cannot delete default categories");return}await Hx(Fl($i,"categories",y))},p=[...new Set([...Pd,...i.map(y=>y.name)])];return z.jsx(D2.Provider,{value:{categories:p,customCategories:i,addCategory:h,removeCategory:d,loading:l},children:n})},IB=st.lazy(()=>fm(()=>import("./InventoryList-B4FRR0Od.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>({default:n.InventoryList}))),RB=st.lazy(()=>fm(()=>import("./InventoryForm-CVBCfmRk.js"),[],import.meta.url).then(n=>({default:n.InventoryForm}))),CB=st.lazy(()=>fm(()=>import("./TodoView-BwP61ozG.js"),__vite__mapDeps([3,2]),import.meta.url).then(n=>({default:n.TodoView}))),xB=()=>{const{customCategories:n,addCategory:t,removeCategory:e}=bB(),[i,a]=st.useState(""),l=async u=>{u.preventDefault(),i.trim()&&(await t(i.trim()),a(""))};return z.jsxs("div",{children:[z.jsx("h3",{children:"Custom Categories"}),z.jsxs("form",{onSubmit:l,style:{display:"flex",gap:"8px",marginBottom:"12px",marginTop:"8px"},children:[z.jsx("input",{value:i,onChange:u=>a(u.target.value),placeholder:"New Category...",className:"glass-panel",style:{flex:1,padding:"8px"}}),z.jsx(Nr,{size:"sm",type:"submit",children:z.jsx(xk,{size:16})})]}),z.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[n.length===0&&z.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem"},children:"No custom categories yet."}),n.map(u=>z.jsxs("div",{style:{background:"rgba(0,0,0,0.05)",padding:"4px 12px",borderRadius:"16px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px"},children:[u.name,z.jsx("button",{onClick:()=>e(u.id,u.name),style:{border:"none",background:"none",cursor:"pointer",color:"#ef4444",display:"flex"},children:z.jsx(Lk,{size:14})})]},u.id))]})]})};function DB(){const[n,t]=st.useState(()=>localStorage.getItem("currentView")||"inventory"),[e,i]=st.useState({show:!1,msg:"",type:"success"}),a=(k,B="success")=>{i({show:!0,msg:k,type:B}),setTimeout(()=>i(X=>({...X,show:!1})),3e3)};st.useEffect(()=>{localStorage.setItem("currentView",n)},[n]);const[l,u]=st.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),{items:h,addItem:d,deleteItem:p}=TB(),{user:y,loading:v,userProfile:S,updateHousehold:I}=AT();if(st.useEffect(()=>{const k=document.querySelector('meta[name="theme-color"]');l?(document.documentElement.classList.add("dark"),k&&k.setAttribute("content","#14171f")):(document.documentElement.classList.remove("dark"),k&&k.setAttribute("content","#f9fafb"))},[l]),v)return z.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:z.jsx(Wy,{className:"animate-spin",size:48,color:"hsl(var(--color-primary))"})});if(!y)return z.jsx(AB,{});const V=()=>{switch(n){case"add":return z.jsx(RB,{onSubmit:k=>{d(k),t("inventory")},onCancel:()=>t("inventory")});case"settings":return z.jsxs("div",{className:"animate-fade-in",children:[z.jsx("h2",{className:"text-title",children:"Settings"}),z.jsxs(C2,{children:[z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[z.jsx("h3",{style:{margin:0},children:"Appearance"}),z.jsxs(Nr,{variant:"secondary",onClick:()=>u(!l),style:{display:"flex",alignItems:"center",gap:"8px"},children:[l?z.jsx(Ok,{size:18}):z.jsx(Ik,{size:18}),l?"Light Mode":"Dark Mode"]})]}),z.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),z.jsxs("div",{style:{opacity:.6},children:[z.jsx("p",{children:"App Version: 1.2.1"}),z.jsxs("p",{children:["Account: ",y.email]}),z.jsx("p",{children:"Sync Status: Cloud (Firebase)"}),z.jsxs(Nr,{size:"sm",variant:"secondary",onClick:()=>window.location.reload(),style:{marginTop:"12px",width:"100%",justifyContent:"center",gap:"8px"},children:[z.jsx(Vk,{size:16}),"Check for Updates / Reload"]})]}),z.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),z.jsxs("div",{children:[z.jsx("h3",{children:"Family Sharing"}),z.jsx("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"8px"},children:"Share this code with your family to sync your list:"}),z.jsx("div",{style:{background:"rgba(0,0,0,0.05)",padding:"12px",borderRadius:"8px",fontFamily:"monospace",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",cursor:"pointer",userSelect:"all"},onClick:()=>{navigator.clipboard.writeText(S?.householdId||""),a("Code copied to clipboard!","success")},title:"Click to copy",children:S?.householdId||"Loading..."}),z.jsxs("details",{children:[z.jsx("summary",{style:{cursor:"pointer",fontSize:"0.9rem",color:"hsl(var(--color-primary))"},children:"Join a Family"}),z.jsxs("form",{onSubmit:async k=>{k.preventDefault();const B=k.target.code.value;B&&confirm("Joining a new family will switch your view. Continue?")&&(await I(B),alert("You have joined the family!"),window.location.reload())},style:{marginTop:"12px",display:"flex",gap:"8px"},children:[z.jsx("input",{name:"code",placeholder:"Enter family code",className:"glass-panel",style:{padding:"8px",flex:1}}),z.jsx(Nr,{size:"sm",type:"submit",children:"Join"})]})]})]}),z.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),z.jsxs(Nr,{variant:"secondary",onClick:()=>qa.signOut(),style:{width:"100%",display:"flex",justifyContent:"center",gap:"8px",color:"#f87171",borderColor:"rgba(248, 113, 113, 0.3)"},children:[z.jsx(ZI,{size:18}),"Log Out"]}),z.jsx(SB,{}),z.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),z.jsx(xB,{})]})]});case"todo":return z.jsx(CB,{});default:return z.jsx("div",{className:"animate-fade-in",children:z.jsx(IB,{items:h,onAddItem:()=>t("add"),onDeleteItem:p})})}};return z.jsxs(yB,{currentView:n,onNavigate:k=>t(k),children:[z.jsx(st.Suspense,{fallback:z.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:z.jsx(Wy,{className:"animate-spin",size:32,color:"hsl(var(--color-primary))"})}),children:z.jsx(SM,{mode:"wait",children:z.jsx(ZO.div,{initial:{opacity:0,y:20,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-20,filter:"blur(10px)"},transition:{duration:.3,ease:"easeOut"},style:{height:"100%"},children:V()},n)})}),z.jsx(x2,{isVisible:e.show,message:e.msg,type:e.type,onClose:()=>i(k=>({...k,show:!1}))})]})}function VB(n={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:i,onRegistered:a,onRegisteredSW:l,onRegisterError:u}=n;let h,d;const p=async(v=!0)=>{await d};async function y(){if("serviceWorker"in navigator){if(h=await fm(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{u?.(v)}),!h)return;h.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),h.addEventListener("installed",v=>{v.isUpdate||i?.()}),h.register({immediate:t}).then(v=>{l?l("./sw.js",v):a?.(v)}).catch(v=>{u?.(v)})}}return d=y(),p}const PB=VB({onNeedRefresh(){confirm("New content available. Reload?")&&PB(!0)},onOfflineReady(){console.log("App ready to work offline")}});yV.createRoot(document.getElementById("root")).render(z.jsx(st.StrictMode,{children:z.jsx(vB,{children:z.jsx(wB,{children:z.jsx(DB,{})})})}));export{SM as A,Nr as B,lk as C,UB as D,Fl as E,Z1 as F,BB as G,mT as H,Hx as I,G5 as J,V_ as K,Wy as L,rv as M,Lk as N,xk as P,MB as R,x2 as T,jk as X,st as a,bB as b,xe as c,C2 as d,_B as e,ck as f,L_ as g,El as h,hP as i,z as j,vw as k,me as l,ZO as m,jr as n,yA as o,CN as p,AT as q,mV as r,gN as s,zx as t,TB as u,Oc as v,$i as w,jx as x,kB as y,LB as z};
