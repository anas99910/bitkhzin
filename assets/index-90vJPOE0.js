(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Pp={exports:{}},Ec={};var L2;function HI(){if(L2)return Ec;L2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:u,ref:i!==void 0?i:null,props:a}}return Ec.Fragment=e,Ec.jsx=t,Ec.jsxs=t,Ec}var B2;function jI(){return B2||(B2=1,Pp.exports=HI()),Pp.exports}var te=jI(),Vp={exports:{}},Me={};var k2;function GI(){if(k2)return Me;k2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function V(H,ue,ge){this.props=H,this.context=ue,this.refs=D,this.updater=ge||T}V.prototype.isReactComponent={},V.prototype.setState=function(H,ue){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ue,"setState")},V.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=V.prototype;function B(H,ue,ge){this.props=H,this.context=ue,this.refs=D,this.updater=ge||T}var j=B.prototype=new M;j.constructor=B,S(j,V.prototype),j.isPureReactComponent=!0;var G=Array.isArray;function $(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(H,ue,ge){var ve=ge.ref;return{$$typeof:r,type:H,key:ue,ref:ve!==void 0?ve:null,props:ge}}function L(H,ue){return N(H.type,ue,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function U(H){var ue={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ue[ge]})}var P=/\/+/g;function ze(H,ue){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ue.toString(36)}function yt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(ue){H.status==="pending"&&(H.status="fulfilled",H.value=ue)},function(ue){H.status==="pending"&&(H.status="rejected",H.reason=ue)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ne(H,ue,ge,ve,De){var Le=typeof H;(Le==="undefined"||Le==="boolean")&&(H=null);var We=!1;if(H===null)We=!0;else switch(Le){case"bigint":case"string":case"number":We=!0;break;case"object":switch(H.$$typeof){case r:case e:We=!0;break;case p:return We=H._init,ne(We(H._payload),ue,ge,ve,De)}}if(We)return De=De(H),We=ve===""?"."+ze(H,0):ve,G(De)?(ge="",We!=null&&(ge=We.replace(P,"$&/")+"/"),ne(De,ue,ge,"",function(wo){return wo})):De!=null&&(k(De)&&(De=L(De,ge+(De.key==null||H&&H.key===De.key?"":(""+De.key).replace(P,"$&/")+"/")+We)),ue.push(De)),1;We=0;var rn=ve===""?".":ve+":";if(G(H))for(var Dt=0;Dt<H.length;Dt++)ve=H[Dt],Le=rn+ze(ve,Dt),We+=ne(ve,ue,ge,Le,De);else if(Dt=E(H),typeof Dt=="function")for(H=Dt.call(H),Dt=0;!(ve=H.next()).done;)ve=ve.value,Le=rn+ze(ve,Dt++),We+=ne(ve,ue,ge,Le,De);else if(Le==="object"){if(typeof H.then=="function")return ne(yt(H),ue,ge,ve,De);throw ue=String(H),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return We}function de(H,ue,ge){if(H==null)return H;var ve=[],De=0;return ne(H,ve,"","",function(Le){return ue.call(ge,Le,De++)}),ve}function Ae(H){if(H._status===-1){var ue=H._result;ue=ue(),ue.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ue)}if(H._status===1)return H._result.default;throw H._result}var $e=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},lt={map:de,forEach:function(H,ue,ge){de(H,function(){ue.apply(this,arguments)},ge)},count:function(H){var ue=0;return de(H,function(){ue++}),ue},toArray:function(H){return de(H,function(ue){return ue})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Me.Activity=m,Me.Children=lt,Me.Component=V,Me.Fragment=t,Me.Profiler=i,Me.PureComponent=B,Me.StrictMode=n,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Me.__COMPILER_RUNTIME={__proto__:null,c:function(H){return C.H.useMemoCache(H)}},Me.cache=function(H){return function(){return H.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(H,ue,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ve=S({},H.props),De=H.key;if(ue!=null)for(Le in ue.key!==void 0&&(De=""+ue.key),ue)!b.call(ue,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ue.ref===void 0||(ve[Le]=ue[Le]);var Le=arguments.length-2;if(Le===1)ve.children=ge;else if(1<Le){for(var We=Array(Le),rn=0;rn<Le;rn++)We[rn]=arguments[rn+2];ve.children=We}return N(H.type,De,ve)},Me.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Me.createElement=function(H,ue,ge){var ve,De={},Le=null;if(ue!=null)for(ve in ue.key!==void 0&&(Le=""+ue.key),ue)b.call(ue,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(De[ve]=ue[ve]);var We=arguments.length-2;if(We===1)De.children=ge;else if(1<We){for(var rn=Array(We),Dt=0;Dt<We;Dt++)rn[Dt]=arguments[Dt+2];De.children=rn}if(H&&H.defaultProps)for(ve in We=H.defaultProps,We)De[ve]===void 0&&(De[ve]=We[ve]);return N(H,Le,De)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(H){return{$$typeof:l,render:H}},Me.isValidElement=k,Me.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:Ae}},Me.memo=function(H,ue){return{$$typeof:h,type:H,compare:ue===void 0?null:ue}},Me.startTransition=function(H){var ue=C.T,ge={};C.T=ge;try{var ve=H(),De=C.S;De!==null&&De(ge,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then($,$e)}catch(Le){$e(Le)}finally{ue!==null&&ge.types!==null&&(ue.types=ge.types),C.T=ue}},Me.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Me.use=function(H){return C.H.use(H)},Me.useActionState=function(H,ue,ge){return C.H.useActionState(H,ue,ge)},Me.useCallback=function(H,ue){return C.H.useCallback(H,ue)},Me.useContext=function(H){return C.H.useContext(H)},Me.useDebugValue=function(){},Me.useDeferredValue=function(H,ue){return C.H.useDeferredValue(H,ue)},Me.useEffect=function(H,ue){return C.H.useEffect(H,ue)},Me.useEffectEvent=function(H){return C.H.useEffectEvent(H)},Me.useId=function(){return C.H.useId()},Me.useImperativeHandle=function(H,ue,ge){return C.H.useImperativeHandle(H,ue,ge)},Me.useInsertionEffect=function(H,ue){return C.H.useInsertionEffect(H,ue)},Me.useLayoutEffect=function(H,ue){return C.H.useLayoutEffect(H,ue)},Me.useMemo=function(H,ue){return C.H.useMemo(H,ue)},Me.useOptimistic=function(H,ue){return C.H.useOptimistic(H,ue)},Me.useReducer=function(H,ue,ge){return C.H.useReducer(H,ue,ge)},Me.useRef=function(H){return C.H.useRef(H)},Me.useState=function(H){return C.H.useState(H)},Me.useSyncExternalStore=function(H,ue,ge){return C.H.useSyncExternalStore(H,ue,ge)},Me.useTransition=function(){return C.H.useTransition()},Me.version="19.2.3",Me}var F2;function rv(){return F2||(F2=1,Vp.exports=GI()),Vp.exports}var be=rv(),Lp={exports:{}},xc={},Bp={exports:{}},kp={};var U2;function qI(){return U2||(U2=1,(function(r){function e(ne,de){var Ae=ne.length;ne.push(de);e:for(;0<Ae;){var $e=Ae-1>>>1,lt=ne[$e];if(0<i(lt,de))ne[$e]=de,ne[Ae]=lt,Ae=$e;else break e}}function t(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var de=ne[0],Ae=ne.pop();if(Ae!==de){ne[0]=Ae;e:for(var $e=0,lt=ne.length,H=lt>>>1;$e<H;){var ue=2*($e+1)-1,ge=ne[ue],ve=ue+1,De=ne[ve];if(0>i(ge,Ae))ve<lt&&0>i(De,ge)?(ne[$e]=De,ne[ve]=Ae,$e=ve):(ne[$e]=ge,ne[ue]=Ae,$e=ue);else if(ve<lt&&0>i(De,Ae))ne[$e]=De,ne[ve]=Ae,$e=ve;else break e}}return de}function i(ne,de){var Ae=ne.sortIndex-de.sortIndex;return Ae!==0?Ae:ne.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();r.unstable_now=function(){return u.now()-l}}var f=[],h=[],p=1,m=null,_=3,E=!1,T=!1,S=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function j(ne){for(var de=t(h);de!==null;){if(de.callback===null)n(h);else if(de.startTime<=ne)n(h),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(h)}}function G(ne){if(S=!1,j(ne),!T)if(t(f)!==null)T=!0,$||($=!0,U());else{var de=t(h);de!==null&&yt(G,de.startTime-ne)}}var $=!1,C=-1,b=5,N=-1;function L(){return D?!0:!(r.unstable_now()-N<b)}function k(){if(D=!1,$){var ne=r.unstable_now();N=ne;var de=!0;try{e:{T=!1,S&&(S=!1,M(C),C=-1),E=!0;var Ae=_;try{t:{for(j(ne),m=t(f);m!==null&&!(m.expirationTime>ne&&L());){var $e=m.callback;if(typeof $e=="function"){m.callback=null,_=m.priorityLevel;var lt=$e(m.expirationTime<=ne);if(ne=r.unstable_now(),typeof lt=="function"){m.callback=lt,j(ne),de=!0;break t}m===t(f)&&n(f),j(ne)}else n(f);m=t(f)}if(m!==null)de=!0;else{var H=t(h);H!==null&&yt(G,H.startTime-ne),de=!1}}break e}finally{m=null,_=Ae,E=!1}de=void 0}}finally{de?U():$=!1}}}var U;if(typeof B=="function")U=function(){B(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ze=P.port2;P.port1.onmessage=k,U=function(){ze.postMessage(null)}}else U=function(){V(k,0)};function yt(ne,de){C=V(function(){ne(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(ne){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var Ae=_;_=de;try{return ne()}finally{_=Ae}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ae=_;_=ne;try{return de()}finally{_=Ae}},r.unstable_scheduleCallback=function(ne,de,Ae){var $e=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?$e+Ae:$e):Ae=$e,ne){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Ae+lt,ne={id:p++,callback:de,priorityLevel:ne,startTime:Ae,expirationTime:lt,sortIndex:-1},Ae>$e?(ne.sortIndex=Ae,e(h,ne),t(f)===null&&ne===t(h)&&(S?(M(C),C=-1):S=!0,yt(G,Ae-$e))):(ne.sortIndex=lt,e(f,ne),T||E||(T=!0,$||($=!0,U()))),ne},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(ne){var de=_;return function(){var Ae=_;_=de;try{return ne.apply(this,arguments)}finally{_=Ae}}}})(kp)),kp}var z2;function XI(){return z2||(z2=1,Bp.exports=qI()),Bp.exports}var Fp={exports:{}},Pn={};var H2;function KI(){if(H2)return Pn;H2=1;var r=rv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},Pn.flushSync=function(f){var h=u.T,p=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=h,n.p=p,n.d.f()}},Pn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Pn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Pn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=l(p,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:E}):p==="script"&&n.d.X(f,{crossOrigin:m,integrity:_,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Pn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=l(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=l(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Pn.requestFormReset=function(f){n.d.r(f)},Pn.unstable_batchedUpdates=function(f,h){return f(h)},Pn.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var j2;function YI(){if(j2)return Fp.exports;j2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fp.exports=KI(),Fp.exports}var G2;function WI(){if(G2)return xc;G2=1;var r=XI(),e=rv(),t=YI();function n(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function u(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function l(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(n(188))}function h(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(n(188));return s!==o?null:o}for(var c=o,d=s;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return f(v),o;if(y===d)return f(v),s;y=y.sibling}throw Error(n(188))}if(c.return!==d.return)c=v,d=y;else{for(var A=!1,I=v.child;I;){if(I===c){A=!0,c=v,d=y;break}if(I===d){A=!0,d=v,c=y;break}I=I.sibling}if(!A){for(I=y.child;I;){if(I===c){A=!0,c=y,d=v;break}if(I===d){A=!0,d=y,c=v;break}I=I.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:s}function p(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=p(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),B=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=k&&o[k]||o["@@iterator"],typeof o=="function"?o:null)}var P=Symbol.for("react.client.reference");function ze(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===P?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case $:return"SuspenseList";case N:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case B:return o.displayName||"Context";case M:return(o._context.displayName||"Context")+".Consumer";case j:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case C:return s=o.displayName||null,s!==null?s:ze(o.type)||"Memo";case b:s=o._payload,o=o._init;try{return ze(o(s))}catch{}}return null}var yt=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},$e=[],lt=-1;function H(o){return{current:o}}function ue(o){0>lt||(o.current=$e[lt],$e[lt]=null,lt--)}function ge(o,s){lt++,$e[lt]=o.current,o.current=s}var ve=H(null),De=H(null),Le=H(null),We=H(null);function rn(o,s){switch(ge(Le,s),ge(De,o),ge(ve,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?a2(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=a2(s),o=o2(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ue(ve),ge(ve,o)}function Dt(){ue(ve),ue(De),ue(Le)}function wo(o){o.memoizedState!==null&&ge(We,o);var s=ve.current,c=o2(s,o.type);s!==c&&(ge(De,o),ge(ve,c))}function Ls(o){De.current===o&&(ue(ve),ue(De)),We.current===o&&(ue(We),vc._currentValue=Ae)}var Bs,ks;function ii(o){if(Bs===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Bs=s&&s[1]||"",ks=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+o+ks}var vl=!1;function To(o,s){if(!o||vl)return"";vl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ee){var Z=ee}Reflect.construct(o,[],se)}else{try{se.call()}catch(ee){Z=ee}o.call(se.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),A=y[0],I=y[1];if(A&&I){var F=A.split(`
`),Q=I.split(`
`);for(v=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Q.length&&!Q[v].includes("DetermineComponentFrameRoot");)v++;if(d===F.length||v===Q.length)for(d=F.length-1,v=Q.length-1;1<=d&&0<=v&&F[d]!==Q[v];)v--;for(;1<=d&&0<=v;d--,v--)if(F[d]!==Q[v]){if(d!==1||v!==1)do if(d--,v--,0>v||F[d]!==Q[v]){var ie=`
`+F[d].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=d&&0<=v);break}}}finally{vl=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?ii(c):""}function ml(o,s){switch(o.tag){case 26:case 27:case 5:return ii(o.type);case 16:return ii("Lazy");case 13:return o.child!==s&&s!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return To(o.type,!1);case 11:return To(o.type.render,!1);case 1:return To(o.type,!0);case 31:return ii("Activity");default:return""}}function yl(o){try{var s="",c=null;do s+=ml(o,c),c=o,o=o.return;while(o);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Gt=Object.prototype.hasOwnProperty,an=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,L1=r.unstable_shouldYield,Cf=r.unstable_requestPaint,Hn=r.unstable_now,So=r.unstable_getCurrentPriorityLevel,_l=r.unstable_ImmediatePriority,El=r.unstable_UserBlockingPriority,ga=r.unstable_NormalPriority,B1=r.unstable_LowPriority,bf=r.unstable_IdlePriority,Rf=r.log,Df=r.unstable_setDisableYieldValue,Ur=null,wn=null;function xr(o){if(typeof Rf=="function"&&Df(o),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Ur,o)}catch{}}var Ut=Math.clz32?Math.clz32:Nf,Of=Math.log,Fs=Math.LN2;function Nf(o){return o>>>=0,o===0?32:31-(Of(o)/Fs|0)|0}var ai=256,Io=262144,qt=4194304;function oi(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function si(o,s,c){var d=o.pendingLanes;if(d===0)return 0;var v=0,y=o.suspendedLanes,A=o.pingedLanes;o=o.warmLanes;var I=d&134217727;return I!==0?(d=I&~y,d!==0?v=oi(d):(A&=I,A!==0?v=oi(A):c||(c=I&~o,c!==0&&(v=oi(c))))):(I=d&~y,I!==0?v=oi(I):A!==0?v=oi(A):c||(c=d&~o,c!==0&&(v=oi(c)))),v===0?0:s!==0&&s!==v&&(s&y)===0&&(y=v&-v,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:v}function zr(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function k1(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var o=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),o}function ui(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Co(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function F1(o,s,c,d,v,y){var A=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var I=o.entanglements,F=o.expirationTimes,Q=o.hiddenUpdates;for(c=A&~c;0<c;){var ie=31-Ut(c),se=1<<ie;I[ie]=0,F[ie]=-1;var Z=Q[ie];if(Z!==null)for(Q[ie]=null,ie=0;ie<Z.length;ie++){var ee=Z[ie];ee!==null&&(ee.lane&=-536870913)}c&=~se}d!==0&&bo(o,d,0),y!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=y&~(A&~s))}function bo(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var d=31-Ut(s);o.entangledLanes|=s,o.entanglements[d]=o.entanglements[d]|1073741824|c&261930}function xl(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var d=31-Ut(c),v=1<<d;v&s|o[d]&s&&(o[d]|=s),c&=~v}}function Al(o,s){var c=s&-s;return c=(c&42)!==0?1:Ro(c),(c&(o.suspendedLanes|s))!==0?0:c}function Ro(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Bi(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Pf(){var o=de.p;return o!==0?o:(o=window.event,o===void 0?32:R2(o.type))}function Hr(o,s){var c=de.p;try{return de.p=o,s()}finally{de.p=c}}var jr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+jr,gn="__reactProps$"+jr,li="__reactContainer$"+jr,Us="__reactEvents$"+jr,U1="__reactListeners$"+jr,Vf="__reactHandles$"+jr,Lf="__reactResources$"+jr,ci="__reactMarker$"+jr;function zs(o){delete o[Xt],delete o[gn],delete o[Us],delete o[U1],delete o[Vf]}function fi(o){var s=o[Xt];if(s)return s;for(var c=o.parentNode;c;){if(s=c[li]||c[Xt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=d2(o);o!==null;){if(c=o[Xt])return c;o=d2(o)}return s}o=c,c=o.parentNode}return null}function Ar(o){if(o=o[Xt]||o[li]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function lr(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(n(33))}function hi(o){var s=o[Lf];return s||(s=o[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(o){o[ci]=!0}var wl=new Set,Tl={};function di(o,s){pi(o,s),pi(o+"Capture",s)}function pi(o,s){for(Tl[o]=s,o=0;o<s.length;o++)wl.add(s[o])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Cl={};function Bf(o){return Gt.call(Cl,o)?!0:Gt.call(Il,o)?!1:Sl.test(o)?Cl[o]=!0:(Il[o]=!0,!1)}function Hs(o,s,c){if(Bf(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function cr(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function Yt(o,s,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+d)}}function vn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function va(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bl(o,s,c){var d=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,y=d.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(o,s,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function ct(o){if(!o._valueTracker){var s=va(o)?"checked":"value";o._valueTracker=bl(o,s,""+o[s])}}function Do(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return o&&(d=va(o)?o.checked?"true":"false":o.value),o=d,o!==c?(s.setValue(o),!0):!1}function gi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Oo=/[\n"\\]/g;function $n(o){return o.replace(Oo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function js(o,s,c,d,v,y,A,I){o.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.type=A:o.removeAttribute("type"),s!=null?A==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+vn(s)):o.value!==""+vn(s)&&(o.value=""+vn(s)):A!=="submit"&&A!=="reset"||o.removeAttribute("value"),s!=null?Rl(o,A,vn(s)):c!=null?Rl(o,A,vn(c)):d!=null&&o.removeAttribute("value"),v==null&&y!=null&&(o.defaultChecked=!!y),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+vn(I):o.removeAttribute("name")}function kf(o,s,c,d,v,y,A,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(o.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){ct(o);return}c=c!=null?""+vn(c):"",s=s!=null?""+vn(s):c,I||s===o.value||(o.value=s),o.defaultValue=s}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=I?o.checked:!!d,o.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.name=A),ct(o)}function Rl(o,s,c){s==="number"&&gi(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function ma(o,s,c,d){if(o=o.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<o.length;c++)v=s.hasOwnProperty("$"+o[c].value),o[c].selected!==v&&(o[c].selected=v),v&&d&&(o[c].defaultSelected=!0)}else{for(c=""+vn(c),s=null,v=0;v<o.length;v++){if(o[v].value===c){o[v].selected=!0,d&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function Ff(o,s,c){if(s!=null&&(s=""+vn(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+vn(c):""}function ya(o,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(n(92));if(yt(d)){if(1<d.length)throw Error(n(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=vn(s),o.defaultValue=c,d=o.textContent,d===c&&d!==""&&d!==null&&(o.value=d),ct(o)}function Jn(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var Uf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(o,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":d?o.setProperty(s,c):typeof c!="number"||c===0||Uf.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function Ol(o,s,c){if(s!=null&&typeof s!="object")throw Error(n(62));if(o=o.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var v in s)d=s[v],s.hasOwnProperty(v)&&c[v]!==d&&Dl(o,v,d)}else for(var y in s)s.hasOwnProperty(y)&&Dl(o,y,s[y])}function Gs(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(o){return _a.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Gr(){}var Nl=null;function wr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ea=null,vi=null;function No(o){var s=Ar(o);if(s&&(o=s.stateNode)){var c=o[gn]||null;e:switch(o=s.stateNode,s.type){case"input":if(js(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==o&&d.form===o.form){var v=d[gn]||null;if(!v)throw Error(n(90));js(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===o.form&&Do(d)}break e;case"textarea":Ff(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ma(o,!!c.multiple,s,!1)}}}var Xs=!1;function xa(o,s,c){if(Xs)return o(s,c);Xs=!0;try{var d=o(s);return d}finally{if(Xs=!1,(Ea!==null||vi!==null)&&(Ph(),Ea&&(s=Ea,o=vi,vi=Ea=null,No(s),o)))for(s=0;s<o.length;s++)No(o[s])}}function qr(o,s){var c=o.stateNode;if(c===null)return null;var d=c[gn]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=!1;if(Tr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Mo=!1}var mi=null,Ml=null,Po=null;function Pl(){if(Po)return Po;var o,s=Ml,c=s.length,d,v="value"in mi?mi.value:mi.textContent,y=v.length;for(o=0;o<c&&s[o]===v[o];o++);var A=c-o;for(d=1;d<=A&&s[c-d]===v[y-d];d++);return Po=v.slice(o,1<d?1-d:void 0)}function Vo(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function ki(){return!0}function Xr(){return!1}function Tn(o){function s(c,d,v,y,A){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(c=o[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ki:Xr,this.isPropagationStopped=Xr,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),s}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Tn(Fi),Aa=m({},Fi,{view:0,detail:0}),Vl=Tn(Aa),wa,Ks,_i,Ys=m({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==_i&&(_i&&o.type==="mousemove"?(wa=o.screenX-_i.screenX,Ks=o.screenY-_i.screenY):Ks=wa=0,_i=o),wa)},movementY:function(o){return"movementY"in o?o.movementY:Ks}}),Ll=Tn(Ys),Lo=m({},Ys,{dataTransfer:0}),Hf=Tn(Lo),jf=m({},Aa,{relatedTarget:0}),Bo=Tn(jf),Bl=m({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gf=Tn(Bl),Ws=m({},Fi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qf=Tn(Ws),Xf=m({},Fi,{data:0}),Ei=Tn(Xf),Kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Wf[o])?!!s[o]:!1}function Ta(){return Qf}var jn=m({},Aa,{key:function(o){if(o.key){var s=Kf[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Vo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Yf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(o){return o.type==="keypress"?Vo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Zf=Tn(jn),$f=m({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Tn($f),g=m({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),x=Tn(g),w=m({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Tn(w),K=m({},Ys,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Tn(K),ce=m({},Fi,{newState:0,oldState:0}),Pe=Tn(ce),zt=[9,13,27,32],rt=Tr&&"CompositionEvent"in window,Ot=null;Tr&&"documentMode"in document&&(Ot=document.documentMode);var Sr=Tr&&"TextEvent"in window&&!Ot,xi=Tr&&(!rt||Ot&&8<Ot&&11>=Ot),Kr=" ",Yr=!1;function ko(o,s){switch(o){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zs=!1;function hS(o,s){switch(o){case"compositionend":return Qs(s);case"keypress":return s.which!==32?null:(Yr=!0,Kr);case"textInput":return o=s.data,o===Kr&&Yr?null:o;default:return null}}function dS(o,s){if(Zs)return o==="compositionend"||!rt&&ko(o,s)?(o=Pl(),Po=Ml=mi=null,Zs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xi&&s.locale!=="ko"?null:s.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!pS[o.type]:s==="textarea"}function mm(o,s,c,d){Ea?vi?vi.push(d):vi=[d]:Ea=d,s=zh(s,"onChange"),0<s.length&&(c=new yi("onChange","change",null,c,d),o.push({event:c,listeners:s}))}var kl=null,Fl=null;function gS(o){J_(o,0)}function Jf(o){var s=lr(o);if(Do(s))return o}function ym(o,s){if(o==="change")return s}var _m=!1;if(Tr){var z1;if(Tr){var H1="oninput"in document;if(!H1){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),H1=typeof Em.oninput=="function"}z1=H1}else z1=!1;_m=z1&&(!document.documentMode||9<document.documentMode)}function xm(){kl&&(kl.detachEvent("onpropertychange",Am),Fl=kl=null)}function Am(o){if(o.propertyName==="value"&&Jf(Fl)){var s=[];mm(s,Fl,o,wr(o)),xa(gS,s)}}function vS(o,s,c){o==="focusin"?(xm(),kl=s,Fl=c,kl.attachEvent("onpropertychange",Am)):o==="focusout"&&xm()}function mS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jf(Fl)}function yS(o,s){if(o==="click")return Jf(s)}function _S(o,s){if(o==="input"||o==="change")return Jf(s)}function ES(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var fr=typeof Object.is=="function"?Object.is:ES;function Ul(o,s){if(fr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!Gt.call(s,v)||!fr(o[v],s[v]))return!1}return!0}function wm(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Tm(o,s){var c=wm(o);o=0;for(var d;c;){if(c.nodeType===3){if(d=o+c.textContent.length,o<=s&&d>=s)return{node:c,offset:s-o};o=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=wm(c)}}function Sm(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Sm(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Im(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=gi(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=gi(o.document)}return s}function j1(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var xS=Tr&&"documentMode"in document&&11>=document.documentMode,$s=null,G1=null,zl=null,q1=!1;function Cm(o,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;q1||$s==null||$s!==gi(d)||(d=$s,"selectionStart"in d&&j1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),zl&&Ul(zl,d)||(zl=d,d=zh(G1,"onSelect"),0<d.length&&(s=new yi("onSelect","select",null,s,c),o.push({event:s,listeners:d}),s.target=$s)))}function Fo(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Js={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},X1={},bm={};Tr&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Uo(o){if(X1[o])return X1[o];if(!Js[o])return o;var s=Js[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in bm)return X1[o]=s[c];return o}var Rm=Uo("animationend"),Dm=Uo("animationiteration"),Om=Uo("animationstart"),AS=Uo("transitionrun"),wS=Uo("transitionstart"),TS=Uo("transitioncancel"),Nm=Uo("transitionend"),Mm=new Map,K1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");K1.push("scrollEnd");function Wr(o,s){Mm.set(o,s),di(s,[o])}var eh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ir=[],eu=0,Y1=0;function th(){for(var o=eu,s=Y1=eu=0;s<o;){var c=Ir[s];Ir[s++]=null;var d=Ir[s];Ir[s++]=null;var v=Ir[s];Ir[s++]=null;var y=Ir[s];if(Ir[s++]=null,d!==null&&v!==null){var A=d.pending;A===null?v.next=v:(v.next=A.next,A.next=v),d.pending=v}y!==0&&Pm(c,v,y)}}function nh(o,s,c,d){Ir[eu++]=o,Ir[eu++]=s,Ir[eu++]=c,Ir[eu++]=d,Y1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function W1(o,s,c,d){return nh(o,s,c,d),rh(o)}function zo(o,s){return nh(o,null,null,s),rh(o)}function Pm(o,s,c){o.lanes|=c;var d=o.alternate;d!==null&&(d.lanes|=c);for(var v=!1,y=o.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(o=y.stateNode,o===null||o._visibility&1||(v=!0)),o=y,y=y.return;return o.tag===3?(y=o.stateNode,v&&s!==null&&(v=31-Ut(c),o=y.hiddenUpdates,d=o[v],d===null?o[v]=[s]:d.push(s),s.lane=c|536870912),y):null}function rh(o){if(50<lc)throw lc=0,ip=null,Error(n(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var tu={};function SS(o,s,c,d){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(o,s,c,d){return new SS(o,s,c,d)}function Q1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function zi(o,s){var c=o.alternate;return c===null?(c=hr(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function Vm(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function ih(o,s,c,d,v,y){var A=0;if(d=o,typeof o=="function")Q1(o)&&(A=1);else if(typeof o=="string")A=DI(o,c,ve.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case N:return o=hr(31,c,s,v),o.elementType=N,o.lanes=y,o;case S:return Ho(c.children,v,y,s);case D:A=8,v|=24;break;case V:return o=hr(12,c,s,v|2),o.elementType=V,o.lanes=y,o;case G:return o=hr(13,c,s,v),o.elementType=G,o.lanes=y,o;case $:return o=hr(19,c,s,v),o.elementType=$,o.lanes=y,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:A=10;break e;case M:A=9;break e;case j:A=11;break e;case C:A=14;break e;case b:A=16,d=null;break e}A=29,c=Error(n(130,o===null?"null":typeof o,"")),d=null}return s=hr(A,c,s,v),s.elementType=o,s.type=d,s.lanes=y,s}function Ho(o,s,c,d){return o=hr(7,o,d,s),o.lanes=c,o}function Z1(o,s,c){return o=hr(6,o,null,s),o.lanes=c,o}function Lm(o){var s=hr(18,null,null,0);return s.stateNode=o,s}function $1(o,s,c){return s=hr(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Bm=new WeakMap;function Cr(o,s){if(typeof o=="object"&&o!==null){var c=Bm.get(o);return c!==void 0?c:(s={value:o,source:s,stack:yl(s)},Bm.set(o,s),s)}return{value:o,source:s,stack:yl(s)}}var nu=[],ru=0,ah=null,Hl=0,br=[],Rr=0,Sa=null,Ai=1,wi="";function Hi(o,s){nu[ru++]=Hl,nu[ru++]=ah,ah=o,Hl=s}function km(o,s,c){br[Rr++]=Ai,br[Rr++]=wi,br[Rr++]=Sa,Sa=o;var d=Ai;o=wi;var v=32-Ut(d)-1;d&=~(1<<v),c+=1;var y=32-Ut(s)+v;if(30<y){var A=v-v%5;y=(d&(1<<A)-1).toString(32),d>>=A,v-=A,Ai=1<<32-Ut(s)+v|c<<v|d,wi=y+o}else Ai=1<<y|c<<v|d,wi=o}function J1(o){o.return!==null&&(Hi(o,1),km(o,1,0))}function e0(o){for(;o===ah;)ah=nu[--ru],nu[ru]=null,Hl=nu[--ru],nu[ru]=null;for(;o===Sa;)Sa=br[--Rr],br[Rr]=null,wi=br[--Rr],br[Rr]=null,Ai=br[--Rr],br[Rr]=null}function Fm(o,s){br[Rr++]=Ai,br[Rr++]=wi,br[Rr++]=Sa,Ai=s.id,wi=s.overflow,Sa=o}var Sn=null,It=null,Ye=!1,Ia=null,Dr=!1,t0=Error(n(519));function Ca(o){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Cr(s,o)),t0}function Um(o){var s=o.stateNode,c=o.type,d=o.memoizedProps;switch(s[Xt]=o,s[gn]=d,c){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(c=0;c<fc.length;c++)je(fc[c],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),kf(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),ya(s,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||r2(s.textContent,c)?(d.popover!=null&&(je("beforetoggle",s),je("toggle",s)),d.onScroll!=null&&je("scroll",s),d.onScrollEnd!=null&&je("scrollend",s),d.onClick!=null&&(s.onclick=Gr),s=!0):s=!1,s||Ca(o,!0)}function zm(o){for(Sn=o.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Sn=Sn.return}}function iu(o){if(o!==Sn)return!1;if(!Ye)return zm(o),Ye=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||_p(o.type,o.memoizedProps)),c=!c),c&&It&&Ca(o),zm(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));It=h2(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));It=h2(o)}else s===27?(s=It,za(o.type)?(o=Tp,Tp=null,It=o):It=s):It=Sn?Nr(o.stateNode.nextSibling):null;return!0}function jo(){It=Sn=null,Ye=!1}function n0(){var o=Ia;return o!==null&&(rr===null?rr=o:rr.push.apply(rr,o),Ia=null),o}function jl(o){Ia===null?Ia=[o]:Ia.push(o)}var r0=H(null),Go=null,ji=null;function ba(o,s,c){ge(r0,s._currentValue),s._currentValue=c}function Gi(o){o._currentValue=r0.current,ue(r0)}function i0(o,s,c){for(;o!==null;){var d=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),o===c)break;o=o.return}}function a0(o,s,c,d){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var y=v.dependencies;if(y!==null){var A=v.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=v;for(var F=0;F<s.length;F++)if(I.context===s[F]){y.lanes|=c,I=y.alternate,I!==null&&(I.lanes|=c),i0(y.return,c,o),d||(A=null);break e}y=I.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(n(341));A.lanes|=c,y=A.alternate,y!==null&&(y.lanes|=c),i0(A,c,o),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===o){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function au(o,s,c,d){o=null;for(var v=s,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var I=v.type;fr(v.pendingProps.value,A.value)||(o!==null?o.push(I):o=[I])}}else if(v===We.current){if(A=v.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(vc):o=[vc])}v=v.return}o!==null&&a0(s,o,c,d),s.flags|=262144}function oh(o){for(o=o.firstContext;o!==null;){if(!fr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function qo(o){Go=o,ji=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function In(o){return Hm(Go,o)}function sh(o,s){return Go===null&&qo(o),Hm(o,s)}function Hm(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ji===null){if(o===null)throw Error(n(308));ji=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else ji=ji.next=s;return c}var IS=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,d){o.push(d)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},CS=r.unstable_scheduleCallback,bS=r.unstable_NormalPriority,Wt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o0(){return{controller:new IS,data:new Map,refCount:0}}function Gl(o){o.refCount--,o.refCount===0&&CS(bS,function(){o.controller.abort()})}var ql=null,s0=0,ou=0,su=null;function RS(o,s){if(ql===null){var c=ql=[];s0=0,ou=cp(),su={status:"pending",value:void 0,then:function(d){c.push(d)}}}return s0++,s.then(jm,jm),s}function jm(){if(--s0===0&&ql!==null){su!==null&&(su.status="fulfilled");var o=ql;ql=null,ou=0,su=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function DS(o,s){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return o.then(function(){d.status="fulfilled",d.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var Gm=ne.S;ne.S=function(o,s){C_=Hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&RS(o,s),Gm!==null&&Gm(o,s)};var Xo=H(null);function u0(){var o=Xo.current;return o!==null?o:Tt.pooledCache}function uh(o,s){s===null?ge(Xo,Xo.current):ge(Xo,s.pool)}function qm(){var o=u0();return o===null?null:{parent:Wt._currentValue,pool:o}}var uu=Error(n(460)),l0=Error(n(474)),lh=Error(n(542)),ch={then:function(){}};function Xm(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Km(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(Gr,Gr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Wm(o),o;default:if(typeof s.status=="string")s.then(Gr,Gr);else{if(o=Tt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=s,o.status="pending",o.then(function(d){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=d}},function(d){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Wm(o),o}throw Yo=s,uu}}function Ko(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Yo=c,uu):c}}var Yo=null;function Ym(){if(Yo===null)throw Error(n(459));var o=Yo;return Yo=null,o}function Wm(o){if(o===uu||o===lh)throw Error(n(483))}var lu=null,Xl=0;function fh(o){var s=Xl;return Xl+=1,lu===null&&(lu=[]),Km(lu,o,s)}function Kl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function hh(o,s){throw s.$$typeof===_?Error(n(525)):(o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Qm(o){function s(q,z){if(o){var W=q.deletions;W===null?(q.deletions=[z],q.flags|=16):W.push(z)}}function c(q,z){if(!o)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function d(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function v(q,z){return q=zi(q,z),q.index=0,q.sibling=null,q}function y(q,z,W){return q.index=W,o?(W=q.alternate,W!==null?(W=W.index,W<z?(q.flags|=67108866,z):W):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function A(q){return o&&q.alternate===null&&(q.flags|=67108866),q}function I(q,z,W,oe){return z===null||z.tag!==6?(z=Z1(W,q.mode,oe),z.return=q,z):(z=v(z,W),z.return=q,z)}function F(q,z,W,oe){var we=W.type;return we===S?ie(q,z,W.props.children,oe,W.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===b&&Ko(we)===z.type)?(z=v(z,W.props),Kl(z,W),z.return=q,z):(z=ih(W.type,W.key,W.props,null,q.mode,oe),Kl(z,W),z.return=q,z)}function Q(q,z,W,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=$1(W,q.mode,oe),z.return=q,z):(z=v(z,W.children||[]),z.return=q,z)}function ie(q,z,W,oe,we){return z===null||z.tag!==7?(z=Ho(W,q.mode,oe,we),z.return=q,z):(z=v(z,W),z.return=q,z)}function se(q,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Z1(""+z,q.mode,W),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return W=ih(z.type,z.key,z.props,null,q.mode,W),Kl(W,z),W.return=q,W;case T:return z=$1(z,q.mode,W),z.return=q,z;case b:return z=Ko(z),se(q,z,W)}if(yt(z)||U(z))return z=Ho(z,q.mode,W,null),z.return=q,z;if(typeof z.then=="function")return se(q,fh(z),W);if(z.$$typeof===B)return se(q,sh(q,z),W);hh(q,z)}return null}function Z(q,z,W,oe){var we=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:I(q,z,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===we?F(q,z,W,oe):null;case T:return W.key===we?Q(q,z,W,oe):null;case b:return W=Ko(W),Z(q,z,W,oe)}if(yt(W)||U(W))return we!==null?null:ie(q,z,W,oe,null);if(typeof W.then=="function")return Z(q,z,fh(W),oe);if(W.$$typeof===B)return Z(q,z,sh(q,W),oe);hh(q,W)}return null}function ee(q,z,W,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(W)||null,I(z,q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return q=q.get(oe.key===null?W:oe.key)||null,F(z,q,oe,we);case T:return q=q.get(oe.key===null?W:oe.key)||null,Q(z,q,oe,we);case b:return oe=Ko(oe),ee(q,z,W,oe,we)}if(yt(oe)||U(oe))return q=q.get(W)||null,ie(z,q,oe,we,null);if(typeof oe.then=="function")return ee(q,z,W,fh(oe),we);if(oe.$$typeof===B)return ee(q,z,W,sh(z,oe),we);hh(z,oe)}return null}function me(q,z,W,oe){for(var we=null,et=null,Ee=z,Be=z=0,qe=null;Ee!==null&&Be<W.length;Be++){Ee.index>Be?(qe=Ee,Ee=null):qe=Ee.sibling;var tt=Z(q,Ee,W[Be],oe);if(tt===null){Ee===null&&(Ee=qe);break}o&&Ee&&tt.alternate===null&&s(q,Ee),z=y(tt,z,Be),et===null?we=tt:et.sibling=tt,et=tt,Ee=qe}if(Be===W.length)return c(q,Ee),Ye&&Hi(q,Be),we;if(Ee===null){for(;Be<W.length;Be++)Ee=se(q,W[Be],oe),Ee!==null&&(z=y(Ee,z,Be),et===null?we=Ee:et.sibling=Ee,et=Ee);return Ye&&Hi(q,Be),we}for(Ee=d(Ee);Be<W.length;Be++)qe=ee(Ee,q,Be,W[Be],oe),qe!==null&&(o&&qe.alternate!==null&&Ee.delete(qe.key===null?Be:qe.key),z=y(qe,z,Be),et===null?we=qe:et.sibling=qe,et=qe);return o&&Ee.forEach(function(Xa){return s(q,Xa)}),Ye&&Hi(q,Be),we}function Ce(q,z,W,oe){if(W==null)throw Error(n(151));for(var we=null,et=null,Ee=z,Be=z=0,qe=null,tt=W.next();Ee!==null&&!tt.done;Be++,tt=W.next()){Ee.index>Be?(qe=Ee,Ee=null):qe=Ee.sibling;var Xa=Z(q,Ee,tt.value,oe);if(Xa===null){Ee===null&&(Ee=qe);break}o&&Ee&&Xa.alternate===null&&s(q,Ee),z=y(Xa,z,Be),et===null?we=Xa:et.sibling=Xa,et=Xa,Ee=qe}if(tt.done)return c(q,Ee),Ye&&Hi(q,Be),we;if(Ee===null){for(;!tt.done;Be++,tt=W.next())tt=se(q,tt.value,oe),tt!==null&&(z=y(tt,z,Be),et===null?we=tt:et.sibling=tt,et=tt);return Ye&&Hi(q,Be),we}for(Ee=d(Ee);!tt.done;Be++,tt=W.next())tt=ee(Ee,q,Be,tt.value,oe),tt!==null&&(o&&tt.alternate!==null&&Ee.delete(tt.key===null?Be:tt.key),z=y(tt,z,Be),et===null?we=tt:et.sibling=tt,et=tt);return o&&Ee.forEach(function(zI){return s(q,zI)}),Ye&&Hi(q,Be),we}function At(q,z,W,oe){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var we=W.key;z!==null;){if(z.key===we){if(we=W.type,we===S){if(z.tag===7){c(q,z.sibling),oe=v(z,W.props.children),oe.return=q,q=oe;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===b&&Ko(we)===z.type){c(q,z.sibling),oe=v(z,W.props),Kl(oe,W),oe.return=q,q=oe;break e}c(q,z);break}else s(q,z);z=z.sibling}W.type===S?(oe=Ho(W.props.children,q.mode,oe,W.key),oe.return=q,q=oe):(oe=ih(W.type,W.key,W.props,null,q.mode,oe),Kl(oe,W),oe.return=q,q=oe)}return A(q);case T:e:{for(we=W.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){c(q,z.sibling),oe=v(z,W.children||[]),oe.return=q,q=oe;break e}else{c(q,z);break}else s(q,z);z=z.sibling}oe=$1(W,q.mode,oe),oe.return=q,q=oe}return A(q);case b:return W=Ko(W),At(q,z,W,oe)}if(yt(W))return me(q,z,W,oe);if(U(W)){if(we=U(W),typeof we!="function")throw Error(n(150));return W=we.call(W),Ce(q,z,W,oe)}if(typeof W.then=="function")return At(q,z,fh(W),oe);if(W.$$typeof===B)return At(q,z,sh(q,W),oe);hh(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,z!==null&&z.tag===6?(c(q,z.sibling),oe=v(z,W),oe.return=q,q=oe):(c(q,z),oe=Z1(W,q.mode,oe),oe.return=q,q=oe),A(q)):c(q,z)}return function(q,z,W,oe){try{Xl=0;var we=At(q,z,W,oe);return lu=null,we}catch(Ee){if(Ee===uu||Ee===lh)throw Ee;var et=hr(29,Ee,null,q.mode);return et.lanes=oe,et.return=q,et}}}var Wo=Qm(!0),Zm=Qm(!1),Ra=!1;function c0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function f0(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Da(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Oa(o,s,c){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var v=d.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),d.pending=s,s=rh(o),Pm(o,null,c),s}return nh(o,d,s,c),rh(o)}function Yl(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,xl(o,c)}}function h0(o,s){var c=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?v=y=A:y=y.next=A,c=c.next}while(c!==null);y===null?v=y=s:y=y.next=s}else v=y=s;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var d0=!1;function Wl(){if(d0){var o=su;if(o!==null)throw o}}function Ql(o,s,c,d){d0=!1;var v=o.updateQueue;Ra=!1;var y=v.firstBaseUpdate,A=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var F=I,Q=F.next;F.next=null,A===null?y=Q:A.next=Q,A=F;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==A&&(I===null?ie.firstBaseUpdate=Q:I.next=Q,ie.lastBaseUpdate=F))}if(y!==null){var se=v.baseState;A=0,ie=Q=F=null,I=y;do{var Z=I.lane&-536870913,ee=Z!==I.lane;if(ee?(Ge&Z)===Z:(d&Z)===Z){Z!==0&&Z===ou&&(d0=!0),ie!==null&&(ie=ie.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var me=o,Ce=I;Z=s;var At=c;switch(Ce.tag){case 1:if(me=Ce.payload,typeof me=="function"){se=me.call(At,se,Z);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ce.payload,Z=typeof me=="function"?me.call(At,se,Z):me,Z==null)break e;se=m({},se,Z);break e;case 2:Ra=!0}}Z=I.callback,Z!==null&&(o.flags|=64,ee&&(o.flags|=8192),ee=v.callbacks,ee===null?v.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(Q=ie=ee,F=se):ie=ie.next=ee,A|=Z;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;ee=I,I=ee.next,ee.next=null,v.lastBaseUpdate=ee,v.shared.pending=null}}while(!0);ie===null&&(F=se),v.baseState=F,v.firstBaseUpdate=Q,v.lastBaseUpdate=ie,y===null&&(v.shared.lanes=0),La|=A,o.lanes=A,o.memoizedState=se}}function $m(o,s){if(typeof o!="function")throw Error(n(191,o));o.call(s)}function Jm(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)$m(c[o],s)}var cu=H(null),dh=H(0);function ey(o,s){o=Ji,ge(dh,o),ge(cu,s),Ji=o|s.baseLanes}function p0(){ge(dh,Ji),ge(cu,cu.current)}function g0(){Ji=dh.current,ue(cu),ue(dh)}var dr=H(null),Or=null;function Na(o){var s=o.alternate;ge(Ht,Ht.current&1),ge(dr,o),Or===null&&(s===null||cu.current!==null||s.memoizedState!==null)&&(Or=o)}function v0(o){ge(Ht,Ht.current),ge(dr,o),Or===null&&(Or=o)}function ty(o){o.tag===22?(ge(Ht,Ht.current),ge(dr,o),Or===null&&(Or=o)):Ma()}function Ma(){ge(Ht,Ht.current),ge(dr,dr.current)}function pr(o){ue(dr),Or===o&&(Or=null),ue(Ht)}var Ht=H(0);function ph(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ap(c)||wp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qi=0,Ve=null,Et=null,Qt=null,gh=!1,fu=!1,Qo=!1,vh=0,Zl=0,hu=null,OS=0;function Bt(){throw Error(n(321))}function m0(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!fr(o[c],s[c]))return!1;return!0}function y0(o,s,c,d,v,y){return qi=y,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ne.H=o===null||o.memoizedState===null?ky:M0,Qo=!1,y=c(d,v),Qo=!1,fu&&(y=ry(s,c,d,v)),ny(o),y}function ny(o){ne.H=ec;var s=Et!==null&&Et.next!==null;if(qi=0,Qt=Et=Ve=null,gh=!1,Zl=0,hu=null,s)throw Error(n(300));o===null||Zt||(o=o.dependencies,o!==null&&oh(o)&&(Zt=!0))}function ry(o,s,c,d){Ve=o;var v=0;do{if(fu&&(hu=null),Zl=0,fu=!1,25<=v)throw Error(n(301));if(v+=1,Qt=Et=null,o.updateQueue!=null){var y=o.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ne.H=Fy,y=s(c,d)}while(fu);return y}function NS(){var o=ne.H,s=o.useState()[0];return s=typeof s.then=="function"?$l(s):s,o=o.useState()[0],(Et!==null?Et.memoizedState:null)!==o&&(Ve.flags|=1024),s}function _0(){var o=vh!==0;return vh=0,o}function E0(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function x0(o){if(gh){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}gh=!1}qi=0,Qt=Et=Ve=null,fu=!1,Zl=vh=0,hu=null}function Gn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ve.memoizedState=Qt=o:Qt=Qt.next=o,Qt}function jt(){if(Et===null){var o=Ve.alternate;o=o!==null?o.memoizedState:null}else o=Et.next;var s=Qt===null?Ve.memoizedState:Qt.next;if(s!==null)Qt=s,Et=o;else{if(o===null)throw Ve.alternate===null?Error(n(467)):Error(n(310));Et=o,o={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Qt===null?Ve.memoizedState=Qt=o:Qt=Qt.next=o}return Qt}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(o){var s=Zl;return Zl+=1,hu===null&&(hu=[]),o=Km(hu,o,s),s=Ve,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,ne.H=s===null||s.memoizedState===null?ky:M0),o}function yh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return $l(o);if(o.$$typeof===B)return In(o)}throw Error(n(438,String(o)))}function A0(o){var s=null,c=Ve.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=mh(),Ve.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),d=0;d<o;d++)c[d]=L;return s.index++,c}function Xi(o,s){return typeof s=="function"?s(o):s}function _h(o){var s=jt();return w0(s,Et,o)}function w0(o,s,c){var d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=c;var v=o.baseQueue,y=d.pending;if(y!==null){if(v!==null){var A=v.next;v.next=y.next,y.next=A}s.baseQueue=v=y,d.pending=null}if(y=o.baseState,v===null)o.memoizedState=y;else{s=v.next;var I=A=null,F=null,Q=s,ie=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Ge&se)===se:(qi&se)===se){var Z=Q.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===ou&&(ie=!0);else if((qi&Z)===Z){Q=Q.next,Z===ou&&(ie=!0);continue}else se={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(I=F=se,A=y):F=F.next=se,Ve.lanes|=Z,La|=Z;se=Q.action,Qo&&c(y,se),y=Q.hasEagerState?Q.eagerState:c(y,se)}else Z={lane:se,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(I=F=Z,A=y):F=F.next=Z,Ve.lanes|=se,La|=se;Q=Q.next}while(Q!==null&&Q!==s);if(F===null?A=y:F.next=I,!fr(y,o.memoizedState)&&(Zt=!0,ie&&(c=su,c!==null)))throw c;o.memoizedState=y,o.baseState=A,o.baseQueue=F,d.lastRenderedState=y}return v===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function T0(o){var s=jt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var d=c.dispatch,v=c.pending,y=s.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do y=o(y,A.action),A=A.next;while(A!==v);fr(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function iy(o,s,c){var d=Ve,v=jt(),y=Ye;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=s();var A=!fr((Et||v).memoizedState,c);if(A&&(v.memoizedState=c,Zt=!0),v=v.queue,C0(sy.bind(null,d,v,o),[o]),v.getSnapshot!==s||A||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,du(9,{destroy:void 0},oy.bind(null,d,v,c,s),null),Tt===null)throw Error(n(349));y||(qi&127)!==0||ay(d,s,c)}return c}function ay(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=Ve.updateQueue,s===null?(s=mh(),Ve.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function oy(o,s,c,d){s.value=c,s.getSnapshot=d,uy(s)&&ly(o)}function sy(o,s,c){return c(function(){uy(s)&&ly(o)})}function uy(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!fr(o,c)}catch{return!0}}function ly(o){var s=zo(o,2);s!==null&&ir(s,o,2)}function S0(o){var s=Gn();if(typeof o=="function"){var c=o;if(o=c(),Qo){xr(!0);try{c()}finally{xr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:o},s}function cy(o,s,c,d){return o.baseState=c,w0(o,Et,typeof d=="function"?d:Xi)}function MS(o,s,c,d,v){if(Ah(o))throw Error(n(485));if(o=s.action,o!==null){var y={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};ne.T!==null?c(!0):y.isTransition=!1,d(y),c=s.pending,c===null?(y.next=s.pending=y,fy(s,y)):(y.next=c.next,s.pending=c.next=y)}}function fy(o,s){var c=s.action,d=s.payload,v=o.state;if(s.isTransition){var y=ne.T,A={};ne.T=A;try{var I=c(v,d),F=ne.S;F!==null&&F(A,I),hy(o,s,I)}catch(Q){I0(o,s,Q)}finally{y!==null&&A.types!==null&&(y.types=A.types),ne.T=y}}else try{y=c(v,d),hy(o,s,y)}catch(Q){I0(o,s,Q)}}function hy(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){dy(o,s,d)},function(d){return I0(o,s,d)}):dy(o,s,c)}function dy(o,s,c){s.status="fulfilled",s.value=c,py(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,fy(o,c)))}function I0(o,s,c){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,py(s),s=s.next;while(s!==d)}o.action=null}function py(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function gy(o,s){return s}function vy(o,s){if(Ye){var c=Tt.formState;if(c!==null){e:{var d=Ve;if(Ye){if(It){t:{for(var v=It,y=Dr;v.nodeType!==8;){if(!y){v=null;break t}if(v=Nr(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){It=Nr(v.nextSibling),d=v.data==="F!";break e}}Ca(d)}d=!1}d&&(s=c[0])}}return c=Gn(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:s},c.queue=d,c=Vy.bind(null,Ve,d),d.dispatch=c,d=S0(!1),y=N0.bind(null,Ve,!1,d.queue),d=Gn(),v={state:s,dispatch:null,action:o,pending:null},d.queue=v,c=MS.bind(null,Ve,v,y,c),v.dispatch=c,d.memoizedState=o,[s,c,!1]}function my(o){var s=jt();return yy(s,Et,o)}function yy(o,s,c){if(s=w0(o,s,gy)[0],o=_h(Xi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=$l(s)}catch(A){throw A===uu?lh:A}else d=s;s=jt();var v=s.queue,y=v.dispatch;return c!==s.memoizedState&&(Ve.flags|=2048,du(9,{destroy:void 0},PS.bind(null,v,c),null)),[d,y,o]}function PS(o,s){o.action=s}function _y(o){var s=jt(),c=Et;if(c!==null)return yy(s,c,o);jt(),s=s.memoizedState,c=jt();var d=c.queue.dispatch;return c.memoizedState=o,[s,d,!1]}function du(o,s,c,d){return o={tag:o,create:c,deps:d,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=mh(),Ve.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(d=c.next,c.next=o,o.next=d,s.lastEffect=o),o}function Ey(){return jt().memoizedState}function Eh(o,s,c,d){var v=Gn();Ve.flags|=o,v.memoizedState=du(1|s,{destroy:void 0},c,d===void 0?null:d)}function xh(o,s,c,d){var v=jt();d=d===void 0?null:d;var y=v.memoizedState.inst;Et!==null&&d!==null&&m0(d,Et.memoizedState.deps)?v.memoizedState=du(s,y,c,d):(Ve.flags|=o,v.memoizedState=du(1|s,y,c,d))}function xy(o,s){Eh(8390656,8,o,s)}function C0(o,s){xh(2048,8,o,s)}function VS(o){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=mh(),Ve.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function Ay(o){var s=jt().memoizedState;return VS({ref:s,nextImpl:o}),function(){if((it&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function wy(o,s){return xh(4,2,o,s)}function Ty(o,s){return xh(4,4,o,s)}function Sy(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Iy(o,s,c){c=c!=null?c.concat([o]):null,xh(4,4,Sy.bind(null,s,o),c)}function b0(){}function Cy(o,s){var c=jt();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&m0(s,d[1])?d[0]:(c.memoizedState=[o,s],o)}function by(o,s){var c=jt();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&m0(s,d[1]))return d[0];if(d=o(),Qo){xr(!0);try{o()}finally{xr(!1)}}return c.memoizedState=[d,s],d}function R0(o,s,c){return c===void 0||(qi&1073741824)!==0&&(Ge&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=R_(),Ve.lanes|=o,La|=o,c)}function Ry(o,s,c,d){return fr(c,s)?c:cu.current!==null?(o=R0(o,c,d),fr(o,s)||(Zt=!0),o):(qi&42)===0||(qi&1073741824)!==0&&(Ge&261930)===0?(Zt=!0,o.memoizedState=c):(o=R_(),Ve.lanes|=o,La|=o,s)}function Dy(o,s,c,d,v){var y=de.p;de.p=y!==0&&8>y?y:8;var A=ne.T,I={};ne.T=I,N0(o,!1,s,c);try{var F=v(),Q=ne.S;if(Q!==null&&Q(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=DS(F,d);Jl(o,s,ie,mr(o))}else Jl(o,s,d,mr(o))}catch(se){Jl(o,s,{then:function(){},status:"rejected",reason:se},mr())}finally{de.p=y,A!==null&&I.types!==null&&(A.types=I.types),ne.T=A}}function LS(){}function D0(o,s,c,d){if(o.tag!==5)throw Error(n(476));var v=Oy(o).queue;Dy(o,v,s,Ae,c===null?LS:function(){return Ny(o),c(d)})}function Oy(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:Ae},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function Ny(o){var s=Oy(o);s.next===null&&(s=o.alternate.memoizedState),Jl(o,s.next.queue,{},mr())}function O0(){return In(vc)}function My(){return jt().memoizedState}function Py(){return jt().memoizedState}function BS(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=mr();o=Da(c);var d=Oa(s,o,c);d!==null&&(ir(d,s,c),Yl(d,s,c)),s={cache:o0()},o.payload=s;return}s=s.return}}function kS(o,s,c){var d=mr();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ah(o)?Ly(s,c):(c=W1(o,s,c,d),c!==null&&(ir(c,o,d),By(c,s,d)))}function Vy(o,s,c){var d=mr();Jl(o,s,c,d)}function Jl(o,s,c,d){var v={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ah(o))Ly(s,v);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,I=y(A,c);if(v.hasEagerState=!0,v.eagerState=I,fr(I,A))return nh(o,s,v,0),Tt===null&&th(),!1}catch{}if(c=W1(o,s,v,d),c!==null)return ir(c,o,d),By(c,s,d),!0}return!1}function N0(o,s,c,d){if(d={lane:2,revertLane:cp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ah(o)){if(s)throw Error(n(479))}else s=W1(o,c,d,2),s!==null&&ir(s,o,2)}function Ah(o){var s=o.alternate;return o===Ve||s!==null&&s===Ve}function Ly(o,s){fu=gh=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function By(o,s,c){if((c&4194048)!==0){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,xl(o,c)}}var ec={readContext:In,use:yh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};ec.useEffectEvent=Bt;var ky={readContext:In,use:yh,useCallback:function(o,s){return Gn().memoizedState=[o,s===void 0?null:s],o},useContext:In,useEffect:xy,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,Eh(4194308,4,Sy.bind(null,s,o),c)},useLayoutEffect:function(o,s){return Eh(4194308,4,o,s)},useInsertionEffect:function(o,s){Eh(4,2,o,s)},useMemo:function(o,s){var c=Gn();s=s===void 0?null:s;var d=o();if(Qo){xr(!0);try{o()}finally{xr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(o,s,c){var d=Gn();if(c!==void 0){var v=c(s);if(Qo){xr(!0);try{c(s)}finally{xr(!1)}}}else v=s;return d.memoizedState=d.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},d.queue=o,o=o.dispatch=kS.bind(null,Ve,o),[d.memoizedState,o]},useRef:function(o){var s=Gn();return o={current:o},s.memoizedState=o},useState:function(o){o=S0(o);var s=o.queue,c=Vy.bind(null,Ve,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:b0,useDeferredValue:function(o,s){var c=Gn();return R0(c,o,s)},useTransition:function(){var o=S0(!1);return o=Dy.bind(null,Ve,o.queue,!0,!1),Gn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var d=Ve,v=Gn();if(Ye){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),Tt===null)throw Error(n(349));(Ge&127)!==0||ay(d,s,c)}v.memoizedState=c;var y={value:c,getSnapshot:s};return v.queue=y,xy(sy.bind(null,d,y,o),[o]),d.flags|=2048,du(9,{destroy:void 0},oy.bind(null,d,y,c,s),null),c},useId:function(){var o=Gn(),s=Tt.identifierPrefix;if(Ye){var c=wi,d=Ai;c=(d&~(1<<32-Ut(d)-1)).toString(32)+c,s="_"+s+"R_"+c,c=vh++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=OS++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:O0,useFormState:vy,useActionState:vy,useOptimistic:function(o){var s=Gn();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=N0.bind(null,Ve,!0,c),c.dispatch=s,[o,s]},useMemoCache:A0,useCacheRefresh:function(){return Gn().memoizedState=BS.bind(null,Ve)},useEffectEvent:function(o){var s=Gn(),c={impl:o};return s.memoizedState=c,function(){if((it&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},M0={readContext:In,use:yh,useCallback:Cy,useContext:In,useEffect:C0,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ty,useMemo:by,useReducer:_h,useRef:Ey,useState:function(){return _h(Xi)},useDebugValue:b0,useDeferredValue:function(o,s){var c=jt();return Ry(c,Et.memoizedState,o,s)},useTransition:function(){var o=_h(Xi)[0],s=jt().memoizedState;return[typeof o=="boolean"?o:$l(o),s]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:O0,useFormState:my,useActionState:my,useOptimistic:function(o,s){var c=jt();return cy(c,Et,o,s)},useMemoCache:A0,useCacheRefresh:Py};M0.useEffectEvent=Ay;var Fy={readContext:In,use:yh,useCallback:Cy,useContext:In,useEffect:C0,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ty,useMemo:by,useReducer:T0,useRef:Ey,useState:function(){return T0(Xi)},useDebugValue:b0,useDeferredValue:function(o,s){var c=jt();return Et===null?R0(c,o,s):Ry(c,Et.memoizedState,o,s)},useTransition:function(){var o=T0(Xi)[0],s=jt().memoizedState;return[typeof o=="boolean"?o:$l(o),s]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:O0,useFormState:_y,useActionState:_y,useOptimistic:function(o,s){var c=jt();return Et!==null?cy(c,Et,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:A0,useCacheRefresh:Py};Fy.useEffectEvent=Ay;function P0(o,s,c,d){s=o.memoizedState,c=c(d,s),c=c==null?s:m({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var V0={enqueueSetState:function(o,s,c){o=o._reactInternals;var d=mr(),v=Da(d);v.payload=s,c!=null&&(v.callback=c),s=Oa(o,v,d),s!==null&&(ir(s,o,d),Yl(s,o,d))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var d=mr(),v=Da(d);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Oa(o,v,d),s!==null&&(ir(s,o,d),Yl(s,o,d))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=mr(),d=Da(c);d.tag=2,s!=null&&(d.callback=s),s=Oa(o,d,c),s!==null&&(ir(s,o,c),Yl(s,o,c))}};function Uy(o,s,c,d,v,y,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,y,A):s.prototype&&s.prototype.isPureReactComponent?!Ul(c,d)||!Ul(v,y):!0}function zy(o,s,c,d){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==o&&V0.enqueueReplaceState(s,s.state,null)}function Zo(o,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(o=o.defaultProps){c===s&&(c=m({},c));for(var v in o)c[v]===void 0&&(c[v]=o[v])}return c}function Hy(o){eh(o)}function jy(o){console.error(o)}function Gy(o){eh(o)}function wh(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function qy(o,s,c){try{var d=o.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function L0(o,s,c){return c=Da(c),c.tag=3,c.payload={element:null},c.callback=function(){wh(o,s)},c}function Xy(o){return o=Da(o),o.tag=3,o}function Ky(o,s,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var y=d.value;o.payload=function(){return v(y)},o.callback=function(){qy(s,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(o.callback=function(){qy(s,c,d),typeof v!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function FS(o,s,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&au(s,c,v,!0),c=dr.current,c!==null){switch(c.tag){case 31:case 13:return Or===null?Vh():c.alternate===null&&kt===0&&(kt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===ch?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),sp(o,d,v)),!1;case 22:return c.flags|=65536,d===ch?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),sp(o,d,v)),!1}throw Error(n(435,c.tag))}return sp(o,d,v),Vh(),!1}if(Ye)return s=dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,d!==t0&&(o=Error(n(422),{cause:d}),jl(Cr(o,c)))):(d!==t0&&(s=Error(n(423),{cause:d}),jl(Cr(s,c))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,d=Cr(d,c),v=L0(o.stateNode,d,v),h0(o,v),kt!==4&&(kt=2)),!1;var y=Error(n(520),{cause:d});if(y=Cr(y,c),uc===null?uc=[y]:uc.push(y),kt!==4&&(kt=2),s===null)return!0;d=Cr(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=v&-v,c.lanes|=o,o=L0(c.stateNode,d,o),h0(c,o),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ba===null||!Ba.has(y))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Xy(v),Ky(v,o,c,d),h0(c,v),!1}c=c.return}while(c!==null);return!1}var B0=Error(n(461)),Zt=!1;function Cn(o,s,c,d){s.child=o===null?Zm(s,null,c,d):Wo(s,o.child,c,d)}function Yy(o,s,c,d,v){c=c.render;var y=s.ref;if("ref"in d){var A={};for(var I in d)I!=="ref"&&(A[I]=d[I])}else A=d;return qo(s),d=y0(o,s,c,A,y,v),I=_0(),o!==null&&!Zt?(E0(o,s,v),Ki(o,s,v)):(Ye&&I&&J1(s),s.flags|=1,Cn(o,s,d,v),s.child)}function Wy(o,s,c,d,v){if(o===null){var y=c.type;return typeof y=="function"&&!Q1(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,Qy(o,s,y,d,v)):(o=ih(c.type,null,d,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(y=o.child,!q0(o,v)){var A=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ul,c(A,d)&&o.ref===s.ref)return Ki(o,s,v)}return s.flags|=1,o=zi(y,d),o.ref=s.ref,o.return=s,s.child=o}function Qy(o,s,c,d,v){if(o!==null){var y=o.memoizedProps;if(Ul(y,d)&&o.ref===s.ref)if(Zt=!1,s.pendingProps=d=y,q0(o,v))(o.flags&131072)!==0&&(Zt=!0);else return s.lanes=o.lanes,Ki(o,s,v)}return k0(o,s,c,d,v)}function Zy(o,s,c,d){var v=d.children,y=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,o!==null){for(d=s.child=o.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~y}else d=0,s.child=null;return $y(o,s,y,c,d)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&uh(s,y!==null?y.cachePool:null),y!==null?ey(s,y):p0(),ty(s);else return d=s.lanes=536870912,$y(o,s,y!==null?y.baseLanes|c:c,c,d)}else y!==null?(uh(s,y.cachePool),ey(s,y),Ma(),s.memoizedState=null):(o!==null&&uh(s,null),p0(),Ma());return Cn(o,s,v,c),s.child}function tc(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $y(o,s,c,d,v){var y=u0();return y=y===null?null:{parent:Wt._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},o!==null&&uh(s,null),p0(),ty(s),o!==null&&au(o,s,d,!0),s.childLanes=v,null}function Th(o,s){return s=Ih({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function Jy(o,s,c){return Wo(s,o.child,null,c),o=Th(s,s.pendingProps),o.flags|=2,pr(s),s.memoizedState=null,o}function US(o,s,c){var d=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Ye){if(d.mode==="hidden")return o=Th(s,d),s.lanes=536870912,tc(null,o);if(v0(s),(o=It)?(o=f2(o,Dr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Sa!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},c=Lm(o),c.return=s,s.child=c,Sn=s,It=null)):o=null,o===null)throw Ca(s);return s.lanes=536870912,null}return Th(s,d)}var y=o.memoizedState;if(y!==null){var A=y.dehydrated;if(v0(s),v)if(s.flags&256)s.flags&=-257,s=Jy(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(n(558));else if(Zt||au(o,s,c,!1),v=(c&o.childLanes)!==0,Zt||v){if(d=Tt,d!==null&&(A=Al(d,c),A!==0&&A!==y.retryLane))throw y.retryLane=A,zo(o,A),ir(d,o,A),B0;Vh(),s=Jy(o,s,c)}else o=y.treeContext,It=Nr(A.nextSibling),Sn=s,Ye=!0,Ia=null,Dr=!1,o!==null&&Fm(s,o),s=Th(s,d),s.flags|=4096;return s}return o=zi(o.child,{mode:d.mode,children:d.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Sh(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function k0(o,s,c,d,v){return qo(s),c=y0(o,s,c,d,void 0,v),d=_0(),o!==null&&!Zt?(E0(o,s,v),Ki(o,s,v)):(Ye&&d&&J1(s),s.flags|=1,Cn(o,s,c,v),s.child)}function e_(o,s,c,d,v,y){return qo(s),s.updateQueue=null,c=ry(s,d,c,v),ny(o),d=_0(),o!==null&&!Zt?(E0(o,s,y),Ki(o,s,y)):(Ye&&d&&J1(s),s.flags|=1,Cn(o,s,c,y),s.child)}function t_(o,s,c,d,v){if(qo(s),s.stateNode===null){var y=tu,A=c.contextType;typeof A=="object"&&A!==null&&(y=In(A)),y=new c(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=V0,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},c0(s),A=c.contextType,y.context=typeof A=="object"&&A!==null?In(A):tu,y.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(P0(s,c,A,d),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&V0.enqueueReplaceState(y,y.state,null),Ql(s,d,y,v),Wl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(o===null){y=s.stateNode;var I=s.memoizedProps,F=Zo(c,I);y.props=F;var Q=y.context,ie=c.contextType;A=tu,typeof ie=="object"&&ie!==null&&(A=In(ie));var se=c.getDerivedStateFromProps;ie=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||Q!==A)&&zy(s,y,d,A),Ra=!1;var Z=s.memoizedState;y.state=Z,Ql(s,d,y,v),Wl(),Q=s.memoizedState,I||Z!==Q||Ra?(typeof se=="function"&&(P0(s,c,se,d),Q=s.memoizedState),(F=Ra||Uy(s,c,F,d,Z,Q,A))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Q),y.props=d,y.state=Q,y.context=A,d=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,f0(o,s),A=s.memoizedProps,ie=Zo(c,A),y.props=ie,se=s.pendingProps,Z=y.context,Q=c.contextType,F=tu,typeof Q=="object"&&Q!==null&&(F=In(Q)),I=c.getDerivedStateFromProps,(Q=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==se||Z!==F)&&zy(s,y,d,F),Ra=!1,Z=s.memoizedState,y.state=Z,Ql(s,d,y,v),Wl();var ee=s.memoizedState;A!==se||Z!==ee||Ra||o!==null&&o.dependencies!==null&&oh(o.dependencies)?(typeof I=="function"&&(P0(s,c,I,d),ee=s.memoizedState),(ie=Ra||Uy(s,c,ie,d,Z,ee,F)||o!==null&&o.dependencies!==null&&oh(o.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===o.memoizedProps&&Z===o.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&Z===o.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ee),y.props=d,y.state=ee,y.context=F,d=ie):(typeof y.componentDidUpdate!="function"||A===o.memoizedProps&&Z===o.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&Z===o.memoizedState||(s.flags|=1024),d=!1)}return y=d,Sh(o,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,o!==null&&d?(s.child=Wo(s,o.child,null,v),s.child=Wo(s,null,c,v)):Cn(o,s,c,v),s.memoizedState=y.state,o=s.child):o=Ki(o,s,v),o}function n_(o,s,c,d){return jo(),s.flags|=256,Cn(o,s,c,d),s.child}var F0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U0(o){return{baseLanes:o,cachePool:qm()}}function z0(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=vr),o}function r_(o,s,c){var d=s.pendingProps,v=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=o!==null&&o.memoizedState===null?!1:(Ht.current&2)!==0),A&&(v=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,o===null){if(Ye){if(v?Na(s):Ma(),(o=It)?(o=f2(o,Dr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Sa!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},c=Lm(o),c.return=s,s.child=c,Sn=s,It=null)):o=null,o===null)throw Ca(s);return wp(o)?s.lanes=32:s.lanes=536870912,null}var I=d.children;return d=d.fallback,v?(Ma(),v=s.mode,I=Ih({mode:"hidden",children:I},v),d=Ho(d,v,c,null),I.return=s,d.return=s,I.sibling=d,s.child=I,d=s.child,d.memoizedState=U0(c),d.childLanes=z0(o,A,c),s.memoizedState=F0,tc(null,d)):(Na(s),H0(s,I))}var F=o.memoizedState;if(F!==null&&(I=F.dehydrated,I!==null)){if(y)s.flags&256?(Na(s),s.flags&=-257,s=j0(o,s,c)):s.memoizedState!==null?(Ma(),s.child=o.child,s.flags|=128,s=null):(Ma(),I=d.fallback,v=s.mode,d=Ih({mode:"visible",children:d.children},v),I=Ho(I,v,c,null),I.flags|=2,d.return=s,I.return=s,d.sibling=I,s.child=d,Wo(s,o.child,null,c),d=s.child,d.memoizedState=U0(c),d.childLanes=z0(o,A,c),s.memoizedState=F0,s=tc(null,d));else if(Na(s),wp(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var Q=A.dgst;A=Q,d=Error(n(419)),d.stack="",d.digest=A,jl({value:d,source:null,stack:null}),s=j0(o,s,c)}else if(Zt||au(o,s,c,!1),A=(c&o.childLanes)!==0,Zt||A){if(A=Tt,A!==null&&(d=Al(A,c),d!==0&&d!==F.retryLane))throw F.retryLane=d,zo(o,d),ir(A,o,d),B0;Ap(I)||Vh(),s=j0(o,s,c)}else Ap(I)?(s.flags|=192,s.child=o.child,s=null):(o=F.treeContext,It=Nr(I.nextSibling),Sn=s,Ye=!0,Ia=null,Dr=!1,o!==null&&Fm(s,o),s=H0(s,d.children),s.flags|=4096);return s}return v?(Ma(),I=d.fallback,v=s.mode,F=o.child,Q=F.sibling,d=zi(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,Q!==null?I=zi(Q,I):(I=Ho(I,v,c,null),I.flags|=2),I.return=s,d.return=s,d.sibling=I,s.child=d,tc(null,d),d=s.child,I=o.child.memoizedState,I===null?I=U0(c):(v=I.cachePool,v!==null?(F=Wt._currentValue,v=v.parent!==F?{parent:F,pool:F}:v):v=qm(),I={baseLanes:I.baseLanes|c,cachePool:v}),d.memoizedState=I,d.childLanes=z0(o,A,c),s.memoizedState=F0,tc(o.child,d)):(Na(s),c=o.child,o=c.sibling,c=zi(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,o!==null&&(A=s.deletions,A===null?(s.deletions=[o],s.flags|=16):A.push(o)),s.child=c,s.memoizedState=null,c)}function H0(o,s){return s=Ih({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Ih(o,s){return o=hr(22,o,null,s),o.lanes=0,o}function j0(o,s,c){return Wo(s,o.child,null,c),o=H0(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function i_(o,s,c){o.lanes|=s;var d=o.alternate;d!==null&&(d.lanes|=s),i0(o.return,s,c)}function G0(o,s,c,d,v,y){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=c,A.tailMode=v,A.treeForkCount=y)}function a_(o,s,c){var d=s.pendingProps,v=d.revealOrder,y=d.tail;d=d.children;var A=Ht.current,I=(A&2)!==0;if(I?(A=A&1|2,s.flags|=128):A&=1,ge(Ht,A),Cn(o,s,d,c),d=Ye?Hl:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&i_(o,c,s);else if(o.tag===19)i_(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)o=c.alternate,o!==null&&ph(o)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),G0(s,!1,v,c,y,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&ph(o)===null){s.child=v;break}o=v.sibling,v.sibling=c,c=v,v=o}G0(s,!0,c,null,y,d);break;case"together":G0(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Ki(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),La|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(au(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,c=zi(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=zi(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function q0(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&oh(o)))}function zS(o,s,c){switch(s.tag){case 3:rn(s,s.stateNode.containerInfo),ba(s,Wt,o.memoizedState.cache),jo();break;case 27:case 5:wo(s);break;case 4:rn(s,s.stateNode.containerInfo);break;case 10:ba(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,v0(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Na(s),s.flags|=128,null):(c&s.child.childLanes)!==0?r_(o,s,c):(Na(s),o=Ki(o,s,c),o!==null?o.sibling:null);Na(s);break;case 19:var v=(o.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(au(o,s,c,!1),d=(c&s.childLanes)!==0),v){if(d)return a_(o,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ge(Ht,Ht.current),d)break;return null;case 22:return s.lanes=0,Zy(o,s,c,s.pendingProps);case 24:ba(s,Wt,o.memoizedState.cache)}return Ki(o,s,c)}function o_(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Zt=!0;else{if(!q0(o,c)&&(s.flags&128)===0)return Zt=!1,zS(o,s,c);Zt=(o.flags&131072)!==0}else Zt=!1,Ye&&(s.flags&1048576)!==0&&km(s,Hl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(o=Ko(s.elementType),s.type=o,typeof o=="function")Q1(o)?(d=Zo(o,d),s.tag=1,s=t_(null,s,o,d,c)):(s.tag=0,s=k0(null,s,o,d,c));else{if(o!=null){var v=o.$$typeof;if(v===j){s.tag=11,s=Yy(null,s,o,d,c);break e}else if(v===C){s.tag=14,s=Wy(null,s,o,d,c);break e}}throw s=ze(o)||o,Error(n(306,s,""))}}return s;case 0:return k0(o,s,s.type,s.pendingProps,c);case 1:return d=s.type,v=Zo(d,s.pendingProps),t_(o,s,d,v,c);case 3:e:{if(rn(s,s.stateNode.containerInfo),o===null)throw Error(n(387));d=s.pendingProps;var y=s.memoizedState;v=y.element,f0(o,s),Ql(s,d,null,c);var A=s.memoizedState;if(d=A.cache,ba(s,Wt,d),d!==y.cache&&a0(s,[Wt],c,!0),Wl(),d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=n_(o,s,d,c);break e}else if(d!==v){v=Cr(Error(n(424)),s),jl(v),s=n_(o,s,d,c);break e}else for(o=s.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,It=Nr(o.firstChild),Sn=s,Ye=!0,Ia=null,Dr=!0,c=Zm(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(jo(),d===v){s=Ki(o,s,c);break e}Cn(o,s,d,c)}s=s.child}return s;case 26:return Sh(o,s),o===null?(c=m2(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ye||(c=s.type,o=s.pendingProps,d=Hh(Le.current).createElement(c),d[Xt]=s,d[gn]=o,bn(d,c,o),Kt(d),s.stateNode=d):s.memoizedState=m2(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return wo(s),o===null&&Ye&&(d=s.stateNode=p2(s.type,s.pendingProps,Le.current),Sn=s,Dr=!0,v=It,za(s.type)?(Tp=v,It=Nr(d.firstChild)):It=v),Cn(o,s,s.pendingProps.children,c),Sh(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Ye&&((v=d=It)&&(d=mI(d,s.type,s.pendingProps,Dr),d!==null?(s.stateNode=d,Sn=s,It=Nr(d.firstChild),Dr=!1,v=!0):v=!1),v||Ca(s)),wo(s),v=s.type,y=s.pendingProps,A=o!==null?o.memoizedProps:null,d=y.children,_p(v,y)?d=null:A!==null&&_p(v,A)&&(s.flags|=32),s.memoizedState!==null&&(v=y0(o,s,NS,null,null,c),vc._currentValue=v),Sh(o,s),Cn(o,s,d,c),s.child;case 6:return o===null&&Ye&&((o=c=It)&&(c=yI(c,s.pendingProps,Dr),c!==null?(s.stateNode=c,Sn=s,It=null,o=!0):o=!1),o||Ca(s)),null;case 13:return r_(o,s,c);case 4:return rn(s,s.stateNode.containerInfo),d=s.pendingProps,o===null?s.child=Wo(s,null,d,c):Cn(o,s,d,c),s.child;case 11:return Yy(o,s,s.type,s.pendingProps,c);case 7:return Cn(o,s,s.pendingProps,c),s.child;case 8:return Cn(o,s,s.pendingProps.children,c),s.child;case 12:return Cn(o,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,ba(s,s.type,d.value),Cn(o,s,d.children,c),s.child;case 9:return v=s.type._context,d=s.pendingProps.children,qo(s),v=In(v),d=d(v),s.flags|=1,Cn(o,s,d,c),s.child;case 14:return Wy(o,s,s.type,s.pendingProps,c);case 15:return Qy(o,s,s.type,s.pendingProps,c);case 19:return a_(o,s,c);case 31:return US(o,s,c);case 22:return Zy(o,s,c,s.pendingProps);case 24:return qo(s),d=In(Wt),o===null?(v=u0(),v===null&&(v=Tt,y=o0(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=c),v=y),s.memoizedState={parent:d,cache:v},c0(s),ba(s,Wt,v)):((o.lanes&c)!==0&&(f0(o,s),Ql(s,null,null,c),Wl()),v=o.memoizedState,y=s.memoizedState,v.parent!==d?(v={parent:d,cache:d},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ba(s,Wt,d)):(d=y.cache,ba(s,Wt,d),d!==v.cache&&a0(s,[Wt],c,!0))),Cn(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Yi(o){o.flags|=4}function X0(o,s,c,d,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(M_())o.flags|=8192;else throw Yo=ch,l0}else o.flags&=-16777217}function s_(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!A2(s))if(M_())o.flags|=8192;else throw Yo=ch,l0}function Ch(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Mf():536870912,o.lanes|=s,mu|=s)}function nc(o,s){if(!Ye)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Ct(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,d=0;if(s)for(var v=o.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=d,o.childLanes=c,s}function HS(o,s,c){var d=s.pendingProps;switch(e0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return c=s.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Gi(Wt),Dt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(iu(s)?Yi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n0())),Ct(s),null;case 26:var v=s.type,y=s.memoizedState;return o===null?(Yi(s),y!==null?(Ct(s),s_(s,y)):(Ct(s),X0(s,v,null,d,c))):y?y!==o.memoizedState?(Yi(s),Ct(s),s_(s,y)):(Ct(s),s.flags&=-16777217):(o=o.memoizedProps,o!==d&&Yi(s),Ct(s),X0(s,v,o,d,c)),null;case 27:if(Ls(s),c=Le.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==d&&Yi(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Ct(s),null}o=ve.current,iu(s)?Um(s):(o=p2(v,d,c),s.stateNode=o,Yi(s))}return Ct(s),null;case 5:if(Ls(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==d&&Yi(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Ct(s),null}if(y=ve.current,iu(s))Um(s);else{var A=Hh(Le.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?A.createElement(v,{is:d.is}):A.createElement(v)}}y[Xt]=s,y[gn]=d;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;e:switch(bn(y,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Yi(s)}}return Ct(s),X0(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==d&&Yi(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(o=Le.current,iu(s)){if(o=s.stateNode,c=s.memoizedProps,d=null,v=Sn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}o[Xt]=s,o=!!(o.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||r2(o.nodeValue,c)),o||Ca(s,!0)}else o=Hh(o).createTextNode(d),o[Xt]=s,s.stateNode=o}return Ct(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(d=iu(s),c!==null){if(o===null){if(!d)throw Error(n(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Xt]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),o=!1}else c=n0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(pr(s),s):(pr(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Ct(s),null;case 13:if(d=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=iu(s),d!==null&&d.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Xt]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),v=!1}else v=n0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(pr(s),s):(pr(s),null)}return pr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=d!==null,o=o!==null&&o.memoizedState!==null,c&&(d=s.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==v&&(d.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),Ch(s,s.updateQueue),Ct(s),null);case 4:return Dt(),o===null&&pp(s.stateNode.containerInfo),Ct(s),null;case 10:return Gi(s.type),Ct(s),null;case 19:if(ue(Ht),d=s.memoizedState,d===null)return Ct(s),null;if(v=(s.flags&128)!==0,y=d.rendering,y===null)if(v)nc(d,!1);else{if(kt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(y=ph(o),y!==null){for(s.flags|=128,nc(d,!1),o=y.updateQueue,s.updateQueue=o,Ch(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)Vm(c,o),c=c.sibling;return ge(Ht,Ht.current&1|2),Ye&&Hi(s,d.treeForkCount),s.child}o=o.sibling}d.tail!==null&&Hn()>Nh&&(s.flags|=128,v=!0,nc(d,!1),s.lanes=4194304)}else{if(!v)if(o=ph(y),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,Ch(s,o),nc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ye)return Ct(s),null}else 2*Hn()-d.renderingStartTime>Nh&&c!==536870912&&(s.flags|=128,v=!0,nc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(o=d.last,o!==null?o.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(o=d.tail,d.rendering=o,d.tail=o.sibling,d.renderingStartTime=Hn(),o.sibling=null,c=Ht.current,ge(Ht,v?c&1|2:c&1),Ye&&Hi(s,d.treeForkCount),o):(Ct(s),null);case 22:case 23:return pr(s),g0(),d=s.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),c=s.updateQueue,c!==null&&Ch(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),o!==null&&ue(Xo),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Gi(Wt),Ct(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function jS(o,s){switch(e0(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Gi(Wt),Dt(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Ls(s),null;case 31:if(s.memoizedState!==null){if(pr(s),s.alternate===null)throw Error(n(340));jo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(pr(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));jo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return ue(Ht),null;case 4:return Dt(),null;case 10:return Gi(s.type),null;case 22:case 23:return pr(s),g0(),o!==null&&ue(Xo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Gi(Wt),null;case 25:return null;default:return null}}function u_(o,s){switch(e0(s),s.tag){case 3:Gi(Wt),Dt();break;case 26:case 27:case 5:Ls(s);break;case 4:Dt();break;case 31:s.memoizedState!==null&&pr(s);break;case 13:pr(s);break;case 19:ue(Ht);break;case 10:Gi(s.type);break;case 22:case 23:pr(s),g0(),o!==null&&ue(Xo);break;case 24:Gi(Wt)}}function rc(o,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&o)===o){d=void 0;var y=c.create,A=c.inst;d=y(),A.destroy=d}c=c.next}while(c!==v)}}catch(I){ht(s,s.return,I)}}function Pa(o,s,c){try{var d=s.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var y=v.next;d=y;do{if((d.tag&o)===o){var A=d.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,v=s;var F=c,Q=I;try{Q()}catch(ie){ht(v,F,ie)}}}d=d.next}while(d!==y)}}catch(ie){ht(s,s.return,ie)}}function l_(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{Jm(s,c)}catch(d){ht(o,o.return,d)}}}function c_(o,s,c){c.props=Zo(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(d){ht(o,s,d)}}function ic(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof c=="function"?o.refCleanup=c(d):c.current=d}}catch(v){ht(o,s,v)}}function Ti(o,s){var c=o.ref,d=o.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){ht(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){ht(o,s,v)}else c.current=null}function f_(o){var s=o.type,c=o.memoizedProps,d=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){ht(o,o.return,v)}}function K0(o,s,c){try{var d=o.stateNode;fI(d,o.type,c,s),d[gn]=s}catch(v){ht(o,o.return,v)}}function h_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&za(o.type)||o.tag===4}function Y0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||h_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&za(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function W0(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Gr));else if(d!==4&&(d===27&&za(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(W0(o,s,c),o=o.sibling;o!==null;)W0(o,s,c),o=o.sibling}function bh(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(d!==4&&(d===27&&za(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(bh(o,s,c),o=o.sibling;o!==null;)bh(o,s,c),o=o.sibling}function d_(o){var s=o.stateNode,c=o.memoizedProps;try{for(var d=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);bn(s,d,c),s[Xt]=o,s[gn]=c}catch(y){ht(o,o.return,y)}}var Wi=!1,$t=!1,Q0=!1,p_=typeof WeakSet=="function"?WeakSet:Set,mn=null;function GS(o,s){if(o=o.containerInfo,mp=Wh,o=Im(o),j1(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var A=0,I=-1,F=-1,Q=0,ie=0,se=o,Z=null;t:for(;;){for(var ee;se!==c||v!==0&&se.nodeType!==3||(I=A+v),se!==y||d!==0&&se.nodeType!==3||(F=A+d),se.nodeType===3&&(A+=se.nodeValue.length),(ee=se.firstChild)!==null;)Z=se,se=ee;for(;;){if(se===o)break t;if(Z===c&&++Q===v&&(I=A),Z===y&&++ie===d&&(F=A),(ee=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=ee}c=I===-1||F===-1?null:{start:I,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(yp={focusedElem:o,selectionRange:c},Wh=!1,mn=s;mn!==null;)if(s=mn,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,mn=o;else for(;mn!==null;){switch(s=mn,y=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)v=o[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&y!==null){o=void 0,c=s,v=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var me=Zo(c.type,v);o=d.getSnapshotBeforeUpdate(me,y),d.__reactInternalSnapshotBeforeUpdate=o}catch(Ce){ht(c,c.return,Ce)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)xp(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":xp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=s.sibling,o!==null){o.return=s.return,mn=o;break}mn=s.return}}function g_(o,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Zi(o,c),d&4&&rc(5,c);break;case 1:if(Zi(o,c),d&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(A){ht(c,c.return,A)}else{var v=Zo(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(A){ht(c,c.return,A)}}d&64&&l_(c),d&512&&ic(c,c.return);break;case 3:if(Zi(o,c),d&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Jm(o,s)}catch(A){ht(c,c.return,A)}}break;case 27:s===null&&d&4&&d_(c);case 26:case 5:Zi(o,c),s===null&&d&4&&f_(c),d&512&&ic(c,c.return);break;case 12:Zi(o,c);break;case 31:Zi(o,c),d&4&&y_(o,c);break;case 13:Zi(o,c),d&4&&__(o,c),d&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=JS.bind(null,c),_I(o,c))));break;case 22:if(d=c.memoizedState!==null||Wi,!d){s=s!==null&&s.memoizedState!==null||$t,v=Wi;var y=$t;Wi=d,($t=s)&&!y?$i(o,c,(c.subtreeFlags&8772)!==0):Zi(o,c),Wi=v,$t=y}break;case 30:break;default:Zi(o,c)}}function v_(o){var s=o.alternate;s!==null&&(o.alternate=null,v_(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&zs(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Nt=null,er=!1;function Qi(o,s,c){for(c=c.child;c!==null;)m_(o,s,c),c=c.sibling}function m_(o,s,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Ur,c)}catch{}switch(c.tag){case 26:$t||Ti(c,s),Qi(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$t||Ti(c,s);var d=Nt,v=er;za(c.type)&&(Nt=c.stateNode,er=!1),Qi(o,s,c),dc(c.stateNode),Nt=d,er=v;break;case 5:$t||Ti(c,s);case 6:if(d=Nt,v=er,Nt=null,Qi(o,s,c),Nt=d,er=v,Nt!==null)if(er)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(c.stateNode)}catch(y){ht(c,s,y)}else try{Nt.removeChild(c.stateNode)}catch(y){ht(c,s,y)}break;case 18:Nt!==null&&(er?(o=Nt,l2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Su(o)):l2(Nt,c.stateNode));break;case 4:d=Nt,v=er,Nt=c.stateNode.containerInfo,er=!0,Qi(o,s,c),Nt=d,er=v;break;case 0:case 11:case 14:case 15:Pa(2,c,s),$t||Pa(4,c,s),Qi(o,s,c);break;case 1:$t||(Ti(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&c_(c,s,d)),Qi(o,s,c);break;case 21:Qi(o,s,c);break;case 22:$t=(d=$t)||c.memoizedState!==null,Qi(o,s,c),$t=d;break;default:Qi(o,s,c)}}function y_(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Su(o)}catch(c){ht(s,s.return,c)}}}function __(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Su(o)}catch(c){ht(s,s.return,c)}}function qS(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new p_),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new p_),s;default:throw Error(n(435,o.tag))}}function Rh(o,s){var c=qS(o);s.forEach(function(d){if(!c.has(d)){c.add(d);var v=eI.bind(null,o,d);d.then(v,v)}})}function tr(o,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],y=o,A=s,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(za(I.type)){Nt=I.stateNode,er=!1;break e}break;case 5:Nt=I.stateNode,er=!1;break e;case 3:case 4:Nt=I.stateNode.containerInfo,er=!0;break e}I=I.return}if(Nt===null)throw Error(n(160));m_(y,A,v),Nt=null,er=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)E_(s,o),s=s.sibling}var Qr=null;function E_(o,s){var c=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:tr(s,o),nr(o),d&4&&(Pa(3,o,o.return),rc(3,o),Pa(5,o,o.return));break;case 1:tr(s,o),nr(o),d&512&&($t||c===null||Ti(c,c.return)),d&64&&Wi&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=Qr;if(tr(s,o),nr(o),d&512&&($t||c===null||Ti(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=o.memoizedState,c===null)if(d===null)if(o.stateNode===null){e:{d=o.type,c=o.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":y=v.getElementsByTagName("title")[0],(!y||y[ci]||y[Xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(d),v.head.insertBefore(y,v.querySelector("head > title"))),bn(y,d,c),y[Xt]=o,Kt(y),d=y;break e;case"link":var A=E2("link","href",v).get(d+(c.href||""));if(A){for(var I=0;I<A.length;I++)if(y=A[I],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(I,1);break t}}y=v.createElement(d),bn(y,d,c),v.head.appendChild(y);break;case"meta":if(A=E2("meta","content",v).get(d+(c.content||""))){for(I=0;I<A.length;I++)if(y=A[I],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(I,1);break t}}y=v.createElement(d),bn(y,d,c),v.head.appendChild(y);break;default:throw Error(n(468,d))}y[Xt]=o,Kt(y),d=y}o.stateNode=d}else x2(v,o.type,o.stateNode);else o.stateNode=_2(v,d,o.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?x2(v,o.type,o.stateNode):_2(v,d,o.memoizedProps)):d===null&&o.stateNode!==null&&K0(o,o.memoizedProps,c.memoizedProps)}break;case 27:tr(s,o),nr(o),d&512&&($t||c===null||Ti(c,c.return)),c!==null&&d&4&&K0(o,o.memoizedProps,c.memoizedProps);break;case 5:if(tr(s,o),nr(o),d&512&&($t||c===null||Ti(c,c.return)),o.flags&32){v=o.stateNode;try{Jn(v,"")}catch(me){ht(o,o.return,me)}}d&4&&o.stateNode!=null&&(v=o.memoizedProps,K0(o,v,c!==null?c.memoizedProps:v)),d&1024&&(Q0=!0);break;case 6:if(tr(s,o),nr(o),d&4){if(o.stateNode===null)throw Error(n(162));d=o.memoizedProps,c=o.stateNode;try{c.nodeValue=d}catch(me){ht(o,o.return,me)}}break;case 3:if(qh=null,v=Qr,Qr=jh(s.containerInfo),tr(s,o),Qr=v,nr(o),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(me){ht(o,o.return,me)}Q0&&(Q0=!1,x_(o));break;case 4:d=Qr,Qr=jh(o.stateNode.containerInfo),tr(s,o),nr(o),Qr=d;break;case 12:tr(s,o),nr(o);break;case 31:tr(s,o),nr(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Rh(o,d)));break;case 13:tr(s,o),nr(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Oh=Hn()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Rh(o,d)));break;case 22:v=o.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Q=Wi,ie=$t;if(Wi=Q||v,$t=ie||F,tr(s,o),$t=ie,Wi=Q,nr(o),d&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||F||Wi||$t||$o(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){F=c=s;try{if(y=F.stateNode,v)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=F.stateNode;var se=F.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;I.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(me){ht(F,F.return,me)}}}else if(s.tag===6){if(c===null){F=s;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(me){ht(F,F.return,me)}}}else if(s.tag===18){if(c===null){F=s;try{var ee=F.stateNode;v?c2(ee,!0):c2(F.stateNode,!1)}catch(me){ht(F,F.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=o.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Rh(o,c))));break;case 19:tr(s,o),nr(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Rh(o,d)));break;case 30:break;case 21:break;default:tr(s,o),nr(o)}}function nr(o){var s=o.flags;if(s&2){try{for(var c,d=o.return;d!==null;){if(h_(d)){c=d;break}d=d.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var v=c.stateNode,y=Y0(o);bh(o,y,v);break;case 5:var A=c.stateNode;c.flags&32&&(Jn(A,""),c.flags&=-33);var I=Y0(o);bh(o,I,A);break;case 3:case 4:var F=c.stateNode.containerInfo,Q=Y0(o);W0(o,Q,F);break;default:throw Error(n(161))}}catch(ie){ht(o,o.return,ie)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function x_(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;x_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Zi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g_(o,s.alternate,s),s=s.sibling}function $o(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Pa(4,s,s.return),$o(s);break;case 1:Ti(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&c_(s,s.return,c),$o(s);break;case 27:dc(s.stateNode);case 26:case 5:Ti(s,s.return),$o(s);break;case 22:s.memoizedState===null&&$o(s);break;case 30:$o(s);break;default:$o(s)}o=o.sibling}}function $i(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,v=o,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:$i(v,y,c),rc(4,y);break;case 1:if($i(v,y,c),d=y,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Q){ht(d,d.return,Q)}if(d=y,v=d.updateQueue,v!==null){var I=d.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)$m(F[v],I)}catch(Q){ht(d,d.return,Q)}}c&&A&64&&l_(y),ic(y,y.return);break;case 27:d_(y);case 26:case 5:$i(v,y,c),c&&d===null&&A&4&&f_(y),ic(y,y.return);break;case 12:$i(v,y,c);break;case 31:$i(v,y,c),c&&A&4&&y_(v,y);break;case 13:$i(v,y,c),c&&A&4&&__(v,y);break;case 22:y.memoizedState===null&&$i(v,y,c),ic(y,y.return);break;case 30:break;default:$i(v,y,c)}s=s.sibling}}function Z0(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&Gl(c))}function $0(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Gl(o))}function Zr(o,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A_(o,s,c,d),s=s.sibling}function A_(o,s,c,d){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(o,s,c,d),v&2048&&rc(9,s);break;case 1:Zr(o,s,c,d);break;case 3:Zr(o,s,c,d),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Gl(o)));break;case 12:if(v&2048){Zr(o,s,c,d),o=s.stateNode;try{var y=s.memoizedProps,A=y.id,I=y.onPostCommit;typeof I=="function"&&I(A,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(F){ht(s,s.return,F)}}else Zr(o,s,c,d);break;case 31:Zr(o,s,c,d);break;case 13:Zr(o,s,c,d);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?Zr(o,s,c,d):ac(o,s):y._visibility&2?Zr(o,s,c,d):(y._visibility|=2,pu(o,s,c,d,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Z0(A,s);break;case 24:Zr(o,s,c,d),v&2048&&$0(s.alternate,s);break;default:Zr(o,s,c,d)}}function pu(o,s,c,d,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=o,A=s,I=c,F=d,Q=A.flags;switch(A.tag){case 0:case 11:case 15:pu(y,A,I,F,v),rc(8,A);break;case 23:break;case 22:var ie=A.stateNode;A.memoizedState!==null?ie._visibility&2?pu(y,A,I,F,v):ac(y,A):(ie._visibility|=2,pu(y,A,I,F,v)),v&&Q&2048&&Z0(A.alternate,A);break;case 24:pu(y,A,I,F,v),v&&Q&2048&&$0(A.alternate,A);break;default:pu(y,A,I,F,v)}s=s.sibling}}function ac(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,d=s,v=d.flags;switch(d.tag){case 22:ac(c,d),v&2048&&Z0(d.alternate,d);break;case 24:ac(c,d),v&2048&&$0(d.alternate,d);break;default:ac(c,d)}s=s.sibling}}var oc=8192;function gu(o,s,c){if(o.subtreeFlags&oc)for(o=o.child;o!==null;)w_(o,s,c),o=o.sibling}function w_(o,s,c){switch(o.tag){case 26:gu(o,s,c),o.flags&oc&&o.memoizedState!==null&&OI(c,Qr,o.memoizedState,o.memoizedProps);break;case 5:gu(o,s,c);break;case 3:case 4:var d=Qr;Qr=jh(o.stateNode.containerInfo),gu(o,s,c),Qr=d;break;case 22:o.memoizedState===null&&(d=o.alternate,d!==null&&d.memoizedState!==null?(d=oc,oc=16777216,gu(o,s,c),oc=d):gu(o,s,c));break;default:gu(o,s,c)}}function T_(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function sc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];mn=d,I_(d,o)}T_(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)S_(o),o=o.sibling}function S_(o){switch(o.tag){case 0:case 11:case 15:sc(o),o.flags&2048&&Pa(9,o,o.return);break;case 3:sc(o);break;case 12:sc(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Dh(o)):sc(o);break;default:sc(o)}}function Dh(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];mn=d,I_(d,o)}T_(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Pa(8,s,s.return),Dh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Dh(s));break;default:Dh(s)}o=o.sibling}}function I_(o,s){for(;mn!==null;){var c=mn;switch(c.tag){case 0:case 11:case 15:Pa(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gl(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,mn=d;else e:for(c=o;mn!==null;){d=mn;var v=d.sibling,y=d.return;if(v_(d),d===c){mn=null;break e}if(v!==null){v.return=y,mn=v;break e}mn=y}}}var XS={getCacheForType:function(o){var s=In(Wt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return In(Wt).controller.signal}},KS=typeof WeakMap=="function"?WeakMap:Map,it=0,Tt=null,He=null,Ge=0,ft=0,gr=null,Va=!1,vu=!1,J0=!1,Ji=0,kt=0,La=0,Jo=0,ep=0,vr=0,mu=0,uc=null,rr=null,tp=!1,Oh=0,C_=0,Nh=1/0,Mh=null,Ba=null,on=0,ka=null,yu=null,ea=0,np=0,rp=null,b_=null,lc=0,ip=null;function mr(){return(it&2)!==0&&Ge!==0?Ge&-Ge:ne.T!==null?cp():Pf()}function R_(){if(vr===0)if((Ge&536870912)===0||Ye){var o=Io;Io<<=1,(Io&3932160)===0&&(Io=262144),vr=o}else vr=536870912;return o=dr.current,o!==null&&(o.flags|=32),vr}function ir(o,s,c){(o===Tt&&(ft===2||ft===9)||o.cancelPendingCommit!==null)&&(_u(o,0),Fa(o,Ge,vr,!1)),Co(o,c),((it&2)===0||o!==Tt)&&(o===Tt&&((it&2)===0&&(Jo|=c),kt===4&&Fa(o,Ge,vr,!1)),Si(o))}function D_(o,s,c){if((it&6)!==0)throw Error(n(327));var d=!c&&(s&127)===0&&(s&o.expiredLanes)===0||zr(o,s),v=d?QS(o,s):op(o,s,!0),y=d;do{if(v===0){vu&&!d&&Fa(o,s,0,!1);break}else{if(c=o.current.alternate,y&&!YS(c)){v=op(o,s,!1),y=!1;continue}if(v===2){if(y=s,o.errorRecoveryDisabledLanes&y)var A=0;else A=o.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var I=o;v=uc;var F=I.current.memoizedState.isDehydrated;if(F&&(_u(I,A).flags|=256),A=op(I,A,!1),A!==2){if(J0&&!F){I.errorRecoveryDisabledLanes|=y,Jo|=y,v=4;break e}y=rr,rr=v,y!==null&&(rr===null?rr=y:rr.push.apply(rr,y))}v=A}if(y=!1,v!==2)continue}}if(v===1){_u(o,0),Fa(o,s,0,!0);break}e:{switch(d=o,y=v,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Fa(d,s,vr,!Va);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(v=Oh+300-Hn(),10<v)){if(Fa(d,s,vr,!Va),si(d,0,!0)!==0)break e;ea=s,d.timeoutHandle=s2(O_.bind(null,d,c,rr,Mh,tp,s,vr,Jo,mu,Va,y,"Throttled",-0,0),v);break e}O_(d,c,rr,Mh,tp,s,vr,Jo,mu,Va,y,null,-0,0)}}break}while(!0);Si(o)}function O_(o,s,c,d,v,y,A,I,F,Q,ie,se,Z,ee){if(o.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},w_(s,y,se);var me=(y&62914560)===y?Oh-Hn():(y&4194048)===y?C_-Hn():0;if(me=NI(se,me),me!==null){ea=y,o.cancelPendingCommit=me(F_.bind(null,o,s,y,c,d,v,A,I,F,ie,se,null,Z,ee)),Fa(o,y,A,!Q);return}}F_(o,s,y,c,d,v,A,I,F)}function YS(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],y=v.getSnapshot;v=v.value;try{if(!fr(y(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fa(o,s,c,d){s&=~ep,s&=~Jo,o.suspendedLanes|=s,o.pingedLanes&=~s,d&&(o.warmLanes|=s),d=o.expirationTimes;for(var v=s;0<v;){var y=31-Ut(v),A=1<<y;d[y]=-1,v&=~A}c!==0&&bo(o,c,s)}function Ph(){return(it&6)===0?(cc(0),!1):!0}function ap(){if(He!==null){if(ft===0)var o=He.return;else o=He,ji=Go=null,x0(o),lu=null,Xl=0,o=He;for(;o!==null;)u_(o.alternate,o),o=o.return;He=null}}function _u(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,pI(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),ea=0,ap(),Tt=o,He=c=zi(o.current,null),Ge=s,ft=0,gr=null,Va=!1,vu=zr(o,s),J0=!1,mu=vr=ep=Jo=La=kt=0,rr=uc=null,tp=!1,(s&8)!==0&&(s|=s&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=s;0<d;){var v=31-Ut(d),y=1<<v;s|=o[v],d&=~y}return Ji=s,th(),c}function N_(o,s){Ve=null,ne.H=ec,s===uu||s===lh?(s=Ym(),ft=3):s===l0?(s=Ym(),ft=4):ft=s===B0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gr=s,He===null&&(kt=1,wh(o,Cr(s,o.current)))}function M_(){var o=dr.current;return o===null?!0:(Ge&4194048)===Ge?Or===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?o===Or:!1}function P_(){var o=ne.H;return ne.H=ec,o===null?ec:o}function V_(){var o=ne.A;return ne.A=XS,o}function Vh(){kt=4,Va||(Ge&4194048)!==Ge&&dr.current!==null||(vu=!0),(La&134217727)===0&&(Jo&134217727)===0||Tt===null||Fa(Tt,Ge,vr,!1)}function op(o,s,c){var d=it;it|=2;var v=P_(),y=V_();(Tt!==o||Ge!==s)&&(Mh=null,_u(o,s)),s=!1;var A=kt;e:do try{if(ft!==0&&He!==null){var I=He,F=gr;switch(ft){case 8:ap(),A=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(s=!0);var Q=ft;if(ft=0,gr=null,Eu(o,I,F,Q),c&&vu){A=0;break e}break;default:Q=ft,ft=0,gr=null,Eu(o,I,F,Q)}}WS(),A=kt;break}catch(ie){N_(o,ie)}while(!0);return s&&o.shellSuspendCounter++,ji=Go=null,it=d,ne.H=v,ne.A=y,He===null&&(Tt=null,Ge=0,th()),A}function WS(){for(;He!==null;)L_(He)}function QS(o,s){var c=it;it|=2;var d=P_(),v=V_();Tt!==o||Ge!==s?(Mh=null,Nh=Hn()+500,_u(o,s)):vu=zr(o,s);e:do try{if(ft!==0&&He!==null){s=He;var y=gr;t:switch(ft){case 1:ft=0,gr=null,Eu(o,s,y,1);break;case 2:case 9:if(Xm(y)){ft=0,gr=null,B_(s);break}s=function(){ft!==2&&ft!==9||Tt!==o||(ft=7),Si(o)},y.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Xm(y)?(ft=0,gr=null,B_(s)):(ft=0,gr=null,Eu(o,s,y,7));break;case 5:var A=null;switch(He.tag){case 26:A=He.memoizedState;case 5:case 27:var I=He;if(A?A2(A):I.stateNode.complete){ft=0,gr=null;var F=I.sibling;if(F!==null)He=F;else{var Q=I.return;Q!==null?(He=Q,Lh(Q)):He=null}break t}}ft=0,gr=null,Eu(o,s,y,5);break;case 6:ft=0,gr=null,Eu(o,s,y,6);break;case 8:ap(),kt=6;break e;default:throw Error(n(462))}}ZS();break}catch(ie){N_(o,ie)}while(!0);return ji=Go=null,ne.H=d,ne.A=v,it=c,He!==null?0:(Tt=null,Ge=0,th(),kt)}function ZS(){for(;He!==null&&!L1();)L_(He)}function L_(o){var s=o_(o.alternate,o,Ji);o.memoizedProps=o.pendingProps,s===null?Lh(o):He=s}function B_(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=e_(c,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=e_(c,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:x0(s);default:u_(c,s),s=He=Vm(s,Ji),s=o_(c,s,Ji)}o.memoizedProps=o.pendingProps,s===null?Lh(o):He=s}function Eu(o,s,c,d){ji=Go=null,x0(s),lu=null,Xl=0;var v=s.return;try{if(FS(o,v,s,c,Ge)){kt=1,wh(o,Cr(c,o.current)),He=null;return}}catch(y){if(v!==null)throw He=v,y;kt=1,wh(o,Cr(c,o.current)),He=null;return}s.flags&32768?(Ye||d===1?o=!0:vu||(Ge&536870912)!==0?o=!1:(Va=o=!0,(d===2||d===9||d===3||d===6)&&(d=dr.current,d!==null&&d.tag===13&&(d.flags|=16384))),k_(s,o)):Lh(s)}function Lh(o){var s=o;do{if((s.flags&32768)!==0){k_(s,Va);return}o=s.return;var c=HS(s.alternate,s,Ji);if(c!==null){He=c;return}if(s=s.sibling,s!==null){He=s;return}He=s=o}while(s!==null);kt===0&&(kt=5)}function k_(o,s){do{var c=jS(o.alternate,o);if(c!==null){c.flags&=32767,He=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){He=o;return}He=o=c}while(o!==null);kt=6,He=null}function F_(o,s,c,d,v,y,A,I,F){o.cancelPendingCommit=null;do Bh();while(on!==0);if((it&6)!==0)throw Error(n(327));if(s!==null){if(s===o.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Y1,F1(o,c,y,A,I,F),o===Tt&&(He=Tt=null,Ge=0),yu=s,ka=o,ea=c,np=y,rp=v,b_=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tI(ga,function(){return G_(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=ne.T,ne.T=null,v=de.p,de.p=2,A=it,it|=4;try{GS(o,s,c)}finally{it=A,de.p=v,ne.T=d}}on=1,U_(),z_(),H_()}}function U_(){if(on===1){on=0;var o=ka,s=yu,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=ne.T,ne.T=null;var d=de.p;de.p=2;var v=it;it|=4;try{E_(s,o);var y=yp,A=Im(o.containerInfo),I=y.focusedElem,F=y.selectionRange;if(A!==I&&I&&I.ownerDocument&&Sm(I.ownerDocument.documentElement,I)){if(F!==null&&j1(I)){var Q=F.start,ie=F.end;if(ie===void 0&&(ie=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(ie,I.value.length);else{var se=I.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),me=I.textContent.length,Ce=Math.min(F.start,me),At=F.end===void 0?Ce:Math.min(F.end,me);!ee.extend&&Ce>At&&(A=At,At=Ce,Ce=A);var q=Tm(I,Ce),z=Tm(I,At);if(q&&z&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var W=se.createRange();W.setStart(q.node,q.offset),ee.removeAllRanges(),Ce>At?(ee.addRange(W),ee.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),ee.addRange(W))}}}}for(se=[],ee=I;ee=ee.parentNode;)ee.nodeType===1&&se.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<se.length;I++){var oe=se[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Wh=!!mp,yp=mp=null}finally{it=v,de.p=d,ne.T=c}}o.current=s,on=2}}function z_(){if(on===2){on=0;var o=ka,s=yu,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=ne.T,ne.T=null;var d=de.p;de.p=2;var v=it;it|=4;try{g_(o,s.alternate,s)}finally{it=v,de.p=d,ne.T=c}}on=3}}function H_(){if(on===4||on===3){on=0,Cf();var o=ka,s=yu,c=ea,d=b_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,yu=ka=null,j_(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Ba=null),Bi(c),s=s.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Ur,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=ne.T,v=de.p,de.p=2,ne.T=null;try{for(var y=o.onRecoverableError,A=0;A<d.length;A++){var I=d[A];y(I.value,{componentStack:I.stack})}}finally{ne.T=s,de.p=v}}(ea&3)!==0&&Bh(),Si(o),v=o.pendingLanes,(c&261930)!==0&&(v&42)!==0?o===ip?lc++:(lc=0,ip=o):lc=0,cc(0)}}function j_(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Gl(s)))}function Bh(){return U_(),z_(),H_(),G_()}function G_(){if(on!==5)return!1;var o=ka,s=np;np=0;var c=Bi(ea),d=ne.T,v=de.p;try{de.p=32>c?32:c,ne.T=null,c=rp,rp=null;var y=ka,A=ea;if(on=0,yu=ka=null,ea=0,(it&6)!==0)throw Error(n(331));var I=it;if(it|=4,S_(y.current),A_(y,y.current,A,c),it=I,cc(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Ur,y)}catch{}return!0}finally{de.p=v,ne.T=d,j_(o,s)}}function q_(o,s,c){s=Cr(c,s),s=L0(o.stateNode,s,2),o=Oa(o,s,2),o!==null&&(Co(o,2),Si(o))}function ht(o,s,c){if(o.tag===3)q_(o,o,c);else for(;s!==null;){if(s.tag===3){q_(s,o,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ba===null||!Ba.has(d))){o=Cr(c,o),c=Xy(2),d=Oa(s,c,2),d!==null&&(Ky(c,d,s,o),Co(d,2),Si(d));break}}s=s.return}}function sp(o,s,c){var d=o.pingCache;if(d===null){d=o.pingCache=new KS;var v=new Set;d.set(s,v)}else v=d.get(s),v===void 0&&(v=new Set,d.set(s,v));v.has(c)||(J0=!0,v.add(c),o=$S.bind(null,o,s,c),s.then(o,o))}function $S(o,s,c){var d=o.pingCache;d!==null&&d.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,Tt===o&&(Ge&c)===c&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>Hn()-Oh?(it&2)===0&&_u(o,0):ep|=c,mu===Ge&&(mu=0)),Si(o)}function X_(o,s){s===0&&(s=Mf()),o=zo(o,s),o!==null&&(Co(o,s),Si(o))}function JS(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),X_(o,c)}function eI(o,s){var c=0;switch(o.tag){case 31:case 13:var d=o.stateNode,v=o.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(s),X_(o,c)}function tI(o,s){return an(o,s)}var kh=null,xu=null,up=!1,Fh=!1,lp=!1,Ua=0;function Si(o){o!==xu&&o.next===null&&(xu===null?kh=xu=o:xu=xu.next=o),Fh=!0,up||(up=!0,rI())}function cc(o,s){if(!lp&&Fh){lp=!0;do for(var c=!1,d=kh;d!==null;){if(o!==0){var v=d.pendingLanes;if(v===0)var y=0;else{var A=d.suspendedLanes,I=d.pingedLanes;y=(1<<31-Ut(42|o)+1)-1,y&=v&~(A&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Q_(d,y))}else y=Ge,y=si(d,d===Tt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||zr(d,y)||(c=!0,Q_(d,y));d=d.next}while(c);lp=!1}}function nI(){K_()}function K_(){Fh=up=!1;var o=0;Ua!==0&&dI()&&(o=Ua);for(var s=Hn(),c=null,d=kh;d!==null;){var v=d.next,y=Y_(d,s);y===0?(d.next=null,c===null?kh=v:c.next=v,v===null&&(xu=c)):(c=d,(o!==0||(y&3)!==0)&&(Fh=!0)),d=v}on!==0&&on!==5||cc(o),Ua!==0&&(Ua=0)}function Y_(o,s){for(var c=o.suspendedLanes,d=o.pingedLanes,v=o.expirationTimes,y=o.pendingLanes&-62914561;0<y;){var A=31-Ut(y),I=1<<A,F=v[A];F===-1?((I&c)===0||(I&d)!==0)&&(v[A]=k1(I,s)):F<=s&&(o.expiredLanes|=I),y&=~I}if(s=Tt,c=Ge,c=si(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,c===0||o===s&&(ft===2||ft===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&pa(d),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||zr(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(d!==null&&pa(d),Bi(c)){case 2:case 8:c=El;break;case 32:c=ga;break;case 268435456:c=bf;break;default:c=ga}return d=W_.bind(null,o),c=an(c,d),o.callbackPriority=s,o.callbackNode=c,s}return d!==null&&d!==null&&pa(d),o.callbackPriority=2,o.callbackNode=null,2}function W_(o,s){if(on!==0&&on!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(Bh()&&o.callbackNode!==c)return null;var d=Ge;return d=si(o,o===Tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(D_(o,d,s),Y_(o,Hn()),o.callbackNode!=null&&o.callbackNode===c?W_.bind(null,o):null)}function Q_(o,s){if(Bh())return null;D_(o,s,!0)}function rI(){gI(function(){(it&6)!==0?an(_l,nI):K_()})}function cp(){if(Ua===0){var o=ou;o===0&&(o=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ua=o}return Ua}function Z_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:qs(""+o)}function $_(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function iI(o,s,c,d,v){if(s==="submit"&&c&&c.stateNode===v){var y=Z_((v[gn]||null).action),A=d.submitter;A&&(s=(s=A[gn]||null)?Z_(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var I=new yi("action","action",null,d,v);o.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ua!==0){var F=A?$_(v,A):new FormData(v);D0(c,{pending:!0,data:F,method:v.method,action:y},null,F)}}else typeof y=="function"&&(I.preventDefault(),F=A?$_(v,A):new FormData(v),D0(c,{pending:!0,data:F,method:v.method,action:y},y,F))},currentTarget:v}]})}}for(var fp=0;fp<K1.length;fp++){var hp=K1[fp],aI=hp.toLowerCase(),oI=hp[0].toUpperCase()+hp.slice(1);Wr(aI,"on"+oI)}Wr(Rm,"onAnimationEnd"),Wr(Dm,"onAnimationIteration"),Wr(Om,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(AS,"onTransitionRun"),Wr(wS,"onTransitionStart"),Wr(TS,"onTransitionCancel"),Wr(Nm,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function J_(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var d=o[c],v=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var A=d.length-1;0<=A;A--){var I=d[A],F=I.instance,Q=I.currentTarget;if(I=I.listener,F!==y&&v.isPropagationStopped())break e;y=I,v.currentTarget=Q;try{y(v)}catch(ie){eh(ie)}v.currentTarget=null,y=F}else for(A=0;A<d.length;A++){if(I=d[A],F=I.instance,Q=I.currentTarget,I=I.listener,F!==y&&v.isPropagationStopped())break e;y=I,v.currentTarget=Q;try{y(v)}catch(ie){eh(ie)}v.currentTarget=null,y=F}}}}function je(o,s){var c=s[Us];c===void 0&&(c=s[Us]=new Set);var d=o+"__bubble";c.has(d)||(e2(s,o,2,!1),c.add(d))}function dp(o,s,c){var d=0;s&&(d|=4),e2(c,o,d,s)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function pp(o){if(!o[Uh]){o[Uh]=!0,wl.forEach(function(c){c!=="selectionchange"&&(sI.has(c)||dp(c,!1,o),dp(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Uh]||(s[Uh]=!0,dp("selectionchange",!1,s))}}function e2(o,s,c,d){switch(R2(s)){case 2:var v=VI;break;case 8:v=LI;break;default:v=Rp}c=v.bind(null,s,c,o),v=void 0,!Mo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),d?v!==void 0?o.addEventListener(s,c,{capture:!0,passive:v}):o.addEventListener(s,c,!0):v!==void 0?o.addEventListener(s,c,{passive:v}):o.addEventListener(s,c,!1)}function gp(o,s,c,d,v){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var I=d.stateNode.containerInfo;if(I===v)break;if(A===4)for(A=d.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;I!==null;){if(A=fi(I),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){d=y=A;continue e}I=I.parentNode}}d=d.return}xa(function(){var Q=y,ie=wr(c),se=[];e:{var Z=Mm.get(o);if(Z!==void 0){var ee=yi,me=o;switch(o){case"keypress":if(Vo(c)===0)break e;case"keydown":case"keyup":ee=Zf;break;case"focusin":me="focus",ee=Bo;break;case"focusout":me="blur",ee=Bo;break;case"beforeblur":case"afterblur":ee=Bo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=x;break;case Rm:case Dm:case Om:ee=Gf;break;case Nm:ee=R;break;case"scroll":case"scrollend":ee=Vl;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ui;break;case"toggle":case"beforetoggle":ee=Pe}var Ce=(s&4)!==0,At=!Ce&&(o==="scroll"||o==="scrollend"),q=Ce?Z!==null?Z+"Capture":null:Z;Ce=[];for(var z=Q,W;z!==null;){var oe=z;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||q===null||(oe=qr(z,q),oe!=null&&Ce.push(hc(z,oe,W))),At)break;z=z.return}0<Ce.length&&(Z=new ee(Z,me,null,c,ie),se.push({event:Z,listeners:Ce}))}}if((s&7)===0){e:{if(Z=o==="mouseover"||o==="pointerover",ee=o==="mouseout"||o==="pointerout",Z&&c!==Nl&&(me=c.relatedTarget||c.fromElement)&&(fi(me)||me[li]))break e;if((ee||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(me=c.relatedTarget||c.toElement,ee=Q,me=me?fi(me):null,me!==null&&(At=a(me),Ce=me.tag,me!==At||Ce!==5&&Ce!==27&&Ce!==6)&&(me=null)):(ee=null,me=Q),ee!==me)){if(Ce=Ll,oe="onMouseLeave",q="onMouseEnter",z="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=Ui,oe="onPointerLeave",q="onPointerEnter",z="pointer"),At=ee==null?Z:lr(ee),W=me==null?Z:lr(me),Z=new Ce(oe,z+"leave",ee,c,ie),Z.target=At,Z.relatedTarget=W,oe=null,fi(ie)===Q&&(Ce=new Ce(q,z+"enter",me,c,ie),Ce.target=W,Ce.relatedTarget=At,oe=Ce),At=oe,ee&&me)t:{for(Ce=uI,q=ee,z=me,W=0,oe=q;oe;oe=Ce(oe))W++;oe=0;for(var we=z;we;we=Ce(we))oe++;for(;0<W-oe;)q=Ce(q),W--;for(;0<oe-W;)z=Ce(z),oe--;for(;W--;){if(q===z||z!==null&&q===z.alternate){Ce=q;break t}q=Ce(q),z=Ce(z)}Ce=null}else Ce=null;ee!==null&&t2(se,Z,ee,Ce,!1),me!==null&&At!==null&&t2(se,At,me,Ce,!0)}}e:{if(Z=Q?lr(Q):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var et=ym;else if(vm(Z))if(_m)et=_S;else{et=mS;var Ee=vS}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Gs(Q.elementType)&&(et=ym):et=yS;if(et&&(et=et(o,Q))){mm(se,et,c,ie);break e}Ee&&Ee(o,Z,Q),o==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Rl(Z,"number",Z.value)}switch(Ee=Q?lr(Q):window,o){case"focusin":(vm(Ee)||Ee.contentEditable==="true")&&($s=Ee,G1=Q,zl=null);break;case"focusout":zl=G1=$s=null;break;case"mousedown":q1=!0;break;case"contextmenu":case"mouseup":case"dragend":q1=!1,Cm(se,c,ie);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Cm(se,c,ie)}var Be;if(rt)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Zs?ko(o,c)&&(qe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(xi&&c.locale!=="ko"&&(Zs||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Zs&&(Be=Pl()):(mi=ie,Ml="value"in mi?mi.value:mi.textContent,Zs=!0)),Ee=zh(Q,qe),0<Ee.length&&(qe=new Ei(qe,o,null,c,ie),se.push({event:qe,listeners:Ee}),Be?qe.data=Be:(Be=Qs(c),Be!==null&&(qe.data=Be)))),(Be=Sr?hS(o,c):dS(o,c))&&(qe=zh(Q,"onBeforeInput"),0<qe.length&&(Ee=new Ei("onBeforeInput","beforeinput",null,c,ie),se.push({event:Ee,listeners:qe}),Ee.data=Be)),iI(se,o,Q,c,ie)}J_(se,s)})}function hc(o,s,c){return{instance:o,listener:s,currentTarget:c}}function zh(o,s){for(var c=s+"Capture",d=[];o!==null;){var v=o,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=qr(o,c),v!=null&&d.unshift(hc(o,v,y)),v=qr(o,s),v!=null&&d.push(hc(o,v,y))),o.tag===3)return d;o=o.return}return[]}function uI(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function t2(o,s,c,d,v){for(var y=s._reactName,A=[];c!==null&&c!==d;){var I=c,F=I.alternate,Q=I.stateNode;if(I=I.tag,F!==null&&F===d)break;I!==5&&I!==26&&I!==27||Q===null||(F=Q,v?(Q=qr(c,y),Q!=null&&A.unshift(hc(c,Q,F))):v||(Q=qr(c,y),Q!=null&&A.push(hc(c,Q,F)))),c=c.return}A.length!==0&&o.push({event:s,listeners:A})}var lI=/\r\n?/g,cI=/\u0000|\uFFFD/g;function n2(o){return(typeof o=="string"?o:""+o).replace(lI,`
`).replace(cI,"")}function r2(o,s){return s=n2(s),n2(o)===s}function xt(o,s,c,d,v,y){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Jn(o,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Jn(o,""+d);break;case"className":cr(o,"class",d);break;case"tabIndex":cr(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(o,c,d);break;case"style":Ol(o,d,y);break;case"data":if(s!=="object"){cr(o,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(c);break}d=qs(""+d),o.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&xt(o,s,"name",v.name,v,null),xt(o,s,"formEncType",v.formEncType,v,null),xt(o,s,"formMethod",v.formMethod,v,null),xt(o,s,"formTarget",v.formTarget,v,null)):(xt(o,s,"encType",v.encType,v,null),xt(o,s,"method",v.method,v,null),xt(o,s,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(c);break}d=qs(""+d),o.setAttribute(c,d);break;case"onClick":d!=null&&(o.onclick=Gr);break;case"onScroll":d!=null&&je("scroll",o);break;case"onScrollEnd":d!=null&&je("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=c}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}c=qs(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,""+d):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":d===!0?o.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,d):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(c,d):o.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(c):o.setAttribute(c,d);break;case"popover":je("beforetoggle",o),je("toggle",o),Hs(o,"popover",d);break;case"xlinkActuate":Yt(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Yt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Yt(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Yt(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Yt(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Yt(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hs(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zf.get(c)||c,Hs(o,c,d))}}function vp(o,s,c,d,v,y){switch(c){case"style":Ol(o,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=c}}break;case"children":typeof d=="string"?Jn(o,d):(typeof d=="number"||typeof d=="bigint")&&Jn(o,""+d);break;case"onScroll":d!=null&&je("scroll",o);break;case"onScrollEnd":d!=null&&je("scrollend",o);break;case"onClick":d!=null&&(o.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),y=o[gn]||null,y=y!=null?y[c]:null,typeof y=="function"&&o.removeEventListener(s,y,v),typeof d=="function")){typeof y!="function"&&y!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,d,v);break e}c in o?o[c]=d:d===!0?o.setAttribute(c,""):Hs(o,c,d)}}}function bn(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",o),je("load",o);var d=!1,v=!1,y;for(y in c)if(c.hasOwnProperty(y)){var A=c[y];if(A!=null)switch(y){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:xt(o,s,y,A,c,null)}}v&&xt(o,s,"srcSet",c.srcSet,c,null),d&&xt(o,s,"src",c.src,c,null);return;case"input":je("invalid",o);var I=y=A=v=null,F=null,Q=null;for(d in c)if(c.hasOwnProperty(d)){var ie=c[d];if(ie!=null)switch(d){case"name":v=ie;break;case"type":A=ie;break;case"checked":F=ie;break;case"defaultChecked":Q=ie;break;case"value":y=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,s));break;default:xt(o,s,d,ie,c,null)}}kf(o,y,I,F,Q,A,v,!1);return;case"select":je("invalid",o),d=A=y=null;for(v in c)if(c.hasOwnProperty(v)&&(I=c[v],I!=null))switch(v){case"value":y=I;break;case"defaultValue":A=I;break;case"multiple":d=I;default:xt(o,s,v,I,c,null)}s=y,c=A,o.multiple=!!d,s!=null?ma(o,!!d,s,!1):c!=null&&ma(o,!!d,c,!0);return;case"textarea":je("invalid",o),y=v=d=null;for(A in c)if(c.hasOwnProperty(A)&&(I=c[A],I!=null))switch(A){case"value":d=I;break;case"defaultValue":v=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:xt(o,s,A,I,c,null)}ya(o,d,v,y);return;case"option":for(F in c)c.hasOwnProperty(F)&&(d=c[F],d!=null)&&(F==="selected"?o.selected=d&&typeof d!="function"&&typeof d!="symbol":xt(o,s,F,d,c,null));return;case"dialog":je("beforetoggle",o),je("toggle",o),je("cancel",o),je("close",o);break;case"iframe":case"object":je("load",o);break;case"video":case"audio":for(d=0;d<fc.length;d++)je(fc[d],o);break;case"image":je("error",o),je("load",o);break;case"details":je("toggle",o);break;case"embed":case"source":case"link":je("error",o),je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(d=c[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:xt(o,s,Q,d,c,null)}return;default:if(Gs(s)){for(ie in c)c.hasOwnProperty(ie)&&(d=c[ie],d!==void 0&&vp(o,s,ie,d,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(d=c[I],d!=null&&xt(o,s,I,d,c,null))}function fI(o,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,A=null,I=null,F=null,Q=null,ie=null;for(ee in c){var se=c[ee];if(c.hasOwnProperty(ee)&&se!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":F=se;default:d.hasOwnProperty(ee)||xt(o,s,ee,null,d,se)}}for(var Z in d){var ee=d[Z];if(se=c[Z],d.hasOwnProperty(Z)&&(ee!=null||se!=null))switch(Z){case"type":y=ee;break;case"name":v=ee;break;case"checked":Q=ee;break;case"defaultChecked":ie=ee;break;case"value":A=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,s));break;default:ee!==se&&xt(o,s,Z,ee,d,se)}}js(o,A,I,F,Q,ie,y,v);return;case"select":ee=A=I=Z=null;for(y in c)if(F=c[y],c.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ee=F;default:d.hasOwnProperty(y)||xt(o,s,y,null,d,F)}for(v in d)if(y=d[v],F=c[v],d.hasOwnProperty(v)&&(y!=null||F!=null))switch(v){case"value":Z=y;break;case"defaultValue":I=y;break;case"multiple":A=y;default:y!==F&&xt(o,s,v,y,d,F)}s=I,c=A,d=ee,Z!=null?ma(o,!!c,Z,!1):!!d!=!!c&&(s!=null?ma(o,!!c,s,!0):ma(o,!!c,c?[]:"",!1));return;case"textarea":ee=Z=null;for(I in c)if(v=c[I],c.hasOwnProperty(I)&&v!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:xt(o,s,I,null,d,v)}for(A in d)if(v=d[A],y=c[A],d.hasOwnProperty(A)&&(v!=null||y!=null))switch(A){case"value":Z=v;break;case"defaultValue":ee=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==y&&xt(o,s,A,v,d,y)}Ff(o,Z,ee);return;case"option":for(var me in c)Z=c[me],c.hasOwnProperty(me)&&Z!=null&&!d.hasOwnProperty(me)&&(me==="selected"?o.selected=!1:xt(o,s,me,null,d,Z));for(F in d)Z=d[F],ee=c[F],d.hasOwnProperty(F)&&Z!==ee&&(Z!=null||ee!=null)&&(F==="selected"?o.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":xt(o,s,F,Z,d,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in c)Z=c[Ce],c.hasOwnProperty(Ce)&&Z!=null&&!d.hasOwnProperty(Ce)&&xt(o,s,Ce,null,d,Z);for(Q in d)if(Z=d[Q],ee=c[Q],d.hasOwnProperty(Q)&&Z!==ee&&(Z!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:xt(o,s,Q,Z,d,ee)}return;default:if(Gs(s)){for(var At in c)Z=c[At],c.hasOwnProperty(At)&&Z!==void 0&&!d.hasOwnProperty(At)&&vp(o,s,At,void 0,d,Z);for(ie in d)Z=d[ie],ee=c[ie],!d.hasOwnProperty(ie)||Z===ee||Z===void 0&&ee===void 0||vp(o,s,ie,Z,d,ee);return}}for(var q in c)Z=c[q],c.hasOwnProperty(q)&&Z!=null&&!d.hasOwnProperty(q)&&xt(o,s,q,null,d,Z);for(se in d)Z=d[se],ee=c[se],!d.hasOwnProperty(se)||Z===ee||Z==null&&ee==null||xt(o,s,se,Z,d,ee)}function i2(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hI(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var v=c[d],y=v.transferSize,A=v.initiatorType,I=v.duration;if(y&&I&&i2(A)){for(A=0,I=v.responseEnd,d+=1;d<c.length;d++){var F=c[d],Q=F.startTime;if(Q>I)break;var ie=F.transferSize,se=F.initiatorType;ie&&i2(se)&&(F=F.responseEnd,A+=ie*(F<I?1:(I-Q)/(F-Q)))}if(--d,s+=8*(y+A)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var mp=null,yp=null;function Hh(o){return o.nodeType===9?o:o.ownerDocument}function a2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o2(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function _p(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function dI(){var o=window.event;return o&&o.type==="popstate"?o===Ep?!1:(Ep=o,!0):(Ep=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(o){return u2.resolve(null).then(o).catch(vI)}:s2;function vI(o){setTimeout(function(){throw o})}function za(o){return o==="head"}function l2(o,s){var c=s,d=0;do{var v=c.nextSibling;if(o.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(d===0){o.removeChild(v),Su(s);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")dc(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,dc(c);for(var y=c.firstChild;y;){var A=y.nextSibling,I=y.nodeName;y[ci]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=A}}else c==="body"&&dc(o.ownerDocument.body);c=v}while(c);Su(s)}function c2(o,s){var c=o;o=0;do{var d=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=d}while(c)}function xp(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xp(c),zs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function mI(o,s,c,d){for(;o.nodeType===1;){var v=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[ci])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(y=o.getAttribute("rel"),y==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(y!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(y=o.getAttribute("src"),(y!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===y)return o}else return o;if(o=Nr(o.nextSibling),o===null)break}return null}function yI(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Nr(o.nextSibling),o===null))return null;return o}function f2(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=Nr(o.nextSibling),o===null))return null;return o}function Ap(o){return o.data==="$?"||o.data==="$~"}function wp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function _I(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function Nr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Tp=null;function h2(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return Nr(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function d2(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function p2(o,s,c){switch(s=Hh(c),o){case"html":if(o=s.documentElement,!o)throw Error(n(452));return o;case"head":if(o=s.head,!o)throw Error(n(453));return o;case"body":if(o=s.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function dc(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);zs(o)}var Mr=new Map,g2=new Set;function jh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ta=de.d;de.d={f:EI,r:xI,D:AI,C:wI,L:TI,m:SI,X:CI,S:II,M:bI};function EI(){var o=ta.f(),s=Ph();return o||s}function xI(o){var s=Ar(o);s!==null&&s.tag===5&&s.type==="form"?Ny(s):ta.r(o)}var Au=typeof document>"u"?null:document;function v2(o,s,c){var d=Au;if(d&&typeof s=="string"&&s){var v=$n(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),g2.has(v)||(g2.add(v),o={rel:o,crossOrigin:c,href:s},d.querySelector(v)===null&&(s=d.createElement("link"),bn(s,"link",o),Kt(s),d.head.appendChild(s)))}}function AI(o){ta.D(o),v2("dns-prefetch",o,null)}function wI(o,s){ta.C(o,s),v2("preconnect",o,s)}function TI(o,s,c){ta.L(o,s,c);var d=Au;if(d&&o&&s){var v='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+$n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+$n(c.imageSizes)+'"]')):v+='[href="'+$n(o)+'"]';var y=v;switch(s){case"style":y=wu(o);break;case"script":y=Tu(o)}Mr.has(y)||(o=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),Mr.set(y,o),d.querySelector(v)!==null||s==="style"&&d.querySelector(pc(y))||s==="script"&&d.querySelector(gc(y))||(s=d.createElement("link"),bn(s,"link",o),Kt(s),d.head.appendChild(s)))}}function SI(o,s){ta.m(o,s);var c=Au;if(c&&o){var d=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+$n(d)+'"][href="'+$n(o)+'"]',y=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tu(o)}if(!Mr.has(y)&&(o=m({rel:"modulepreload",href:o},s),Mr.set(y,o),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gc(y)))return}d=c.createElement("link"),bn(d,"link",o),Kt(d),c.head.appendChild(d)}}}function II(o,s,c){ta.S(o,s,c);var d=Au;if(d&&o){var v=hi(d).hoistableStyles,y=wu(o);s=s||"default";var A=v.get(y);if(!A){var I={loading:0,preload:null};if(A=d.querySelector(pc(y)))I.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},c),(c=Mr.get(y))&&Sp(o,c);var F=A=d.createElement("link");Kt(F),bn(F,"link",o),F._p=new Promise(function(Q,ie){F.onload=Q,F.onerror=ie}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Gh(A,s,d)}A={type:"stylesheet",instance:A,count:1,state:I},v.set(y,A)}}}function CI(o,s){ta.X(o,s);var c=Au;if(c&&o){var d=hi(c).hoistableScripts,v=Tu(o),y=d.get(v);y||(y=c.querySelector(gc(v)),y||(o=m({src:o,async:!0},s),(s=Mr.get(v))&&Ip(o,s),y=c.createElement("script"),Kt(y),bn(y,"link",o),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function bI(o,s){ta.M(o,s);var c=Au;if(c&&o){var d=hi(c).hoistableScripts,v=Tu(o),y=d.get(v);y||(y=c.querySelector(gc(v)),y||(o=m({src:o,async:!0,type:"module"},s),(s=Mr.get(v))&&Ip(o,s),y=c.createElement("script"),Kt(y),bn(y,"link",o),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function m2(o,s,c,d){var v=(v=Le.current)?jh(v):null;if(!v)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=wu(c.href),c=hi(v).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=wu(c.href);var y=hi(v).hoistableStyles,A=y.get(o);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(o,A),(y=v.querySelector(pc(o)))&&!y._p&&(A.instance=y,A.state.loading=5),Mr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Mr.set(o,c),y||RI(v,o,c,A.state))),s&&d===null)throw Error(n(528,""));return A}if(s&&d!==null)throw Error(n(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tu(c),c=hi(v).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function wu(o){return'href="'+$n(o)+'"'}function pc(o){return'link[rel="stylesheet"]['+o+"]"}function y2(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function RI(o,s,c,d){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=o.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),bn(s,"link",c),Kt(s),o.head.appendChild(s))}function Tu(o){return'[src="'+$n(o)+'"]'}function gc(o){return"script[async]"+o}function _2(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=o.querySelector('style[data-href~="'+$n(c.href)+'"]');if(d)return s.instance=d,Kt(d),d;var v=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),Kt(d),bn(d,"style",v),Gh(d,c.precedence,o),s.instance=d;case"stylesheet":v=wu(c.href);var y=o.querySelector(pc(v));if(y)return s.state.loading|=4,s.instance=y,Kt(y),y;d=y2(c),(v=Mr.get(v))&&Sp(d,v),y=(o.ownerDocument||o).createElement("link"),Kt(y);var A=y;return A._p=new Promise(function(I,F){A.onload=I,A.onerror=F}),bn(y,"link",d),s.state.loading|=4,Gh(y,c.precedence,o),s.instance=y;case"script":return y=Tu(c.src),(v=o.querySelector(gc(y)))?(s.instance=v,Kt(v),v):(d=c,(v=Mr.get(y))&&(d=m({},c),Ip(d,v)),o=o.ownerDocument||o,v=o.createElement("script"),Kt(v),bn(v,"link",d),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Gh(d,c.precedence,o));return s.instance}function Gh(o,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,y=v,A=0;A<d.length;A++){var I=d[A];if(I.dataset.precedence===s)y=I;else if(y!==v)break}y?y.parentNode.insertBefore(o,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function Sp(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Ip(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var qh=null;function E2(o,s,c){if(qh===null){var d=new Map,v=qh=new Map;v.set(c,d)}else v=qh,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(o))return d;for(d.set(o,null),c=c.getElementsByTagName(o),v=0;v<c.length;v++){var y=c[v];if(!(y[ci]||y[Xt]||o==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=o+A;var I=d.get(A);I?I.push(y):d.set(A,[y])}}return d}function x2(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function DI(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(o=s.disabled,typeof s.precedence=="string"&&o==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function A2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function OI(o,s,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=wu(d.href),y=s.querySelector(pc(v));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Xh.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=y,Kt(y);return}y=s.ownerDocument||s,d=y2(d),(v=Mr.get(v))&&Sp(d,v),y=y.createElement("link"),Kt(y);var A=y;A._p=new Promise(function(I,F){A.onload=I,A.onerror=F}),bn(y,"link",d),c.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=Xh.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var Cp=0;function NI(o,s){return o.stylesheets&&o.count===0&&Yh(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var d=setTimeout(function(){if(o.stylesheets&&Yh(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4+s);0<o.imgBytes&&Cp===0&&(Cp=62500*hI());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Yh(o,o.stylesheets),o.unsuspend)){var y=o.unsuspend;o.unsuspend=null,y()}},(o.imgBytes>Cp?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Kh=null;function Yh(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Kh=new Map,s.forEach(MI,o),Kh=null,Xh.call(o))}function MI(o,s){if(!(s.state.loading&4)){var c=Kh.get(o);if(c)var d=c.get(null);else{c=new Map,Kh.set(o,c);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var A=v[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}v=s.instance,A=v.getAttribute("data-precedence"),y=c.get(A)||d,y===d&&c.set(null,v),c.set(A,v),this.count++,d=Xh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),y?y.parentNode.insertBefore(v,y.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var vc={$$typeof:B,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function PI(o,s,c,d,v,y,A,I,F){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function w2(o,s,c,d,v,y,A,I,F,Q,ie,se){return o=new PI(o,s,c,A,F,Q,ie,se,I),s=1,y===!0&&(s|=24),y=hr(3,null,null,s),o.current=y,y.stateNode=o,s=o0(),s.refCount++,o.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:s},c0(y),o}function T2(o){return o?(o=tu,o):tu}function S2(o,s,c,d,v,y){v=T2(v),d.context===null?d.context=v:d.pendingContext=v,d=Da(s),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Oa(o,d,s),c!==null&&(ir(c,o,s),Yl(c,o,s))}function I2(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function bp(o,s){I2(o,s),(o=o.alternate)&&I2(o,s)}function C2(o){if(o.tag===13||o.tag===31){var s=zo(o,67108864);s!==null&&ir(s,o,67108864),bp(o,67108864)}}function b2(o){if(o.tag===13||o.tag===31){var s=mr();s=Ro(s);var c=zo(o,s);c!==null&&ir(c,o,s),bp(o,s)}}var Wh=!0;function VI(o,s,c,d){var v=ne.T;ne.T=null;var y=de.p;try{de.p=2,Rp(o,s,c,d)}finally{de.p=y,ne.T=v}}function LI(o,s,c,d){var v=ne.T;ne.T=null;var y=de.p;try{de.p=8,Rp(o,s,c,d)}finally{de.p=y,ne.T=v}}function Rp(o,s,c,d){if(Wh){var v=Dp(d);if(v===null)gp(o,s,d,Qh,c),D2(o,d);else if(kI(v,o,s,c,d))d.stopPropagation();else if(D2(o,d),s&4&&-1<BI.indexOf(o)){for(;v!==null;){var y=Ar(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=oi(y.pendingLanes);if(A!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var F=1<<31-Ut(A);I.entanglements[1]|=F,A&=~F}Si(y),(it&6)===0&&(Nh=Hn()+500,cc(0))}}break;case 31:case 13:I=zo(y,2),I!==null&&ir(I,y,2),Ph(),bp(y,2)}if(y=Dp(d),y===null&&gp(o,s,d,Qh,c),y===v)break;v=y}v!==null&&d.stopPropagation()}else gp(o,s,d,null,c)}}function Dp(o){return o=wr(o),Op(o)}var Qh=null;function Op(o){if(Qh=null,o=fi(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=u(s),o!==null)return o;o=null}else if(c===31){if(o=l(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Qh=o,null}function R2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(So()){case _l:return 2;case El:return 8;case ga:case B1:return 32;case bf:return 268435456;default:return 32}default:return 32}}var Np=!1,Ha=null,ja=null,Ga=null,mc=new Map,yc=new Map,qa=[],BI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D2(o,s){switch(o){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":mc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function _c(o,s,c,d,v,y){return o===null||o.nativeEvent!==y?(o={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[v]},s!==null&&(s=Ar(s),s!==null&&C2(s)),o):(o.eventSystemFlags|=d,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function kI(o,s,c,d,v){switch(s){case"focusin":return Ha=_c(Ha,o,s,c,d,v),!0;case"dragenter":return ja=_c(ja,o,s,c,d,v),!0;case"mouseover":return Ga=_c(Ga,o,s,c,d,v),!0;case"pointerover":var y=v.pointerId;return mc.set(y,_c(mc.get(y)||null,o,s,c,d,v)),!0;case"gotpointercapture":return y=v.pointerId,yc.set(y,_c(yc.get(y)||null,o,s,c,d,v)),!0}return!1}function O2(o){var s=fi(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){o.blockedOn=s,Hr(o.priority,function(){b2(c)});return}}else if(s===31){if(s=l(c),s!==null){o.blockedOn=s,Hr(o.priority,function(){b2(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zh(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Dp(o.nativeEvent);if(c===null){c=o.nativeEvent;var d=new c.constructor(c.type,c);Nl=d,c.target.dispatchEvent(d),Nl=null}else return s=Ar(c),s!==null&&C2(s),o.blockedOn=c,!1;s.shift()}return!0}function N2(o,s,c){Zh(o)&&c.delete(s)}function FI(){Np=!1,Ha!==null&&Zh(Ha)&&(Ha=null),ja!==null&&Zh(ja)&&(ja=null),Ga!==null&&Zh(Ga)&&(Ga=null),mc.forEach(N2),yc.forEach(N2)}function $h(o,s){o.blockedOn===s&&(o.blockedOn=null,Np||(Np=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FI)))}var Jh=null;function M2(o){Jh!==o&&(Jh=o,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jh===o&&(Jh=null);for(var s=0;s<o.length;s+=3){var c=o[s],d=o[s+1],v=o[s+2];if(typeof d!="function"){if(Op(d||c)===null)continue;break}var y=Ar(c);y!==null&&(o.splice(s,3),s-=3,D0(y,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function Su(o){function s(F){return $h(F,o)}Ha!==null&&$h(Ha,o),ja!==null&&$h(ja,o),Ga!==null&&$h(Ga,o),mc.forEach(s),yc.forEach(s);for(var c=0;c<qa.length;c++){var d=qa[c];d.blockedOn===o&&(d.blockedOn=null)}for(;0<qa.length&&(c=qa[0],c.blockedOn===null);)O2(c),c.blockedOn===null&&qa.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],y=c[d+1],A=v[gn]||null;if(typeof y=="function")A||M2(c);else if(A){var I=null;if(y&&y.hasAttribute("formAction")){if(v=y,A=y[gn]||null)I=A.formAction;else if(Op(v)!==null)continue}else I=A.action;typeof I=="function"?c[d+1]=I:(c.splice(d,3),d-=3),M2(c)}}}function P2(){function o(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Mp(o){this._internalRoot=o}ed.prototype.render=Mp.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));var c=s.current,d=mr();S2(c,d,o,s,null,null)},ed.prototype.unmount=Mp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;S2(o.current,2,null,o,null,null),Ph(),s[li]=null}};function ed(o){this._internalRoot=o}ed.prototype.unstable_scheduleHydration=function(o){if(o){var s=Pf();o={blockedOn:null,target:o,priority:s};for(var c=0;c<qa.length&&s!==0&&s<qa[c].priority;c++);qa.splice(c,0,o),c===0&&O2(o)}};var V2=e.version;if(V2!=="19.2.3")throw Error(n(527,V2,"19.2.3"));de.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(s),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var UI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Ur=td.inject(UI),wn=td}catch{}}return xc.createRoot=function(o,s){if(!i(o))throw Error(n(299));var c=!1,d="",v=Hy,y=jy,A=Gy;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=w2(o,1,!1,null,null,c,d,null,v,y,A,P2),o[li]=s.current,pp(o),new Mp(s)},xc.hydrateRoot=function(o,s,c){if(!i(o))throw Error(n(299));var d=!1,v="",y=Hy,A=jy,I=Gy,F=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),s=w2(o,1,!0,s,c??null,d,v,F,y,A,I,P2),s.context=T2(null),c=s.current,d=mr(),d=Ro(d),v=Da(d),v.callback=null,Oa(c,v,d),c=d,s.current.lanes=c,Co(s,c),Si(s),o[li]=s.current,pp(o),new ed(s)},xc.version="19.2.3",xc}var q2;function QI(){if(q2)return Lp.exports;q2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lp.exports=WI(),Lp.exports}var ZI=QI();const $I=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),X2=r=>{const e=JI(r);return e.charAt(0).toUpperCase()+e.slice(1)},VA=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),eC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nC=be.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:u,...l},f)=>be.createElement("svg",{ref:f,...tC,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:VA("lucide",i),...!a&&!eC(l)&&{"aria-hidden":"true"},...l},[...u.map(([h,p])=>be.createElement(h,p)),...Array.isArray(a)?a:[a]]));const Zn=(r,e)=>{const t=be.forwardRef(({className:n,...i},a)=>be.createElement(nC,{ref:a,iconNode:e,className:VA(`lucide-${$I(X2(r))}`,`lucide-${r}`,n),...i}));return t.displayName=X2(r),t};const rC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],iC=Zn("box",rC);const aC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oC=Zn("circle-alert",aC);const sC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uC=Zn("circle",sC);const lC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cC=Zn("download",lC);const fC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hC=Zn("loader-circle",fC);const dC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pC=Zn("log-out",dC);const gC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vC=Zn("moon",gC);const mC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],K2=Zn("package",mC);const yC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LA=Zn("plus",yC);const _C=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],EC=Zn("scan-barcode",_C);const xC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y2=Zn("settings",xC);const AC=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W2=Zn("square-check-big",AC);const wC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TC=Zn("sun",wC);const SC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Zn("trash-2",SC);const IC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CC=Zn("x",IC),bC=({children:r,currentView:e="inventory",onNavigate:t})=>te.jsxs("div",{className:"layout-container",style:{display:"flex",minHeight:"100vh"},children:[te.jsxs("aside",{className:"glass-panel sidebar desktop-only",style:{width:"280px",margin:"20px",height:"calc(100vh - 40px)",position:"sticky",top:"20px",display:"flex",flexDirection:"column",padding:"24px"},children:[te.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"12px"},children:[te.jsx("div",{style:{width:"40px",height:"40px",background:"hsl(var(--color-primary))",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:te.jsx(iC,{size:24,strokeWidth:2.5})}),te.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:"800"},children:"Bit Khzin"})]}),te.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"8px",flex:1},children:[te.jsx(es,{icon:te.jsx(K2,{size:20}),label:"Inventory",active:e==="inventory",onClick:()=>t?.("inventory")}),te.jsx(es,{icon:te.jsx(W2,{size:20}),label:"To-Do",active:e==="todo",onClick:()=>t?.("todo")}),te.jsx(es,{icon:te.jsx(Y2,{size:20}),label:"Settings",active:e==="settings",onClick:()=>t?.("settings")})]}),te.jsx("div",{style:{paddingTop:"20px",borderTop:"1px solid var(--glass-border)"},children:te.jsx(es,{icon:te.jsx(pC,{size:20}),label:"Sign Out"})})]}),te.jsx("main",{style:{flex:1,padding:"20px",maxWidth:"100%",paddingBottom:"90px"},children:r}),te.jsxs("nav",{className:"mobile-nav glass-panel mobile-only",style:{position:"fixed",bottom:"0",left:"0",right:"0",padding:"12px 20px",display:"flex",justifyContent:"space-around",zIndex:50,background:"var(--glass-bg)",backdropFilter:"blur(20px)",borderTop:"1px solid var(--glass-border)",borderRadius:"20px 20px 0 0",boxShadow:"0 -4px 20px rgba(0,0,0,0.1)"},children:[te.jsx(es,{icon:te.jsx(K2,{size:24}),label:"Inventory",active:e==="inventory",onClick:()=>t?.("inventory"),vertical:!0}),te.jsx(es,{icon:te.jsx(W2,{size:24}),label:"To-Do",active:e==="todo",onClick:()=>t?.("todo"),vertical:!0}),te.jsx(es,{icon:te.jsx(Y2,{size:24}),label:"Settings",active:e==="settings",onClick:()=>t?.("settings"),vertical:!0})]}),te.jsx("style",{children:`
        @media (max-width: 768px) {
          .desktop-only { display: none !important; }
        }
        @media (min-width: 769px) {
          .mobile-only { display: none !important; }
        }
      `})]}),es=({icon:r,label:e,active:t=!1,onClick:n,vertical:i=!1})=>te.jsxs("button",{onClick:n,style:{display:"flex",flexDirection:i?"column":"row",alignItems:"center",gap:i?"4px":"12px",padding:"12px 16px",width:i?"auto":"100%",borderRadius:"var(--radius-sm)",border:"none",background:!i&&t?"rgba(59, 130, 246, 0.1)":"transparent",color:t?"hsl(var(--color-primary))":"inherit",cursor:"pointer",fontWeight:600,transition:"all 0.2s",textAlign:i?"center":"left",fontSize:i?"0.75rem":"1rem",opacity:!t&&i?.6:1},children:[r,e&&te.jsx("span",{children:e})]}),iv=({children:r,className:e="",hoverEffect:t=!1,style:n,...i})=>te.jsx("div",{className:`glass-panel ${e}`,style:{padding:"24px",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:t?"pointer":"default",...t?{":hover":{transform:"translateY(-4px)"}}:{},...n},...i,children:r}),ps=({children:r,variant:e="primary",size:t="md",isLoading:n,className:i="",disabled:a,...u})=>{const l=()=>{switch(e){case"primary":return"btn-primary";case"secondary":return"btn-secondary";case"danger":return"btn-primary";case"ghost":return"btn-ghost";default:return"btn-primary"}},f=()=>{switch(t){case"sm":return{padding:"8px 16px",fontSize:"0.875rem"};case"lg":return{padding:"16px 32px",fontSize:"1.25rem"};default:return{}}},h=l();return te.jsxs("button",{className:`${h} ${i}`,disabled:n||a,style:{...f(),opacity:n||a?.7:1,cursor:n||a?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},...u,children:[n&&te.jsx("svg",{className:"animate-spin",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"30 60"})}),r]})},RC=({items:r,onAddItem:e,onDeleteItem:t})=>te.jsxs("div",{className:"animate-fade-in",children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[te.jsx("h2",{className:"text-title",style:{margin:0},children:"My Items"}),te.jsx("div",{style:{display:"flex",gap:"12px"},children:te.jsxs(ps,{onClick:e,children:[te.jsx(LA,{size:18})," ",te.jsx("span",{className:"desktop-only",children:"Add Item"})]})})]}),r.length===0?te.jsx("div",{style:{textAlign:"center",padding:"48px",opacity:.6},children:te.jsx("p",{children:"No items found. Add your first item!"})}):te.jsx("div",{className:"inventory-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"16px"},children:r.map((n,i)=>te.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${i*50}ms`},children:te.jsxs(iv,{hoverEffect:!0,className:"inventory-card",style:{height:"100%",display:"flex",flexDirection:"column"},children:[te.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:te.jsx("span",{style:{fontSize:"2rem"},children:DC(n.category)})}),te.jsxs("div",{style:{flex:1,marginBottom:"12px"},children:[te.jsx("h3",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"4px"},children:n.name}),te.jsx("p",{className:"text-muted",style:{fontSize:"0.85rem"},children:n.location})]}),te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginTop:"auto"},children:[te.jsx("span",{style:{fontWeight:"600",color:"hsl(var(--color-primary))"},children:n.value?`$${n.value}`:"-"}),te.jsx("button",{onClick:a=>{a.stopPropagation(),t(n.id)},className:"icon-button danger",style:{padding:"6px"},children:te.jsx(BA,{size:16})})]})]})},n.id))})]}),DC=r=>{switch(r){case"Electronics":return"";case"Furniture":return"";case"Clothing":return"";case"Kitchen":return"";case"Tools":return"";default:return""}},Q2=["Electronics","Furniture","Clothing","Kitchen","Tools","Other"],Z2=["Living Room","Bedroom","Kitchen","Garage","Office","Storage"];function OC(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function NC(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var MC=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),PC=(function(r){MC(e,r);function e(t,n){var i=this.constructor,a=r.call(this,t,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),OC(a,i.prototype),NC(a),a}return e})(Error),VC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ur=(function(r){VC(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e})(PC),LC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Jr=(function(r){LC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ur),BC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ie=(function(r){BC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ur),kC=(function(){function r(e){if(this.binarizer=e,e===null)throw new Ie("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),FC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),xn=(function(r){FC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ur),UC=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),St=(function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r})(),zC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),av=(function(r){zC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ur),HC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),$2=(function(r){HC(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(av),jC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fn=(function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new Ie("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new $2(t);if(n>e)throw new $2(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=jC(e),u=a.next();!u.done;u=a.next()){var l=u.value;i=31*i+l}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return St.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var u=a+i>>1,l=n(t,e[u]);if(l>0)i=u+1;else if(l<0)a=u-1;else return u}return-i-1},r.numberComparator=function(e,t){return e-t},r})(),Ue=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),An=(function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);St.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var u=n.length;a===0;){if(++i===u)return t;a=n[i]}var l=i*32+Ue.numberOfTrailingZeros(a);return l>t?t:l},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var u=n.length;a===0;){if(++i===u)return t;a=~n[i]}var l=i*32+Ue.numberOfTrailingZeros(a);return l>t?t:l},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Ie;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,u=n;u<=i;u++){var l=u>n?0:e&31,f=u<i?31:t&31,h=(2<<f)-(1<<l);a[u]|=h}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new Ie;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),u=this.bits,l=i;l<=a;l++){var f=l>i?0:e&31,h=l<a?31:t&31,p=(2<<h)-(1<<f)&4294967295;if((u[l]&p)!==(n?p:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Ie("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Ie("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var u=0,l=0;l<8;l++)this.get(e)&&(u|=1<<7-l),e++;t[n+a]=u}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var u=i[a];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[t-a]=u}if(this.size!==n*32){for(var l=n*32-this.size,f=e[0]>>>l,a=1;a<n;a++){var h=e[a];f|=h<<32-l,e[a-1]=f,f=h>>>l}e[n-1]=f}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&fn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+fn.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r})(),lg;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(lg||(lg={}));const Lt=lg;var GC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fe=(function(r){GC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ur),qC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(dt||(dt={}));var cn=(function(){function r(e,t,n){for(var i,a,u=[],l=3;l<arguments.length;l++)u[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=u,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var f=this.values,h=0,p=f.length;h!==p;h++){var m=f[h];r.VALUES_TO_ECI.set(m,this)}try{for(var _=qC(u),E=_.next();!E.done;E=_.next()){var T=E.value;r.NAME_TO_ECI.set(T,this)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new fe("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new fe("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new fe("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(dt.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(dt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(dt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(dt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(dt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(dt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(dt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(dt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(dt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(dt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(dt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(dt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(dt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(dt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(dt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(dt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(dt.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(dt.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(dt.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(dt.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(dt.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(dt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(dt.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(dt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(dt.Big5,28,"Big5"),r.GB18030=new r(dt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(dt.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),XC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gd=(function(r){XC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ur),kr=(function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof cn?e:cn.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,u=e.length;a<u;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(cn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new gd("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(cn.UTF8)||e.equals(cn.ISO8859_1)||e.equals(cn.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r})(),Ze=(function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return kr.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Lt.CHARACTER_SET)!==void 0)return t.get(Lt.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,u=!0,l=0,f=0,h=0,p=0,m=0,_=0,E=0,T=0,S=0,D=0,V=0,M=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,B=0;B<n&&(i||a||u);B++){var j=e[B]&255;u&&(l>0?(j&128)===0?u=!1:l--:(j&128)!==0&&((j&64)===0?u=!1:(l++,(j&32)===0?f++:(l++,(j&16)===0?h++:(l++,(j&8)===0?p++:u=!1))))),i&&(j>127&&j<160?i=!1:j>159&&(j<192||j===215||j===247)&&V++),a&&(m>0?j<64||j===127||j>252?a=!1:m--:j===128||j===160||j>239?a=!1:j>160&&j<224?(_++,T=0,E++,E>S&&(S=E)):j>127?(m++,E=0,T++,T>D&&(D=T)):(E=0,T=0))}return u&&l>0&&(u=!1),a&&m>0&&(a=!1),u&&(M||f+h+p>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||S>=3||D>=3)?r.SHIFT_JIS:i&&a?S===2&&_===2||V*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:u?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(l,f,h,p,m,_){if(l==="%%")return"%";if(t[++i]!==void 0){l=p?parseInt(p.substr(1)):void 0;var E=m?parseInt(m.substr(1)):void 0,T;switch(_){case"s":T=t[i];break;case"c":T=t[i][0];break;case"f":T=parseFloat(t[i]).toFixed(l);break;case"p":T=parseFloat(t[i]).toPrecision(l);break;case"e":T=parseFloat(t[i]).toExponential(l);break;case"x":T=parseInt(t[i]).toString(E||16);break;case"d":T=parseFloat(parseInt(t[i],E||10).toPrecision(l)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(E);for(var S=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";T.length<S;)T=f!==void 0?T+D:D+T;return T}}var u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,a)},r.getBytes=function(e,t){return kr.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=cn.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=cn.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=cn.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),ke=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ze.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r})(),Vi=(function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Ie("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var u=e[a],l=0;l<n;l++)u[l]&&i.set(l,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new Ie("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,u=0,l=-1,f=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>u){if(l===-1)l=a-u;else if(a-u!==l)throw new Ie("row lengths do not match");u=a,f++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+n.length)===n)h+=n.length,i[a]=!1,a++;else throw new Ie("illegal character encountered: "+e.substring(h));if(a>u){if(l===-1)l=a-u;else if(a-u!==l)throw new Ie("row lengths do not match");f++}for(var p=new r(l,f),m=0;m<a;m++)i[m]&&p.set(Math.floor(m%l),Math.floor(m/l));return p},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ie("input matrix dimensions do not match");for(var t=new An(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,u=this.height;a<u;a++)for(var l=a*n,f=e.getRow(a,t).getBitArray(),h=0;h<n;h++)i[l+h]^=f[h]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new Ie("Left and top must be nonnegative");if(i<1||n<1)throw new Ie("Height and width must be at least 1");var a=e+n,u=t+i;if(u>this.height||a>this.width)throw new Ie("The region must fit inside the matrix");for(var l=this.rowSize,f=this.bits,h=t;h<u;h++)for(var p=h*l,m=e;m<a;m++)f[p+Math.floor(m/32)]|=1<<(m&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new An(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,u=0;u<n;u++)t.setBulk(u*32,i[a+u]);return t},r.prototype.setRow=function(e,t){St.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new An(e),i=new An(e),a=0,u=Math.floor((t+1)/2);a<u;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,u=t,l=-1,f=-1,h=0;h<t;h++)for(var p=0;p<n;p++){var m=i[h*n+p];if(m!==0){if(h<u&&(u=h),h>f&&(f=h),p*32<a){for(var _=0;(m<<31-_&4294967295)===0;)_++;p*32+_<a&&(a=p*32+_)}if(p*32+31>l){for(var _=31;!(m>>>_);)_--;p*32+_>l&&(l=p*32+_)}}}return l<a||f<u?null:Int32Array.from([a,u,l-a+1,f-u+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,u=t[n],l=0;(u<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,u=t[n],l=31;!(u>>>l);)l--;return a+=l,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&fn.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+fn.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new ke,a=0,u=this.height;a<u;a++){for(var l=0,f=this.width;l<f;l++)i.append(this.get(l,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),KC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),re=(function(r){KC(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ur),YC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),WC=(function(r){YC(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new An(a):n.clear(),this.initArrays(a);for(var u=i.getRow(t,this.luminances),l=this.buckets,f=0;f<a;f++)l[(u[f]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(l);if(a<3)for(var f=0;f<a;f++)(u[f]&255)<h&&n.set(f);else for(var p=u[0]&255,m=u[1]&255,f=1;f<a-1;f++){var _=u[f+1]&255;(m*4-p-_)/2<h&&n.set(f),p=m,m=_}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new Vi(n,i);this.initArrays(n);for(var u=this.buckets,l=1;l<5;l++)for(var f=Math.floor(i*l/5),h=t.getRow(f,this.luminances),p=Math.floor(n*4/5),m=Math.floor(n/5);m<p;m++){var _=h[m]&255;u[_>>e.LUMINANCE_SHIFT]++}for(var E=e.estimateBlackPoint(u),T=t.getMatrix(),l=0;l<i;l++)for(var S=l*n,m=0;m<n;m++){var _=T[S+m]&255;_<E&&a.set(m,l)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,u=0,l=0;l<n;l++)t[l]>u&&(a=l,u=t[l]),t[l]>i&&(i=t[l]);for(var f=0,h=0,l=0;l<n;l++){var p=l-a,m=t[l]*p*p;m>h&&(f=l,h=m)}if(a>f){var _=a;a=f,f=_}if(f-a<=n/16)throw new re;for(var E=f-1,T=-1,l=f-1;l>a;l--){var S=l-a,m=S*S*(f-l)*(i-t[l]);m>T&&(E=l,T=m)}return E<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(UC),QC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ZC=(function(r){QC(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),u=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&u++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var f=e.calculateBlackPoints(a,u,l,n,i),h=new Vi(n,i);e.calculateThresholdForBlock(a,u,l,n,i,f,h),this.matrix=h}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,u,l,f){for(var h=u-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,m=0;m<i;m++){var _=m<<e.BLOCK_SIZE_POWER;_>h&&(_=h);for(var E=e.cap(m,2,i-3),T=0;T<n;T++){var S=T<<e.BLOCK_SIZE_POWER;S>p&&(S=p);for(var D=e.cap(T,2,n-3),V=0,M=-2;M<=2;M++){var B=l[E+M];V+=B[D-2]+B[D-1]+B[D]+B[D+1]+B[D+2]}var j=V/25;e.thresholdBlock(t,S,_,j,a,f)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,u,l){for(var f=0,h=i*u+n;f<e.BLOCK_SIZE;f++,h+=u)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&l.set(n+p,i+f)},e.calculateBlackPoints=function(t,n,i,a,u){for(var l=u-e.BLOCK_SIZE,f=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(n);var m=p<<e.BLOCK_SIZE_POWER;m>l&&(m=l);for(var _=0;_<n;_++){var E=_<<e.BLOCK_SIZE_POWER;E>f&&(E=f);for(var T=0,S=255,D=0,V=0,M=m*a+E;V<e.BLOCK_SIZE;V++,M+=a){for(var B=0;B<e.BLOCK_SIZE;B++){var j=t[M+B]&255;T+=j,j<S&&(S=j),j>D&&(D=j)}if(D-S>e.MIN_DYNAMIC_RANGE)for(V++,M+=a;V<e.BLOCK_SIZE;V++,M+=a)for(var B=0;B<e.BLOCK_SIZE;B++)T+=t[M+B]&255}var G=T>>e.BLOCK_SIZE_POWER*2;if(D-S<=e.MIN_DYNAMIC_RANGE&&(G=S/2,p>0&&_>0)){var $=(h[p-1][_]+2*h[p][_-1]+h[p-1][_-1])/4;S<$&&(G=$)}h[p][_]=G}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(WC),u1=(function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new gd("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new gd("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new gd("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new ke,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var u=i[a]&255,l=void 0;u<64?l="#":u<128?l="+":u<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()},r})(),$C=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ov=(function(r){$C(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),u=0;u<a;u++)i[u]=255-(i[u]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(u1),JC=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),e4=(function(r){JC(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var u=0,l=0,f=t.length;u<f;u+=4,l++){var h=void 0,p=t[u+3];if(p===0)h=255;else{var m=t[u],_=t[u+1],E=t[u+2];h=306*m+601*_+117*E+512>>10}a[l]=h}else for(var u=0,l=0,T=t.length;u<T;u+=4,l++){var h=void 0,p=t[u+3];if(p===0)h=255;else{var m=t[u],_=t[u+1],E=t[u+2];h=306*m+601*_+117*E+512>>10}a[l]=255-h}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,u=this.canvas.width,l=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*u+Math.abs(Math.sin(a))*l),h=Math.ceil(Math.abs(Math.sin(a))*u+Math.abs(Math.cos(a))*l);return n.width=f,n.height=h,i.translate(f/2,h/2),i.rotate(a),i.drawImage(this.canvas,u/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new ov(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(u1),t4=(function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),qn=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function l(p){try{h(n.next(p))}catch(m){u(m)}}function f(p){try{h(n.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):i(p.value).then(l,f)}h((n=n.apply(r,e||[])).next())})},Xn=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(p){return f([h,p])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},n4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ul=(function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return qn(this,void 0,void 0,function(){var e,t,n,i,a,u,l,f,h,p,m,_;return Xn(this,function(E){switch(E.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=E.sent(),t=[];try{for(n=n4(e),i=n.next();!i.done;i=n.next())a=i.value,u=a.kind==="video"?"videoinput":a.kind,u==="videoinput"&&(l=a.deviceId||a.id,f=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:l,label:f,kind:u,groupId:h},t.push(p))}catch(T){m={error:T}}finally{try{i&&!i.done&&(_=n.return)&&_.call(n)}finally{if(m)throw m.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return qn(this,void 0,void 0,function(){var e;return Xn(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new t4(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return qn(this,void 0,void 0,function(){var t;return Xn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return qn(this,void 0,void 0,function(){return Xn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return qn(this,void 0,void 0,function(){var n,i;return Xn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return qn(this,void 0,void 0,function(){var n;return Xn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return qn(this,void 0,void 0,function(){var n,i;return Xn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return qn(this,void 0,void 0,function(){return Xn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return qn(this,void 0,void 0,function(){var i,a;return Xn(this,function(u){switch(u.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,u.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return qn(this,void 0,void 0,function(){var i;return Xn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return qn(this,void 0,void 0,function(){var i;return Xn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return qn(this,void 0,void 0,function(){var n;return Xn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return qn(this,void 0,void 0,function(){return Xn(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Jr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Jr("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Jr("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Jr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Jr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Jr("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Jr("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Jr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return qn(this,void 0,void 0,function(){return Xn(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return qn(this,void 0,void 0,function(){return Xn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(u,l){if(i._stopAsyncDecode){l(new re("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var f=i.decode(e);u(f)}catch(_){var h=t&&_ instanceof re,p=_ instanceof xn||_ instanceof fe,m=p&&n;if(h||m)return setTimeout(a,i._timeBetweenDecodingAttempts,u,l);l(_)}};return new Promise(function(u,l){return a(u,l)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(f){t(null,f);var u=f instanceof xn||f instanceof fe,l=f instanceof re;(u||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new e4(t),i=new ZC(n);return new kC(i)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),zn=(function(){function r(e,t,n,i,a,u){n===void 0&&(n=t==null?0:8*t.length),u===void 0&&(u=St.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=u,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,u==null?this.timestamp=St.currentTimeMillis():this.timestamp=u}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);St.arraycopy(t,0,n,0,t.length),St.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),cg;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cg||(cg={}));const Se=cg;var fg;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fg||(fg={}));const Mn=fg;var l1=(function(){function r(e,t,n,i,a,u){a===void 0&&(a=-1),u===void 0&&(u=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),Dc=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ie;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r})(),so=(function(){function r(e,t){if(t.length===0)throw new Ie;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),St.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var u=t[i];n=Dc.addOrSubtract(n,u)}return n}n=t[0];for(var l=t.length,f=this.field,i=1;i<l;i++)n=Dc.addOrSubtract(f.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),u=n.length-t.length;St.arraycopy(n,0,a,0,u);for(var l=u;l<n.length;l++)a[l]=Dc.addOrSubtract(t[l-u],n[l]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,u=new Int32Array(n+a-1),l=this.field,f=0;f<n;f++)for(var h=t[f],p=0;p<a;p++)u[f+p]=Dc.addOrSubtract(u[f+p],l.multiply(h,i[p]));return new r(l,u)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,u=0;u<t;u++)i[u]=n.multiply(a[u],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ie;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),u=this.field,l=0;l<i;l++)a[l]=u.multiply(n[l],t);return new r(u,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ie("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),u=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),f=t.multiply(i.getCoefficient(i.getDegree()),u),h=e.multiplyByMonomial(l,f),p=t.buildMonomial(l,f);n=n.addOrSubtract(p),i=i.addOrSubtract(h)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r})(),r4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),kA=(function(r){r4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ur),i4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),or=(function(r){i4(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var u=new Int32Array(n),l=1,f=0;f<n;f++)u[f]=l,l*=2,l>=n&&(l^=t,l&=n-1);a.expTable=u;for(var h=new Int32Array(n),f=0;f<n-1;f++)h[u[f]]=f;return a.logTable=h,a.zero=new so(a,Int32Array.from([0])),a.one=new so(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Ie;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new so(this,i)},e.prototype.inverse=function(t){if(t===0)throw new kA;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ue.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Dc),a4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nd=(function(r){a4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ur),o4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hf=(function(r){o4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ur),c1=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new so(n,e),a=new Int32Array(t),u=!0,l=0;l<t;l++){var f=i.evaluateAt(n.exp(l+n.getGeneratorBase()));a[a.length-1-l]=f,f!==0&&(u=!1)}if(!u)for(var h=new so(n,a),p=this.runEuclideanAlgorithm(n.buildMonomial(t,1),h,t),m=p[0],_=p[1],E=this.findErrorLocations(m),T=this.findErrorMagnitudes(_,E),l=0;l<E.length;l++){var S=e.length-1-n.log(E[l]);if(S<0)throw new nd("Bad error location");e[S]=or.addOrSubtract(e[S],T[l])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,u=e,l=t,f=a.getZero(),h=a.getOne();l.getDegree()>=(n/2|0);){var p=u,m=f;if(u=l,f=h,u.isZero())throw new nd("r_{i-1} was zero");l=p;for(var _=a.getZero(),E=u.getCoefficient(u.getDegree()),T=a.inverse(E);l.getDegree()>=u.getDegree()&&!l.isZero();){var S=l.getDegree()-u.getDegree(),D=a.multiply(l.getCoefficient(l.getDegree()),T);_=_.addOrSubtract(a.buildMonomial(S,D)),l=l.addOrSubtract(u.multiplyByMonomial(S,D))}if(h=_.multiply(f).addOrSubtract(m),l.getDegree()>=u.getDegree())throw new hf("Division algorithm failed to reduce polynomial?")}var V=h.getCoefficient(0);if(V===0)throw new nd("sigmaTilde(0) was zero");var M=a.inverse(V),B=h.multiplyScalar(M),j=l.multiplyScalar(M);return[B,j]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,u=1;u<a.getSize()&&i<t;u++)e.evaluateAt(u)===0&&(n[i]=a.inverse(u),i++);if(i!==t)throw new nd("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,u=0;u<n;u++){for(var l=a.inverse(t[u]),f=1,h=0;h<n;h++)if(u!==h){var p=a.multiply(t[h],l),m=(p&1)===0?p|1:p&-2;f=a.multiply(f,m)}i[u]=a.multiply(e.evaluateAt(l),a.inverse(f)),a.getGeneratorBase()!==0&&(i[u]=a.multiply(i[u],l))}return i},r})(),Rn;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Rn||(Rn={}));var J2=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),u=r.getEncodedData(i),l=new l1(a,u,null,null);return l.setNumBits(i.length),l},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Rn.UPPER,i=Rn.UPPER,a="",u=0;u<t;)if(i===Rn.BINARY){if(t-u<5)break;var l=r.readCode(e,u,5);if(u+=5,l===0){if(t-u<11)break;l=r.readCode(e,u,11)+31,u+=11}for(var f=0;f<l;f++){if(t-u<8){u=t;break}var h=r.readCode(e,u,8);a+=Ze.castAsNonUtf8Char(h),u+=8}i=n}else{var p=i===Rn.DIGIT?4:5;if(t-u<p)break;var h=r.readCode(e,u,p);u+=p;var m=r.getCharacter(i,h);m.startsWith("CTRL_")?(n=i,i=r.getTable(m.charAt(5)),m.charAt(6)==="L"&&(n=i)):(a+=m,i=n)}return a},r.getTable=function(e){switch(e){case"L":return Rn.LOWER;case"P":return Rn.PUNCT;case"M":return Rn.MIXED;case"D":return Rn.DIGIT;case"B":return Rn.BINARY;default:return Rn.UPPER}},r.getCharacter=function(e,t){switch(e){case Rn.UPPER:return r.UPPER_TABLE[t];case Rn.LOWER:return r.LOWER_TABLE[t];case Rn.MIXED:return r.MIXED_TABLE[t];case Rn.PUNCT:return r.PUNCT_TABLE[t];case Rn.DIGIT:return r.DIGIT_TABLE[t];default:throw new hf("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=or.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=or.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=or.AZTEC_DATA_10):(n=12,t=or.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new fe;for(var u=e.length%n,l=new Int32Array(a),f=0;f<a;f++,u+=n)l[f]=r.readCode(e,u,n);try{var h=new c1(t);h.decode(l,a-i)}catch(D){throw new fe(D)}for(var p=(1<<n)-1,m=0,f=0;f<i;f++){var _=l[f];if(_===0||_===p)throw new fe;(_===1||_===p-1)&&m++}for(var E=new Array(i*n-m),T=0,f=0;f<i;f++){var _=l[f];if(_===1||_===p-1)E.fill(_>1,T,T+n-1),T+=n-1;else for(var S=n-1;S>=0;--S)E[T++]=(_&1<<S)!==0}return E},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),u=new Array(this.totalBitsInLayer(n,t));if(t)for(var l=0;l<a.length;l++)a[l]=l;else for(var f=i+1+2*Ue.truncDivision(Ue.truncDivision(i,2)-1,15),h=i/2,p=Ue.truncDivision(f,2),l=0;l<h;l++){var m=l+Ue.truncDivision(l,15);a[h-l-1]=p-m-1,a[h+l]=p+m+1}for(var l=0,_=0;l<n;l++){for(var E=(n-l)*4+(t?9:12),T=l*2,S=i-1-T,D=0;D<E;D++)for(var V=D*2,M=0;M<2;M++)u[_+V+M]=e.get(a[T+M],a[T+D]),u[_+2*E+V+M]=e.get(a[T+D],a[S-M]),u[_+4*E+V+M]=e.get(a[S-M],a[S-D]),u[_+6*E+V+M]=e.get(a[S-D],a[T+M]);_+=E*8}return u},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),nt=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,u=t-i;return Math.sqrt(a*a+u*u)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r})(),hg=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),_e=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*hg.floatToIntBits(this.x)+hg.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,u,l;if(n>=t&&n>=i?(u=e[0],a=e[1],l=e[2]):i>=n&&i>=t?(u=e[1],a=e[0],l=e[2]):(u=e[2],a=e[0],l=e[1]),this.crossProductZ(a,u,l)<0){var f=a;a=l,l=f}e[0]=a,e[1]=u,e[2]=l},r.distance=function(e,t){return nt.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r})(),sv=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),s4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),u4=(function(r){s4(e,r);function e(t,n,i,a,u){var l=r.call(this,t,n)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=u,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(sv),dg=(function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,u=!0,l=!1,f=!1,h=!1,p=!1,m=!1,_=this.width,E=this.height;u;){u=!1;for(var T=!0;(T||!f)&&t<_;)T=this.containsBlackPoint(n,i,t,!1),T?(t++,u=!0,f=!0):f||t++;if(t>=_){a=!0;break}for(var S=!0;(S||!h)&&i<E;)S=this.containsBlackPoint(e,t,i,!0),S?(i++,u=!0,h=!0):h||i++;if(i>=E){a=!0;break}for(var D=!0;(D||!p)&&e>=0;)D=this.containsBlackPoint(n,i,e,!1),D?(e--,u=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var V=!0;(V||!m)&&n>=0;)V=this.containsBlackPoint(e,t,n,!0),V?(n--,u=!0,m=!0):m||n--;if(n<0){a=!0;break}u&&(l=!0)}if(!a&&l){for(var M=t-e,B=null,j=1;B===null&&j<M;j++)B=this.getBlackPointOnSegment(e,i-j,e+j,i);if(B==null)throw new re;for(var G=null,j=1;G===null&&j<M;j++)G=this.getBlackPointOnSegment(e,n+j,e+j,n);if(G==null)throw new re;for(var $=null,j=1;$===null&&j<M;j++)$=this.getBlackPointOnSegment(t,n+j,t-j,n);if($==null)throw new re;for(var C=null,j=1;C===null&&j<M;j++)C=this.getBlackPointOnSegment(t,i-j,t-j,i);if(C==null)throw new re;return this.centerEdges(C,B,$,G)}else throw new re},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=nt.round(nt.distance(e,t,n,i)),u=(n-e)/a,l=(i-t)/a,f=this.image,h=0;h<a;h++){var p=nt.round(e+h*u),m=nt.round(t+h*l);if(f.get(p,m))return new _e(p,m)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),u=e.getY(),l=t.getX(),f=t.getY(),h=n.getX(),p=n.getY(),m=i.getX(),_=i.getY(),E=r.CORR;return a<this.width/2?[new _e(m-E,_+E),new _e(l+E,f+E),new _e(h-E,p-E),new _e(a+E,u-E)]:[new _e(m+E,_+E),new _e(l+E,f-E),new _e(h-E,p+E),new _e(a-E,u-E)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var u=e;u<=t;u++)if(a.get(u,n))return!0}else for(var l=e;l<=t;l++)if(a.get(n,l))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),eE=(function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,u=0;u<t.length&&a;u+=2){var l=Math.floor(t[u]),f=Math.floor(t[u+1]);if(l<-1||l>n||f<-1||f>i)throw new re;a=!1,l===-1?(t[u]=0,a=!0):l===n&&(t[u]=n-1,a=!0),f===-1?(t[u+1]=0,a=!0):f===i&&(t[u+1]=i-1,a=!0)}a=!0;for(var u=t.length-2;u>=0&&a;u-=2){var l=Math.floor(t[u]),f=Math.floor(t[u+1]);if(l<-1||l>n||f<-1||f>i)throw new re;a=!1,l===-1?(t[u]=0,a=!0):l===n&&(t[u]=n-1,a=!0),f===-1?(t[u+1]=0,a=!0):f===i&&(t[u+1]=i-1,a=!0)}},r})(),FA=(function(){function r(e,t,n,i,a,u,l,f,h){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=u,this.a13=l,this.a23=f,this.a33=h}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,u,l,f,h,p,m,_,E,T,S,D){var V=r.quadrilateralToSquare(e,t,n,i,a,u,l,f),M=r.squareToQuadrilateral(h,p,m,_,E,T,S,D);return M.times(V)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,u=this.a21,l=this.a22,f=this.a23,h=this.a31,p=this.a32,m=this.a33,_=0;_<t;_+=2){var E=e[_],T=e[_+1],S=a*E+f*T+m;e[_]=(n*E+u*T+h)/S,e[_+1]=(i*E+l*T+p)/S}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,u=this.a21,l=this.a22,f=this.a23,h=this.a31,p=this.a32,m=this.a33,_=e.length,E=0;E<_;E++){var T=e[E],S=t[E],D=a*T+f*S+m;e[E]=(n*T+u*S+h)/D,t[E]=(i*T+l*S+p)/D}},r.squareToQuadrilateral=function(e,t,n,i,a,u,l,f){var h=e-n+a-l,p=t-i+u-f;if(h===0&&p===0)return new r(n-e,a-n,e,i-t,u-i,t,0,0,1);var m=n-a,_=l-a,E=i-u,T=f-u,S=m*T-_*E,D=(h*T-_*p)/S,V=(m*p-h*E)/S;return new r(n-e+D*n,l-e+V*l,e,i-t+D*i,f-t+V*f,t,D,V,1)},r.quadrilateralToSquare=function(e,t,n,i,a,u,l,f){return r.squareToQuadrilateral(e,t,n,i,a,u,l,f).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),l4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),c4=(function(r){l4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,u,l,f,h,p,m,_,E,T,S,D,V,M,B,j){var G=FA.quadrilateralToQuadrilateral(a,u,l,f,h,p,m,_,E,T,S,D,V,M,B,j);return this.sampleGridWithTransform(t,n,i,G)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new re;for(var u=new Vi(n,i),l=new Float32Array(2*n),f=0;f<i;f++){for(var h=l.length,p=f+.5,m=0;m<h;m+=2)l[m]=m/2+.5,l[m+1]=p;a.transformPoints(l),eE.checkAndNudgePoints(t,l);try{for(var m=0;m<h;m+=2)t.get(Math.floor(l[m]),Math.floor(l[m+1]))&&u.set(m/2,f)}catch{throw new re}}return u},e})(eE),uv=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new c4,r})(),ar=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new _e(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),f4=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),u=this.getMatrixCornerPoints(n);return new u4(a,u,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new re;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var u=n[(this.shift+a)%4];this.compact?(i<<=7,i+=u>>1&127):(i<<=10,i+=(u>>2&992)+(u>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,u,l){var f=(a>>t-2<<1)+(a&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Ue.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new re},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,u=new Int32Array(n),l=n-1;l>=0;--l)u[l]=e&15,e>>=4;try{var f=new c1(or.AZTEC_PARAM);f.decode(u,a)}catch{throw new re}for(var h=0,l=0;l<i;l++)h=(h<<4)+u[l];return h},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(t,u,1,-1),f=this.getFirstDifferent(n,u,1,1),h=this.getFirstDifferent(i,u,-1,1),p=this.getFirstDifferent(a,u,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(p,l)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(l,f,h,p))break}t=l,n=f,i=h,a=p,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;var _=new _e(t.getX()+.5,t.getY()-.5),E=new _e(n.getX()+.5,n.getY()+.5),T=new _e(i.getX()-.5,i.getY()+.5),S=new _e(a.getX()-.5,a.getY()-.5);return this.expandSquare([_,E,T,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new dg(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var u=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new ar(u+7,l-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ar(u+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ar(u-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ar(u-7,l-7),!1,-1,-1).toResultPoint()}var f=nt.round((e.getX()+i.getX()+t.getX()+n.getX())/4),h=nt.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new dg(this.image,15,f,h).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ar(f+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ar(f+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ar(f-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ar(f-7,h-7),!1,-1,-1).toResultPoint()}return f=nt.round((e.getX()+i.getX()+t.getX()+n.getX())/4),h=nt.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new ar(f,h)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var u=uv.getInstance(),l=this.getDimension(),f=l/2-this.nbCenterLayers,h=l/2+this.nbCenterLayers;return u.sampleGrid(e,l,l,f,f,h,f,h,h,f,h,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),u=a/n,l=e.getX(),f=e.getY(),h=u*(t.getX()-e.getX())/a,p=u*(t.getY()-e.getY())/a,m=0;m<n;m++)this.image.get(nt.round(l+m*h),nt.round(f+m*p))&&(i|=1<<n-m-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new ar(e.getX()-a,e.getY()+a),t=new ar(t.getX()-a,t.getY()-a),n=new ar(n.getX()+a,n.getY()-a),i=new ar(i.getX()+a,i.getY()+a);var u=this.getColor(i,e);if(u===0)return!1;var l=this.getColor(e,t);return l!==u||(l=this.getColor(t,n),l!==u)?!1:(l=this.getColor(n,i),l===u)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,u=0,l=e.getX(),f=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(n),m=0;m<p;m++)l+=i,f+=a,this.image.get(nt.round(l),nt.round(f))!==h&&u++;var _=u/n;return _>.1&&_<.9?0:_<=.1===h?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,u=e.getY()+i;this.isValid(a,u)&&this.image.get(a,u)===t;)a+=n,u+=i;for(a-=n,u-=i;this.isValid(a,u)&&this.image.get(a,u)===t;)a+=n;for(a-=n;this.isValid(a,u)&&this.image.get(a,u)===t;)u+=i;return u-=i,new ar(a,u)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,h=new _e(l+i*a,f+i*u),p=new _e(l-i*a,f-i*u);a=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var m=new _e(l+i*a,f+i*u),_=new _e(l-i*a,f-i*u),E=[h,m,p,_];return E},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=nt.round(e.getX()),n=nt.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return nt.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return nt.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ue.truncDivision(this.nbLayers-4,8)+1)+15},r})(),pg=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new f4(e.getBlackMatrix()),a=null,u=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(t,a),u=new J2().decode(l)}catch(m){n=m}if(u==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(t,a),u=new J2().decode(l)}catch(m){throw n??m}var f=new zn(u.getText(),u.getRawBytes(),u.getNumBits(),a,Se.AZTEC,St.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(Mn.BYTE_SEGMENTS,h);var p=u.getECLevel();return p!=null&&f.putMetadata(Mn.ERROR_CORRECTION_LEVEL,p),f},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Lt.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,u){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r})(),h4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){h4(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new pg,t)||this}return e})(ul);var hn=(function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Lt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),u=a.getResultMetadata(),l=270;u!==null&&u.get(Mn.ORIENTATION)===!0&&(l=l+u.get(Mn.ORIENTATION)%360),a.putMetadata(Mn.ORIENTATION,l);var f=a.getResultPoints();if(f!==null)for(var h=i.getHeight(),p=0;p<f.length;p++)f[p]=new _e(h-f[p].getY()-1,f[p].getX());return a}else throw new re}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new An(n),u=t&&t.get(Lt.TRY_HARDER)===!0,l=Math.max(1,i>>(u?8:5)),f;u?f=i:f=15;for(var h=Math.trunc(i/2),p=0;p<f;p++){var m=Math.trunc((p+1)/2),_=(p&1)===0,E=h+l*(_?m:-m);if(E<0||E>=i)break;try{a=e.getBlackRow(E,a)}catch{continue}for(var T=function(M){if(M===1&&(a.reverse(),t&&t.get(Lt.NEED_RESULT_POINT_CALLBACK)===!0)){var B=new Map;t.forEach(function($,C){return B.set(C,$)}),B.delete(Lt.NEED_RESULT_POINT_CALLBACK),t=B}try{var j=S.decodeRow(E,a,t);if(M===1){j.putMetadata(Mn.ORIENTATION,180);var G=j.getResultPoints();G!==null&&(G[0]=new _e(n-G[0].getX()-1,G[0].getY()),G[1]=new _e(n-G[1].getX()-1,G[1].getY()))}return{value:j}}catch{}},S=this,D=0;D<2;D++){var V=T(D);if(typeof V=="object")return V.value}}throw new re},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var u=e.getSize();if(t>=u)throw new re;for(var l=!e.get(t),f=0,h=t;h<u;){if(e.get(h)!==l)n[f]++;else{if(++f===i)break;n[f]=1,l=!l}h++}if(!(f===i||f===i-1&&h===u))throw new re},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new re;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,u=0,l=0;l<i;l++)a+=e[l],u+=t[l];if(a<u)return Number.POSITIVE_INFINITY;var f=a/u;n*=f;for(var h=0,p=0;p<i;p++){var m=e[p],_=t[p]*f,E=m>_?m-_:_-m;if(E>n)return Number.POSITIVE_INFINITY;h+=E}return h/a},r})(),d4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tE=(function(r){d4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,u=Int32Array.from([0,0,0,0,0,0]),l=i,f=!1,h=6,p=i;p<n;p++)if(t.get(p)!==f)u[a]++;else{if(a===h-1){for(var m=e.MAX_AVG_VARIANCE,_=-1,E=e.CODE_START_A;E<=e.CODE_START_C;E++){var T=hn.patternMatchVariance(u,e.CODE_PATTERNS[E],e.MAX_INDIVIDUAL_VARIANCE);T<m&&(m=T,_=E)}if(_>=0&&t.isRange(Math.max(0,l-(p-l)/2),l,!1))return Int32Array.from([l,p,_]);l+=u[0]+u[1],u=u.slice(2,u.length-1),u[a-1]=0,u[a]=0,a--}else a++;u[a]=1,f=!f}throw new re},e.decodeCode=function(t,n,i){hn.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,u=-1,l=0;l<e.CODE_PATTERNS.length;l++){var f=e.CODE_PATTERNS[l],h=this.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,u=l)}if(u>=0)return u;throw new re},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Lt.ASSUME_GS1)===!0,u=e.findStartPattern(n),l=u[2],f=0,h=new Uint8Array(20);h[f++]=l;var p;switch(l){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new fe}for(var m=!1,_=!1,E="",T=u[0],S=u[1],D=Int32Array.from([0,0,0,0,0,0]),V=0,M=0,B=l,j=0,G=!0,$=!1,C=!1;!m;){var b=_;switch(_=!1,V=M,M=e.decodeCode(n,D,S),h[f++]=M,M!==e.CODE_STOP&&(G=!0),M!==e.CODE_STOP&&(j++,B+=j*M),T=S,S+=D.reduce(function(de,Ae){return de+Ae},0),M){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new fe}switch(p){case e.CODE_CODE_A:if(M<64)C===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),C=!1;else if(M<96)C===$?E+=String.fromCharCode(M-64):E+=String.fromCharCode(M+64),C=!1;else switch(M!==e.CODE_STOP&&(G=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!$&&C?($=!0,C=!1):$&&C?($=!1,C=!1):C=!0;break;case e.CODE_SHIFT:_=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_B:if(M<96)C===$?E+=String.fromCharCode(32+M):E+=String.fromCharCode(32+M+128),C=!1;else switch(M!==e.CODE_STOP&&(G=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!$&&C?($=!0,C=!1):$&&C?($=!1,C=!1):C=!0;break;case e.CODE_SHIFT:_=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_C:if(M<100)M<10&&(E+="0"),E+=M;else switch(M!==e.CODE_STOP&&(G=!1),M){case e.CODE_FNC_1:a&&(E.length===0?E+="]C1":E+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:m=!0;break}break}b&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=S-T;if(S=n.getNextUnset(S),!n.isRange(S,Math.min(n.getSize(),S+(S-T)/2),!1))throw new re;if(B-=j*V,B%103!==V)throw new xn;var L=E.length;if(L===0)throw new re;L>0&&G&&(p===e.CODE_CODE_C?E=E.substring(0,L-2):E=E.substring(0,L-1));for(var k=(u[1]+u[0])/2,U=T+N/2,P=h.length,ze=new Uint8Array(P),yt=0;yt<P;yt++)ze[yt]=h[yt];var ne=[new _e(k,t),new _e(U,t)];return new zn(E,ze,0,ne,Se.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(hn),p4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Up=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nE=(function(r){p4(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,u,l,f,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(n,h),m=n.getNextSet(p[1]),_=n.getSize(),E,T;do{e.recordPattern(n,m,h);var S=e.toNarrowWidePattern(h);if(S<0)throw new re;E=e.patternToChar(S),this.decodeRowResult+=E,T=m;try{for(var D=(a=void 0,Up(h)),V=D.next();!V.done;V=D.next()){var M=V.value;m+=M}}catch(P){a={error:P}}finally{try{V&&!V.done&&(u=D.return)&&u.call(D)}finally{if(a)throw a.error}}m=n.getNextSet(m)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var j=Up(h),G=j.next();!G.done;G=j.next()){var M=G.value;B+=M}}catch(P){l={error:P}}finally{try{G&&!G.done&&(f=j.return)&&f.call(j)}finally{if(l)throw l.error}}var $=m-T-B;if(m!==_&&$*2<B)throw new re;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,b=0,N=0;N<C;N++)b+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(C)!==e.ALPHABET_STRING.charAt(b%43))throw new xn;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(this.decodeRowResult.length===0)throw new re;var L;this.extendedMode?L=e.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;var k=(p[1]+p[0])/2,U=T+B/2;return new zn(L,null,0,[new _e(k,t),new _e(U,t)],Se.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),u=0,l=a,f=!1,h=n.length,p=a;p<i;p++)if(t.get(p)!==f)n[u]++;else{if(u===h-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,l-Math.floor((p-l)/2)),l,!1))return[l,p];l+=n[0]+n[1],n.copyWithin(0,2,2+u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,f=!f}throw new re},e.toNarrowWidePattern=function(t){var n,i,a=t.length,u=0,l;do{var f=2147483647;try{for(var h=(n=void 0,Up(t)),p=h.next();!p.done;p=h.next()){var m=p.value;m<f&&m>u&&(f=m)}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}u=f,l=0;for(var _=0,E=0,T=0;T<a;T++){var m=t[T];m>u&&(E|=1<<a-1-T,l++,_+=m)}if(l===3){for(var T=0;T<a&&l>0;T++){var m=t[T];if(m>u&&(l--,m*2>=_))return-1}return E}}while(l>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new re},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var u=t.charAt(a);if(u==="+"||u==="$"||u==="%"||u==="/"){var l=t.charAt(a+1),f="\0";switch(u){case"+":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)+32);else throw new fe;break;case"$":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)-64);else throw new fe;break;case"%":if(l>="A"&&l<="E")f=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")f=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")f=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")f="\0";else if(l==="V")f="@";else if(l==="W")f="`";else if(l==="X"||l==="Y"||l==="Z")f="";else throw new fe;break;case"/":if(l>="A"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")f=":";else throw new fe;break}i+=f,a++}else i+=u}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(hn),g4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rE=(function(r){g4(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,i){var a,u,l,f,h=this.findAsteriskPattern(n),p=n.getNextSet(h[1]),m=n.getSize(),_=this.counters;_.fill(0),this.decodeRowResult="";var E,T;do{e.recordPattern(n,p,_);var S=this.toPattern(_);if(S<0)throw new re;E=this.patternToChar(S),this.decodeRowResult+=E,T=p;try{for(var D=(a=void 0,zp(_)),V=D.next();!V.done;V=D.next()){var M=V.value;p+=M}}catch(N){a={error:N}}finally{try{V&&!V.done&&(u=D.return)&&u.call(D)}finally{if(a)throw a.error}}p=n.getNextSet(p)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var j=zp(_),G=j.next();!G.done;G=j.next()){var M=G.value;B+=M}}catch(N){l={error:N}}finally{try{G&&!G.done&&(f=j.return)&&f.call(j)}finally{if(l)throw l.error}}if(p===m||!n.get(p))throw new re;if(this.decodeRowResult.length<2)throw new re;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var $=this.decodeExtended(this.decodeRowResult),C=(h[1]+h[0])/2,b=T+B/2;return new zn($,null,0,[new _e(C,t),new _e(b,t)],Se.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,u=i,l=!1,f=a.length,h=0,p=i;p<n;p++)if(t.get(p)!==l)a[h]++;else{if(h===f-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([u,p]);u+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,l=!l}throw new re},e.prototype.toPattern=function(t){var n,i,a=0;try{for(var u=zp(t),l=u.next();!l.done;l=u.next()){var f=l.value;a+=f}}catch(T){n={error:T}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}for(var h=0,p=t.length,m=0;m<p;m++){var _=Math.round(t[m]*9/a);if(_<1||_>4)return-1;if((m&1)===0)for(var E=0;E<_;E++)h=h<<1|1;else h<<=_}return h},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new re},e.prototype.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var u=t.charAt(a);if(u>="a"&&u<="d"){if(a>=n-1)throw new fe;var l=t.charAt(a+1),f="\0";switch(u){case"d":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)+32);else throw new fe;break;case"a":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)-64);else throw new fe;break;case"b":if(l>="A"&&l<="E")f=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")f=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")f=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")f="\0";else if(l==="V")f="@";else if(l==="W")f="`";else if(l>="X"&&l<="Z")f="";else throw new fe;break;case"c":if(l>="A"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")f=":";else throw new fe;break}i+=f,a++}else i+=u}return i},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,i){for(var a=1,u=0,l=n-1;l>=0;l--)u+=a*e.ALPHABET_STRING.indexOf(t.charAt(l)),++a>i&&(a=1);if(t.charAt(n)!==e.ALPHABET_STRING[u%47])throw new xn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(hn),v4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),m4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iE=(function(r){v4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,u,l=this.decodeStart(n),f=this.decodeEnd(n),h=new ke;e.decodeMiddle(n,l[1],f[0],h);var p=h.toString(),m=null;i!=null&&(m=i.get(Lt.ALLOWED_LENGTHS)),m==null&&(m=e.DEFAULT_ALLOWED_LENGTHS);var _=p.length,E=!1,T=0;try{for(var S=m4(m),D=S.next();!D.done;D=S.next()){var V=D.value;if(_===V){E=!0;break}V>T&&(T=V)}}catch(j){a={error:j}}finally{try{D&&!D.done&&(u=S.return)&&u.call(S)}finally{if(a)throw a.error}}if(!E&&_>T&&(E=!0),!E)throw new fe;var M=[new _e(l[1],t),new _e(f[0],t)],B=new zn(p,null,0,M,Se.ITF,new Date().getTime());return B},e.decodeMiddle=function(t,n,i,a){var u=new Int32Array(10),l=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),l.fill(0),f.fill(0);n<i;){hn.recordPattern(t,n,u);for(var h=0;h<5;h++){var p=2*h;l[h]=u[p],f[h]=u[p+1]}var m=e.decodeDigit(l);a.append(m.toString()),m=this.decodeDigit(f),a.append(m.toString()),u.forEach(function(_){n+=_})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new re},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new re;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(u){u instanceof re&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,u=new Int32Array(a),l=t.getSize(),f=!1,h=0,p=n;u.fill(0);for(var m=n;m<l;m++)if(t.get(m)!==f)u[h]++;else{if(h===a-1){if(hn.patternMatchVariance(u,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,m];p+=u[0]+u[1],St.arraycopy(u,2,u,0,h-1),u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,f=!f}throw new re},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,u=0;u<a;u++){var l=e.PATTERNS[u],f=hn.patternMatchVariance(t,l,e.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,i=u):f===n&&(i=-1)}if(i>=0)return i%10;throw new re},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(hn),y4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Xu=(function(r){y4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,u=Int32Array.from([0,0,0]);!n;){u=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,u);var l=i[0];a=i[1];var f=l-(a-l);f>=0&&(n=t.isRange(f,l,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var u=t.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new fe;i+=u}i*=3;for(var a=n-2;a>=0;a-=2){var u=t.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new fe;i+=u}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,u){var l=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var f=0,h=n,p=a.length,m=i,_=n;_<l;_++)if(t.get(_)!==m)u[f]++;else{if(f===p-1){if(hn.patternMatchVariance(u,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,_]);h+=u[0]+u[1];for(var E=u.slice(2,u.length),T=0;T<f-1;T++)u[T]=E[T];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,m=!m}throw new re},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var u=this.MAX_AVG_VARIANCE,l=-1,f=a.length,h=0;h<f;h++){var p=a[h],m=hn.patternMatchVariance(n,p,e.MAX_INDIVIDUAL_VARIANCE);m<u&&(u=m,l=h)}if(l>=0)return l;throw new re},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(hn),_4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E4=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),u=i.toString(),l=r.parseExtensionString(u),f=[new _e((n[0]+n[1])/2,e),new _e(a,e)],h=new zn(u,null,0,f,Se.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&h.putAllMetadata(l),h},r.prototype.decodeMiddle=function(e,t,n){var i,a,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=e.getSize(),f=t[1],h=0,p=0;p<5&&f<l;p++){var m=Xu.decodeDigit(e,u,f,Xu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);try{for(var _=(i=void 0,_4(u)),E=_.next();!E.done;E=_.next()){var T=E.value;f+=T}}catch(D){i={error:D}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}m>=10&&(h|=1<<4-p),p!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==5)throw new re;var S=this.determineCheckDigit(h);if(r.extensionChecksum(n.toString())!==S)throw new re;return f},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new re},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Mn.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,u=a<10?"0"+a:a.toString();return t+i+"."+u},r})(),x4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A4=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),u=i.toString(),l=r.parseExtensionString(u),f=[new _e((n[0]+n[1])/2,e),new _e(a,e)],h=new zn(u,null,0,f,Se.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&h.putAllMetadata(l),h},r.prototype.decodeMiddle=function(e,t,n){var i,a,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=e.getSize(),f=t[1],h=0,p=0;p<2&&f<l;p++){var m=Xu.decodeDigit(e,u,f,Xu.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);try{for(var _=(i=void 0,x4(u)),E=_.next();!E.done;E=_.next()){var T=E.value;f+=T}}catch(S){i={error:S}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}m>=10&&(h|=1<<1-p),p!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==2)throw new re;if(parseInt(n.toString())%4!==h)throw new re;return f},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Mn.ISSUE_NUMBER,parseInt(e)]])},r})(),w4=(function(){function r(){}return r.decodeRow=function(e,t,n){var i=Xu.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new E4;return a.decodeRow(e,t,i)}catch{var u=new A4;return u.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),T4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ln=(function(r){T4(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),u=0;u<i.length;u++)a[u]=i[i.length-u-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),u=i==null?null:i.get(Lt.NEED_RESULT_POINT_CALLBACK);if(u!=null){var l=new _e((a[0]+a[1])/2,t);u.foundPossibleResultPoint(l)}var f=this.decodeMiddle(n,a,this.decodeRowStringBuffer),h=f.rowOffset,p=f.resultString;if(u!=null){var m=new _e(h,t);u.foundPossibleResultPoint(m)}var _=e.decodeEnd(n,h);if(u!=null){var E=new _e((_[0]+_[1])/2,t);u.foundPossibleResultPoint(E)}var T=_[1],S=T+(T-_[0]);if(S>=n.getSize()||!n.isRange(T,S,!1))throw new re;var D=p.toString();if(D.length<8)throw new fe;if(!e.checkChecksum(D))throw new xn;var V=(a[1]+a[0])/2,M=(_[1]+_[0])/2,B=this.getBarcodeFormat(),j=[new _e(V,t),new _e(M,t)],G=new zn(D,null,0,j,B,new Date().getTime()),$=0;try{var C=w4.decodeRow(t,n,_[1]);G.putMetadata(Mn.UPC_EAN_EXTENSION,C.getText()),G.putAllMetadata(C.getResultMetadata()),G.addResultPoints(C.getResultPoints()),$=C.getText().length}catch{}var b=i==null?null:i.get(Lt.ALLOWED_EAN_EXTENSIONS);if(b!=null){var N=!1;for(var L in b)if($.toString()===L){N=!0;break}if(!N)throw new re}return B===Se.EAN_13||Se.UPC_A,G},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var u=t.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new fe;i+=u}i*=3;for(var a=n-2;a>=0;a-=2){var u=t.charAt(a).charCodeAt(0)-48;if(u<0||u>9)throw new fe;i+=u}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Xu),S4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),aE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gg=(function(r){S4(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,u,l,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=n[1],_=0,E=0;E<6&&m<p;E++){var T=ln.decodeDigit(t,h,m,ln.L_AND_G_PATTERNS);i+=String.fromCharCode(48+T%10);try{for(var S=(a=void 0,aE(h)),D=S.next();!D.done;D=S.next()){var V=D.value;m+=V}}catch(G){a={error:G}}finally{try{D&&!D.done&&(u=S.return)&&u.call(S)}finally{if(a)throw a.error}}T>=10&&(_|=1<<5-E)}i=e.determineFirstDigit(i,_);var M=ln.findGuardPattern(t,m,!0,ln.MIDDLE_PATTERN,new Int32Array(ln.MIDDLE_PATTERN.length).fill(0));m=M[1];for(var E=0;E<6&&m<p;E++){var T=ln.decodeDigit(t,h,m,ln.L_PATTERNS);i+=String.fromCharCode(48+T);try{for(var B=(l=void 0,aE(h)),j=B.next();!j.done;j=B.next()){var V=j.value;m+=V}}catch(C){l={error:C}}finally{try{j&&!j.done&&(f=B.return)&&f.call(B)}finally{if(l)throw l.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Se.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new re},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(ln),I4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),oE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sE=(function(r){I4(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,u,l,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=n[1],_=0;_<4&&m<p;_++){var E=ln.decodeDigit(t,h,m,ln.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var T=(a=void 0,oE(h)),S=T.next();!S.done;S=T.next()){var D=S.value;m+=D}}catch(j){a={error:j}}finally{try{S&&!S.done&&(u=T.return)&&u.call(T)}finally{if(a)throw a.error}}}var V=ln.findGuardPattern(t,m,!0,ln.MIDDLE_PATTERN,new Int32Array(ln.MIDDLE_PATTERN.length).fill(0));m=V[1];for(var _=0;_<4&&m<p;_++){var E=ln.decodeDigit(t,h,m,ln.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var M=(l=void 0,oE(h)),B=M.next();!B.done;B=M.next()){var D=B.value;m+=D}}catch($){l={error:$}}finally{try{B&&!B.done&&(f=M.return)&&f.call(M)}finally{if(l)throw l.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Se.EAN_8},e})(ln),C4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uE=(function(r){C4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new gg,t}return e.prototype.getBarcodeFormat=function(){return Se.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new zn(n.substring(1),null,null,t.getResultPoints(),Se.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new re},e.prototype.reset=function(){this.ean13Reader.reset()},e})(ln),b4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),R4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lE=(function(r){b4(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,u,l=this.decodeMiddleCounters.map(function(D){return D});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var f=t.getSize(),h=n[1],p=0,m=0;m<6&&h<f;m++){var _=e.decodeDigit(t,l,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var E=(a=void 0,R4(l)),T=E.next();!T.done;T=E.next()){var S=T.value;h+=S}}catch(D){a={error:D}}finally{try{T&&!T.done&&(u=E.return)&&u.call(E)}finally{if(a)throw a.error}}_>=10&&(p|=1<<5-m)}return e.determineNumSysAndCheckDigit(new ke(i),p),h},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return ln.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw re.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Se.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(u){return u.charCodeAt(0)}),i=new ke;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(ln),D4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),cE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hp=(function(r){D4(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(Lt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Se.EAN_13)>-1&&a.push(new gg),i.indexOf(Se.UPC_A)>-1&&a.push(new uE),i.indexOf(Se.EAN_8)>-1&&a.push(new sE),i.indexOf(Se.UPC_E)>-1&&a.push(new lE)),a.length===0&&(a.push(new gg),a.push(new uE),a.push(new sE),a.push(new lE)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,u;try{for(var l=cE(this.readers),f=l.next();!f.done;f=l.next()){var h=f.value;try{var p=h.decodeRow(t,n,i),m=p.getBarcodeFormat()===Se.EAN_13&&p.getText().charAt(0)==="0",_=i==null?null:i.get(Lt.POSSIBLE_FORMATS),E=_==null||_.includes(Se.UPC_A);if(m&&E){var T=p.getRawBytes(),S=new zn(p.getText().substring(1),T,T?T.length:null,p.getResultPoints(),Se.UPC_A);return S.putAllMetadata(p.getResultMetadata()),S}return p}catch{}}}catch(D){a={error:D}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}throw new re},e.prototype.reset=function(){var t,n;try{for(var i=cE(this.readers),a=i.next();!a.done;a=i.next()){var u=a.value;u.reset()}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e})(hn),O4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),N4=(function(r){O4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,i){var a=this.getValidRowData(n);if(!a)throw new re;var u=this.codaBarDecodeRow(a.row);if(!u)throw new re;return new zn(u,null,0,[new _e(a.left,t),new _e(a.right,t)],Se.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var u=[],l=n[0],f=1,h=1;h<n.length;h++)n[h]===l?f++:(l=n[h],u.push(f),f=1);return u.push(f),u.length<23&&(u.length+1)%8!==0?null:{row:u,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],i=Math.ceil(t.reduce(function(f,h){return(f+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),u=a.map(function(f){return f<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[u]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[u])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e})(hn),M4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),P4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},is=(function(r){M4(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(hn.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new re},e.count=function(t){return nt.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],u=1;u<t.length;u++)n[u]>a&&(a=n[u],i=u);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],u=1;u<t.length;u++)n[u]<a&&(a=n[u],i=u);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],u=a+t[2]+t[3],l=a/u;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=P4(t),m=p.next();!m.done;m=p.next()){var _=m.value;_>h&&(h=_),_<f&&(f=_)}}catch(E){n={error:E}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(hn),Pd=(function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),UA=(function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new _e(n,a)),this.resultPoints.push(new _e(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r})(),V4=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ku=(function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,u=0;try{for(var l=V4(e),f=l.next();!f.done;f=l.next()){var h=f.value;u+=h}}catch(M){i={error:M}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var p=0,m=0,_=e.length,E=0;E<_-1;E++){var T=void 0;for(T=1,m|=1<<E;T<e[E];T++,m&=~(1<<E)){var S=r.combins(u-T-1,_-E-2);if(n&&m===0&&u-T-(_-E-1)>=_-E-1&&(S-=r.combins(u-T-(_-E),_-E-2)),_-E-1>1){for(var D=0,V=u-T-(_-E-2);V>t;V--)D+=r.combins(u-T-V-1,_-E-3);S-=D*(_-1-E)}else u-T>t&&S--;p+=S}u-=T}return p},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,u=1,l=e;l>n;l--)a*=l,u<=i&&(a/=u,u++);for(;u<=i;)a/=u,u++;return a},r})(),L4=(function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new An(n),a=0,u=e[0],l=u.getRightChar().getValue(),f=11;f>=0;--f)(l&1<<f)!==0&&i.set(a),a++;for(var f=1;f<e.length;++f){for(var h=e[f],p=h.getLeftChar().getValue(),m=11;m>=0;--m)(p&1<<m)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var _=h.getRightChar().getValue(),m=11;m>=0;--m)(_&1<<m)!==0&&i.set(a),a++}return i},r})(),ts=(function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),lv=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),B4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),$r=(function(r){B4(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(lv),k4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ns=(function(r){k4(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(lv),F4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Iu=(function(r){F4(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new fe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(lv),rd=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U4=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,u,l,f,h;if(!e)return null;if(e.length<2)throw new re;var p=e.substring(0,2);try{for(var m=rd(r.TWO_DIGIT_DATA_LENGTH),_=m.next();!_.done;_=m.next()){var E=_.value;if(E[0]===p)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,E[2],e):r.processFixedAI(2,E[1],e)}}catch($){t={error:$}}finally{try{_&&!_.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}if(e.length<3)throw new re;var T=e.substring(0,3);try{for(var S=rd(r.THREE_DIGIT_DATA_LENGTH),D=S.next();!D.done;D=S.next()){var E=D.value;if(E[0]===T)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,E[2],e):r.processFixedAI(3,E[1],e)}}catch($){i={error:$}}finally{try{D&&!D.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}try{for(var V=rd(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),M=V.next();!M.done;M=V.next()){var E=M.value;if(E[0]===T)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){u={error:$}}finally{try{M&&!M.done&&(l=V.return)&&l.call(V)}finally{if(u)throw u.error}}if(e.length<4)throw new re;var B=e.substring(0,4);try{for(var j=rd(r.FOUR_DIGIT_DATA_LENGTH),G=j.next();!G.done;G=j.next()){var E=G.value;if(E[0]===B)return E[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,E[2],e):r.processFixedAI(4,E[1],e)}}catch($){f={error:$}}finally{try{G&&!G.done&&(h=j.return)&&h.call(j)}finally{if(f)throw f.error}}throw new re},r.processFixedAI=function(e,t,n){if(n.length<e)throw new re;var i=n.substring(0,e);if(n.length<e+t)throw new re;var a=n.substring(e,e+t),u=n.substring(e+t),l="("+i+")"+a,f=r.parseFieldsInGeneralPurpose(u);return f==null?l:l+f},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var u=n.substring(e,a),l=n.substring(a),f="("+i+")"+u,h=r.parseFieldsInGeneralPurpose(l);return h==null?f:f+h},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),vd=(function(){function r(e){this.buffer=new ke,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),u=U4.parseFieldsInGeneralPurpose(a.getNewString());if(u!=null&&e.append(u),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Iu(this.information.getSize(),Iu.FNC1,Iu.FNC1):new Iu(this.information.getSize(),t-1,Iu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Iu(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ns(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ns(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new ns(this.current.getPosition(),this.buffer.toString()):t=new ns(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ts(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new ns(this.current.getPosition(),this.buffer.toString());return new ts(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ts(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ns(this.current.getPosition(),this.buffer.toString());return new ts(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ts(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ns(this.current.getPosition(),this.buffer.toString());return new ts(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ts(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new $r(e+5,$r.FNC1);if(t>=5&&t<15)return new $r(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new $r(e+7,""+(n+1));if(n>=90&&n<116)return new $r(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new fe}return new $r(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new $r(e+5,$r.FNC1);if(t>=5&&t<15)return new $r(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new $r(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new hf("Decoding invalid alphanumeric value: "+n)}return new $r(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r})(),zA=(function(){function r(e){this.information=e,this.generalDecoder=new vd(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),z4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ti=(function(r){z4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var u=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var u=t.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e})(zA),H4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),j4=(function(r){H4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new ke;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(ti),G4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),q4=(function(r){G4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new ke;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(zA),X4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),md=(function(r){X4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var u=this.checkWeight(a),l=1e5,f=0;f<5;++f)u/l===0&&t.append("0"),l/=10;t.append(u)},e})(ti),K4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),HA=(function(r){K4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+md.GTIN_SIZE+e.WEIGHT_SIZE)throw new re;var t=new ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+md.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(md),Y4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),W4=(function(r){Y4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(HA),Q4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Z4=(function(r){Q4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(HA),$4=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),J4=(function(r){$4(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ti.GTIN_SIZE)throw new re;var t=new ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ti.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ti.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(ti),eb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tb=(function(r){eb(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ti.GTIN_SIZE)throw new re;var t=new ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ti.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ti.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ti.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(ti),nb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ka=(function(r){nb(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new re;var t=new ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var u=i%12+1;i/=12;var l=i;l/10===0&&t.append("0"),t.append(l),u/10===0&&t.append("0"),t.append(u),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(md);function rb(r){try{if(r.get(1))return new j4(r);if(!r.get(2))return new q4(r);var e=vd.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new W4(r);case 5:return new Z4(r)}var t=vd.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new J4(r);case 13:return new tb(r)}var n=vd.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Ka(r,"310","11");case 57:return new Ka(r,"320","11");case 58:return new Ka(r,"310","13");case 59:return new Ka(r,"320","13");case 60:return new Ka(r,"310","15");case 61:return new Ka(r,"320","15");case 62:return new Ka(r,"310","17");case 63:return new Ka(r,"320","17")}}catch(i){throw console.log(i),new hf("unknown decoder: "+r)}}var fE=(function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),ib=(function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(u){i.getLeftChar().getValue()===u.getLeftChar().getValue()&&i.getRightChar().getValue()===u.getRightChar().getValue()&&i.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(n=!0)})}),n}},r})(),ab=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ya=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ob=(function(r){ab(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(l){if(l instanceof re){if(!this.pairs.length)throw new re;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new re},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,u=n;u<this.rows.length;u++){var l=this.rows[u];this.pairs.length=0;try{for(var f=(i=void 0,Ya(t)),h=f.next();!h.done;h=f.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(_){i={error:_}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(t);m.push(l);try{return this.checkRows(m,u+1)}catch(_){console.log(_)}}}throw new re},e.isValidSequence=function(t){var n,i;try{for(var a=Ya(e.FINDER_PATTERN_SEQUENCES),u=a.next();!u.done;u=a.next()){var l=u.value;if(!(t.length>l.length)){for(var f=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==l[h]){f=!1;break}if(f)return!0}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,u=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>t){u=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}u||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new ib(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,u,l,f,h;try{for(var p=Ya(n),m=p.next();!m.done;m=p.next()){var _=m.value;if(_.getPairs().length!==t.length){var E=!0;try{for(var T=(u=void 0,Ya(_.getPairs())),S=T.next();!S.done;S=T.next()){var D=S.value,V=!1;try{for(var M=(f=void 0,Ya(t)),B=M.next();!B.done;B=M.next()){var j=B.value;if(fE.equals(D,j)){V=!0;break}}}catch(G){f={error:G}}finally{try{B&&!B.done&&(h=M.return)&&h.call(M)}finally{if(f)throw f.error}}V||(E=!1)}}catch(G){u={error:G}}finally{try{S&&!S.done&&(l=T.return)&&l.call(T)}finally{if(u)throw u.error}}}}}catch(G){i={error:G}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,u,l,f,h;try{for(var p=Ya(n),m=p.next();!m.done;m=p.next()){var _=m.value,E=!0;try{for(var T=(u=void 0,Ya(t)),S=T.next();!S.done;S=T.next()){var D=S.value,V=!1;try{for(var M=(f=void 0,Ya(_.getPairs())),B=M.next();!B.done;B=M.next()){var j=B.value;if(D.equals(j)){V=!0;break}}}catch(G){f={error:G}}finally{try{B&&!B.done&&(h=M.return)&&h.call(M)}finally{if(f)throw f.error}}if(!V){E=!1;break}}}catch(G){u={error:G}}finally{try{S&&!S.done&&(l=T.return)&&l.call(T)}finally{if(u)throw u.error}}if(E)return!0}}catch(G){i={error:G}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=L4.buildBitArray(t),i=rb(n),a=i.parseInformation(),u=t[0].getFinderPattern().getResultPoints(),l=t[t.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],l[0],l[1]];return new zn(a,null,null,f,Se.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),u=2,l=1;l<this.pairs.size();++l){var f=this.pairs.get(l);a+=f.getLeftChar().getChecksumPortion(),u++;var h=f.getRightChar();h!=null&&(a+=h.getChecksumPortion(),u++)}a%=211;var p=211*(u-4)+a;return p===n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var u,l=!0,f=-1;do this.findNextPair(t,n,f),u=this.parseFoundFinderPattern(t,i,a),u===null?f=e.getNextSecondBar(t,this.startEnd[0]):l=!1;while(l);var h=this.decodeDataCharacter(t,u,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new re;var p;try{p=this.decodeDataCharacter(t,u,a,!1)}catch(m){p=null,console.log(m)}return new fE(h,p,u,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var u=t.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var f=n[n.length-1];l=f.getFinderPattern().getStartEnd()[1]}var h=n.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;l<u&&(p=!t.get(l),!!p);)l++;for(var m=0,_=l,E=l;E<u;E++)if(t.get(E)!==p)a[m]++;else{if(m===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=_,this.startEnd[1]=E;return}h&&e.reverseCounters(a),_+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,p=!p}throw new re},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,u,l;if(i){for(var f=this.startEnd[0]-1;f>=0&&!t.get(f);)f--;f++,a=this.startEnd[0]-f,u=f,l=this.startEnd[1]}else u=this.startEnd[0],l=t.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var h=this.getDecodeFinderCounters();St.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new UA(p,[u,l],u,l,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var u=this.getDataCharacterCounters(),l=0;l<u.length;l++)u[l]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],u);else{e.recordPattern(t,n.getStartEnd()[1],u);for(var f=0,h=u.length-1;f<h;f++,h--){var p=u[f];u[f]=u[h],u[h]=p}}var m=17,_=nt.sum(new Int32Array(u))/m,E=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(_-E)/E>.3)throw new re;for(var T=this.getOddCounts(),S=this.getEvenCounts(),D=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors(),f=0;f<u.length;f++){var M=1*u[f]/_,B=M+.5;if(B<1){if(M<.3)throw new re;B=1}else if(B>8){if(M>8.7)throw new re;B=8}var j=f/2;(f&1)===0?(T[j]=B,D[j]=M-B):(S[j]=B,V[j]=M-B)}this.adjustOddEvenCounts(m);for(var G=4*n.getValue()+(i?0:2)+(a?0:1)-1,$=0,C=0,f=T.length-1;f>=0;f--){if(e.isNotA1left(n,i,a)){var b=e.WEIGHTS[G][2*f];C+=T[f]*b}$+=T[f]}for(var N=0,f=S.length-1;f>=0;f--)if(e.isNotA1left(n,i,a)){var b=e.WEIGHTS[G][2*f+1];N+=S[f]*b}var L=C+N;if(($&1)!==0||$>13||$<4)throw new re;var k=(13-$)/2,U=e.SYMBOL_WIDEST[k],P=9-U,ze=ku.getRSSvalue(T,U,!0),yt=ku.getRSSvalue(S,P,!1),ne=e.EVEN_TOTAL_SUBSET[k],de=e.GSUM[k],Ae=ze*ne+yt+de;return new Pd(Ae,L)},e.isNotA1left=function(t,n,i){return!(t.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=nt.sum(new Int32Array(this.getOddCounts())),i=nt.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1;n>13?u=!0:n<4&&(a=!0);var l=!1,f=!1;i>13?f=!0:i<4&&(l=!0);var h=n+i-t,p=(n&1)===1,m=(i&1)===0;if(h===1)if(p){if(m)throw new re;u=!0}else{if(!m)throw new re;f=!0}else if(h===-1)if(p){if(m)throw new re;a=!0}else{if(!m)throw new re;l=!0}else if(h===0){if(p){if(!m)throw new re;n<i?(a=!0,f=!0):(u=!0,l=!0)}else if(m)throw new re}else throw new re;if(a){if(u)throw new re;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(f)throw new re;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(is),sb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ub=(function(r){sb(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Pd),lb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),jp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hE=(function(r){lb(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,u,l,f,h=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),n.reverse();var p=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,p),n.reverse();try{for(var m=jp(this.possibleLeftPairs),_=m.next();!_.done;_=m.next()){var E=_.value;if(E.getCount()>1)try{for(var T=(l=void 0,jp(this.possibleRightPairs)),S=T.next();!S.done;S=T.next()){var D=S.value;if(D.getCount()>1&&e.checkChecksum(E,D))return e.constructResult(E,D)}}catch(V){l={error:V}}finally{try{S&&!S.done&&(f=T.return)&&f.call(T)}finally{if(l)throw l.error}}}}catch(V){a={error:V}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}throw new re},e.addOrTally=function(t,n){var i,a;if(n!=null){var u=!1;try{for(var l=jp(t),f=l.next();!f.done;f=l.next()){var h=f.value;if(h.getValue()===n.getValue()){h.incrementCount(),u=!0;break}}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}u||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),u=new ke,l=13-a.length;l>0;l--)u.append("0");u.append(a);for(var f=0,l=0;l<13;l++){var h=u.charAt(l).charCodeAt(0)-48;f+=(l&1)===0?3*h:h}f=10-f%10,f===10&&(f=0),u.append(f.toString());var p=t.getFinderPattern().getResultPoints(),m=n.getFinderPattern().getResultPoints();return new zn(u.toString(),null,0,[p[0],p[1],m[0],m[1]],Se.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var u=this.findFinderPattern(t,n),l=this.parseFoundFinderPattern(t,i,n,u),f=a==null?null:a.get(Lt.NEED_RESULT_POINT_CALLBACK);if(f!=null){var h=(u[0]+u[1])/2;n&&(h=t.getSize()-1-h),f.foundPossibleResultPoint(new _e(h,i))}var p=this.decodeDataCharacter(t,l,!0),m=this.decodeDataCharacter(t,l,!1);return new ub(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),u=0;u<a.length;u++)a[u]=0;if(i)hn.recordPatternInReverse(t,n.getStartEnd()[0],a);else{hn.recordPattern(t,n.getStartEnd()[1]+1,a);for(var l=0,f=a.length-1;l<f;l++,f--){var h=a[l];a[l]=a[f],a[f]=h}}for(var p=i?16:15,m=nt.sum(new Int32Array(a))/p,_=this.getOddCounts(),E=this.getEvenCounts(),T=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var D=a[l]/m,V=Math.floor(D+.5);V<1?V=1:V>8&&(V=8);var M=Math.floor(l/2);(l&1)===0?(_[M]=V,T[M]=D-V):(E[M]=V,S[M]=D-V)}this.adjustOddEvenCounts(i,p);for(var B=0,j=0,l=_.length-1;l>=0;l--)j*=9,j+=_[l],B+=_[l];for(var G=0,$=0,l=E.length-1;l>=0;l--)G*=9,G+=E[l],$+=E[l];var C=j+3*G;if(i){if((B&1)!==0||B>12||B<4)throw new re;var b=(12-B)/2,N=e.OUTSIDE_ODD_WIDEST[b],L=9-N,k=ku.getRSSvalue(_,N,!1),U=ku.getRSSvalue(E,L,!0),P=e.OUTSIDE_EVEN_TOTAL_SUBSET[b],ze=e.OUTSIDE_GSUM[b];return new Pd(k*P+U+ze,C)}else{if(($&1)!==0||$>10||$<4)throw new re;var b=(10-$)/2,N=e.INSIDE_ODD_WIDEST[b],L=9-N,k=ku.getRSSvalue(_,N,!0),U=ku.getRSSvalue(E,L,!1),yt=e.INSIDE_ODD_TOTAL_SUBSET[b],ze=e.INSIDE_GSUM[b];return new Pd(U*yt+k+ze,C)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),u=!1,l=0;l<a&&(u=!t.get(l),n!==u);)l++;for(var f=0,h=l,p=l;p<a;p++)if(t.get(p)!==u)i[f]++;else{if(f===3){if(is.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new re},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var u=t.get(a[0]),l=a[0]-1;l>=0&&u!==t.get(l);)l--;l++;var f=a[0]-l,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);St.arraycopy(h,0,p,1,h.length-1),p[0]=f;var m=this.parseFinderValue(p,e.FINDER_PATTERNS),_=l,E=a[1];return i&&(_=t.getSize()-1-_,E=t.getSize()-1-E),new UA(m,[l,a[1]],_,E,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=nt.sum(new Int32Array(this.getOddCounts())),a=nt.sum(new Int32Array(this.getEvenCounts())),u=!1,l=!1,f=!1,h=!1;t?(i>12?l=!0:i<4&&(u=!0),a>12?h=!0:a<4&&(f=!0)):(i>11?l=!0:i<5&&(u=!0),a>10?h=!0:a<4&&(f=!0));var p=i+a-n,m=(i&1)===(t?1:0),_=(a&1)===1;if(p===1)if(m){if(_)throw new re;l=!0}else{if(!_)throw new re;h=!0}else if(p===-1)if(m){if(_)throw new re;u=!0}else{if(!_)throw new re;f=!0}else if(p===0){if(m){if(!_)throw new re;i<a?(u=!0,h=!0):(l=!0,f=!0)}else if(_)throw new re}else throw new re;if(u){if(l)throw new re;is.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&is.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new re;is.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&is.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(is),cb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Oc=(function(r){cb(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(Lt.POSSIBLE_FORMATS):null,a=t&&t.get(Lt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Se.EAN_13)||i.includes(Se.UPC_A)||i.includes(Se.EAN_8)||i.includes(Se.UPC_E))&&n.readers.push(new Hp(t)),i.includes(Se.CODE_39)&&n.readers.push(new nE(a)),i.includes(Se.CODE_93)&&n.readers.push(new rE),i.includes(Se.CODE_128)&&n.readers.push(new tE),i.includes(Se.ITF)&&n.readers.push(new iE),i.includes(Se.CODABAR)&&n.readers.push(new N4),i.includes(Se.RSS_14)&&n.readers.push(new hE),i.includes(Se.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new ob))),n.readers.length===0&&(n.readers.push(new Hp(t)),n.readers.push(new nE),n.readers.push(new rE),n.readers.push(new Hp(t)),n.readers.push(new tE),n.readers.push(new iE),n.readers.push(new hE)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new re},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e})(hn),fb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){fb(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new Oc(n),t,n)||this}return e})(ul);var dE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ut=(function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),at=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),hb=(function(){function r(e,t,n,i,a,u){var l,f;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=u;var h=0,p=u.getECCodewords(),m=u.getECBlocks();try{for(var _=dE(m),E=_.next();!E.done;E=_.next()){var T=E.value;h+=T.getCount()*(T.getDataCodewords()+p)}}catch(S){l={error:S}}finally{try{E&&!E.done&&(f=_.return)&&f.call(_)}finally{if(l)throw l.error}}this.totalCodewords=h}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new fe;try{for(var a=dE(r.VERSIONS),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===t)return l}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new fe},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new ut(5,new at(1,3))),new r(2,12,12,10,10,new ut(7,new at(1,5))),new r(3,14,14,12,12,new ut(10,new at(1,8))),new r(4,16,16,14,14,new ut(12,new at(1,12))),new r(5,18,18,16,16,new ut(14,new at(1,18))),new r(6,20,20,18,18,new ut(18,new at(1,22))),new r(7,22,22,20,20,new ut(20,new at(1,30))),new r(8,24,24,22,22,new ut(24,new at(1,36))),new r(9,26,26,24,24,new ut(28,new at(1,44))),new r(10,32,32,14,14,new ut(36,new at(1,62))),new r(11,36,36,16,16,new ut(42,new at(1,86))),new r(12,40,40,18,18,new ut(48,new at(1,114))),new r(13,44,44,20,20,new ut(56,new at(1,144))),new r(14,48,48,22,22,new ut(68,new at(1,174))),new r(15,52,52,24,24,new ut(42,new at(2,102))),new r(16,64,64,14,14,new ut(56,new at(2,140))),new r(17,72,72,16,16,new ut(36,new at(4,92))),new r(18,80,80,18,18,new ut(48,new at(4,114))),new r(19,88,88,20,20,new ut(56,new at(4,144))),new r(20,96,96,22,22,new ut(68,new at(4,174))),new r(21,104,104,24,24,new ut(56,new at(6,136))),new r(22,120,120,18,18,new ut(68,new at(6,175))),new r(23,132,132,20,20,new ut(62,new at(8,163))),new r(24,144,144,22,22,new ut(62,new at(8,156),new at(2,155))),new r(25,8,18,6,16,new ut(7,new at(1,5))),new r(26,8,32,6,14,new ut(11,new at(1,10))),new r(27,12,26,10,24,new ut(14,new at(1,16))),new r(28,12,36,10,16,new ut(18,new at(1,22))),new r(29,16,36,14,16,new ut(24,new at(1,32))),new r(30,16,48,14,22,new ut(28,new at(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),db=(function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new fe;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Vi(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return hb.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth(),l=!1,f=!1,h=!1,p=!1;do if(n===a&&i===0&&!l)e[t++]=this.readCorner1(a,u)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(u&3)!==0&&!f)e[t++]=this.readCorner2(a,u)&255,n-=2,i+=2,f=!0;else if(n===a+4&&i===2&&(u&7)===0&&!h)e[t++]=this.readCorner3(a,u)&255,n-=2,i+=2,h=!0;else if(n===a-2&&i===0&&(u&7)===4&&!p)e[t++]=this.readCorner4(a,u)&255,n-=2,i+=2,p=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,u)&255),n-=2,i+=2;while(n>=0&&i<u);n+=1,i+=3;do n>=0&&i<u&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,u)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<u);if(t!==this.version.getTotalCodewords())throw new fe;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Ie("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),u=t/i|0,l=n/a|0,f=u*i,h=l*a,p=new Vi(h,f),m=0;m<u;++m)for(var _=m*i,E=0;E<l;++E)for(var T=E*a,S=0;S<i;++S)for(var D=m*(i+2)+1+S,V=_+S,M=0;M<a;++M){var B=E*(a+2)+1+M;if(e.get(B,D)){var j=T+M;p.set(j,V)}}return p},r})(),pE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pb=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,u,l=t.getECBlocks(),f=0,h=l.getECBlocks();try{for(var p=pE(h),m=p.next();!m.done;m=p.next()){var _=m.value;f+=_.getCount()}}catch(ze){n={error:ze}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var E=new Array(f),T=0;try{for(var S=pE(h),D=S.next();!D.done;D=S.next())for(var _=D.value,V=0;V<_.getCount();V++){var M=_.getDataCodewords(),B=l.getECCodewords()+M;E[T++]=new r(M,new Uint8Array(B))}}catch(ze){a={error:ze}}finally{try{D&&!D.done&&(u=S.return)&&u.call(S)}finally{if(a)throw a.error}}for(var j=E[0].codewords.length,G=j-l.getECCodewords(),$=G-1,C=0,V=0;V<$;V++)for(var b=0;b<T;b++)E[b].codewords[V]=e[C++];for(var N=t.getVersionNumber()===24,L=N?8:T,b=0;b<L;b++)E[b].codewords[G-1]=e[C++];for(var k=E[0].codewords.length,V=G;V<k;V++)for(var b=0;b<T;b++){var U=N?(b+8)%T:b,P=N&&U>7?V-1:V;E[U].codewords[P]=e[C++]}if(C!==e.length)throw new Ie;return E},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),jA=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ie(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var u=8-n,l=e<u?e:u,f=u-l,h=255>>8-l<<f;t=(a[i]&h)>>f,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var f=8-e,h=255>>f<<f;t=t<<e|(a[i]&h)>>f,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),sn;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));var gb=(function(){function r(){}return r.decode=function(e){var t=new jA(e),n=new ke,i=new ke,a=new Array,u=sn.ASCII_ENCODE;do if(u===sn.ASCII_ENCODE)u=this.decodeAsciiSegment(t,n,i);else{switch(u){case sn.C40_ENCODE:this.decodeC40Segment(t,n);break;case sn.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new fe}u=sn.ASCII_ENCODE}while(u!==sn.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new l1(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new fe;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),sn.ASCII_ENCODE;if(a===129)return sn.PAD_ENCODE;if(a<=229){var u=a-130;u<10&&t.append("0"),t.append(""+u)}else switch(a){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new fe;break}}while(e.available()>0);return sn.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),i);for(var l=0;l<3;l++){var f=i[l];switch(a){case 0:if(f<3)a=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new fe;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new fe}a=0;break;case 3:n?(t.append(String.fromCharCode(f+224)),n=!1):t.append(String.fromCharCode(f+96)),a=0;break;default:throw new fe}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),i);for(var l=0;l<3;l++){var f=i[l];switch(a){case 0:if(f<3)a=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new fe;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new fe}a=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h),a=0}else throw new fe;break;default:throw new fe}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var u=n[a];switch(u){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(u<14)t.append(String.fromCharCode(u+44));else if(u<40)t.append(String.fromCharCode(u+51));else throw new fe;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),u;if(a===0?u=e.available()/8|0:a<250?u=a:u=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),u<0)throw new fe;for(var l=new Uint8Array(u),f=0;f<u;f++){if(e.available()<8)throw new fe;l[f]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{t.append(kr.decode(l,Ze.ISO88591))}catch(h){throw new hf("Platform does not support required encoding: "+h.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),vb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mb=(function(){function r(){this.rsDecoder=new c1(or.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new db(e),a=i.getVersion(),u=i.readCodewords(),l=pb.getDataBlocks(u,a),f=0;try{for(var h=vb(l),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(B){t={error:B}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}for(var _=new Uint8Array(f),E=l.length,T=0;T<E;T++){var S=l[T],D=S.getCodewords(),V=S.getNumDataCodewords();this.correctErrors(D,V);for(var M=0;M<V;M++)_[M*E+T]=D[M]}return gb.decode(_)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new xn}for(var i=0;i<t;i++)e[i]=n[i]},r})(),yb=(function(){function r(e){this.image=e,this.rectangleDetector=new dg(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new re;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],u=t[3],l=this.transitionsBetween(n,u)+1,f=this.transitionsBetween(a,u)+1;(l&1)===1&&(l+=1),(f&1)===1&&(f+=1),4*l<7*f&&4*f<7*l&&(l=f=Math.max(l,f));var h=r.sampleGrid(this.image,n,i,a,u,l,f);return new sv(h,[n,i,a,u])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new _e(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new _e(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],u=this.transitionsBetween(t,n),l=this.transitionsBetween(n,i),f=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=u,m=[a,t,n,i];return p>l&&(p=l,m[0]=t,m[1]=n,m[2]=i,m[3]=a),p>f&&(p=f,m[0]=n,m[1]=i,m[2]=a,m[3]=t),p>h&&(m[0]=i,m[1]=a,m[2]=t,m[3]=n),m},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],u=this.transitionsBetween(t,a),l=r.shiftPoint(n,i,(u+1)*4),f=r.shiftPoint(i,n,(u+1)*4),h=this.transitionsBetween(l,t),p=this.transitionsBetween(f,a);return h<p?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],u=this.transitionsBetween(t,a),l=this.transitionsBetween(n,a),f=r.shiftPoint(t,n,(l+1)*4),h=r.shiftPoint(i,n,(u+1)*4);u=this.transitionsBetween(f,a),l=this.transitionsBetween(h,a);var p=new _e(a.getX()+(i.getX()-n.getX())/(u+1),a.getY()+(i.getY()-n.getY())/(u+1)),m=new _e(a.getX()+(t.getX()-n.getX())/(l+1),a.getY()+(t.getY()-n.getY())/(l+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;var _=this.transitionsBetween(f,p)+this.transitionsBetween(h,p),E=this.transitionsBetween(f,m)+this.transitionsBetween(h,m);return _>E?p:m},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],u=this.transitionsBetween(t,a)+1,l=this.transitionsBetween(i,a)+1,f=r.shiftPoint(t,n,l*4),h=r.shiftPoint(i,n,u*4);u=this.transitionsBetween(f,a)+1,l=this.transitionsBetween(h,a)+1,(u&1)===1&&(u+=1),(l&1)===1&&(l+=1);var p=(t.getX()+n.getX()+i.getX()+a.getX())/4,m=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,p,m),n=r.moveAway(n,p,m),i=r.moveAway(i,p,m),a=r.moveAway(a,p,m);var _,E;return f=r.shiftPoint(t,n,l*4),f=r.shiftPoint(f,a,u*4),_=r.shiftPoint(n,t,l*4),_=r.shiftPoint(_,i,u*4),h=r.shiftPoint(i,a,l*4),h=r.shiftPoint(h,n,u*4),E=r.shiftPoint(a,i,l*4),E=r.shiftPoint(E,t,u*4),[f,_,h,E]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,u,l){var f=uv.getInstance();return f.sampleGrid(e,u,l,.5,.5,u-.5,.5,u-.5,l-.5,.5,l-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),u=Math.trunc(t.getY()),l=Math.abs(u-i)>Math.abs(a-n);if(l){var f=n;n=i,i=f,f=a,a=u,u=f}for(var h=Math.abs(a-n),p=Math.abs(u-i),m=-h/2,_=i<u?1:-1,E=n<a?1:-1,T=0,S=this.image.get(l?i:n,l?n:i),D=n,V=i;D!==a;D+=E){var M=this.image.get(l?V:D,l?D:V);if(M!==S&&(T++,S=M),m+=p,m>0){if(V===u)break;V+=_,m-=h}}return T},r})(),vg=(function(){function r(){this.decoder=new mb}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Lt.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var u=new yb(e.getBlackMatrix()).detect();n=this.decoder.decode(u.getBits()),i=u.getPoints()}var l=n.getRawBytes(),f=new zn(n.getText(),l,8*l.length,i,Se.DATA_MATRIX,St.currentTimeMillis()),h=n.getByteSegments();h!=null&&f.putMetadata(Mn.BYTE_SEGMENTS,h);var p=n.getECLevel();return p!=null&&f.putMetadata(Mn.ERROR_CORRECTION_LEVEL,p),f},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new re;var i=this.moduleSize(t,e),a=t[1],u=n[1],l=t[0],f=n[0],h=(f-l+1)/i,p=(u-a+1)/i;if(h<=0||p<=0)throw new re;var m=i/2;a+=m,l+=m;for(var _=new Vi(h,p),E=0;E<p;E++)for(var T=a+E*i,S=0;S<h;S++)e.get(l+S*i,T)&&_.set(S,E);return _},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new re;var u=i-e[0];if(u===0)throw new re;return u},r.NO_POINTS=[],r})(),_b=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){_b(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new vg,t)||this}return e})(ul);var Fu;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Fu||(Fu={}));var Eb=(function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Jr(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ie;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Fu.L,"L",1),r.M=new r(Fu.M,"M",0),r.Q=new r(Fu.Q,"Q",3),r.H=new r(Fu.H,"H",2),r})(),xb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GA=(function(){function r(e){this.errorCorrectionLevel=Eb.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Ue.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,u=0;try{for(var l=xb(r.FORMAT_INFO_DECODE_LOOKUP),f=l.next();!f.done;f=l.next()){var h=f.value,p=h[0];if(p===e||p===t)return new r(h[1]);var m=r.numBitsDiffering(e,p);m<a&&(u=h[1],a=m),e!==t&&(m=r.numBitsDiffering(t,p),m<a&&(u=h[1],a=m))}}catch(_){n={error:_}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<=3?new r(u):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),Ab=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y=(function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=Ab(i),u=a.next();!u.done;u=a.next()){var l=u.value;n+=l.getCount()}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),O=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),wb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gs=(function(){function r(e,t){for(var n,i,a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var l=0,f=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=wb(h),m=p.next();!m.done;m=p.next()){var _=m.value;l+=_.getCount()*(_.getDataCodewords()+f)}}catch(E){n={error:E}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new fe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new fe}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Ie;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var u=GA.numBitsDiffering(e,a);u<t&&(n=i+7,t=u)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Vi(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,u=0;u<n;u++)i===0&&(u===0||u===n-1)||i===n-1&&u===0||t.setRegion(this.alignmentPatternCenters[u]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new Y(7,new O(1,19)),new Y(10,new O(1,16)),new Y(13,new O(1,13)),new Y(17,new O(1,9))),new r(2,Int32Array.from([6,18]),new Y(10,new O(1,34)),new Y(16,new O(1,28)),new Y(22,new O(1,22)),new Y(28,new O(1,16))),new r(3,Int32Array.from([6,22]),new Y(15,new O(1,55)),new Y(26,new O(1,44)),new Y(18,new O(2,17)),new Y(22,new O(2,13))),new r(4,Int32Array.from([6,26]),new Y(20,new O(1,80)),new Y(18,new O(2,32)),new Y(26,new O(2,24)),new Y(16,new O(4,9))),new r(5,Int32Array.from([6,30]),new Y(26,new O(1,108)),new Y(24,new O(2,43)),new Y(18,new O(2,15),new O(2,16)),new Y(22,new O(2,11),new O(2,12))),new r(6,Int32Array.from([6,34]),new Y(18,new O(2,68)),new Y(16,new O(4,27)),new Y(24,new O(4,19)),new Y(28,new O(4,15))),new r(7,Int32Array.from([6,22,38]),new Y(20,new O(2,78)),new Y(18,new O(4,31)),new Y(18,new O(2,14),new O(4,15)),new Y(26,new O(4,13),new O(1,14))),new r(8,Int32Array.from([6,24,42]),new Y(24,new O(2,97)),new Y(22,new O(2,38),new O(2,39)),new Y(22,new O(4,18),new O(2,19)),new Y(26,new O(4,14),new O(2,15))),new r(9,Int32Array.from([6,26,46]),new Y(30,new O(2,116)),new Y(22,new O(3,36),new O(2,37)),new Y(20,new O(4,16),new O(4,17)),new Y(24,new O(4,12),new O(4,13))),new r(10,Int32Array.from([6,28,50]),new Y(18,new O(2,68),new O(2,69)),new Y(26,new O(4,43),new O(1,44)),new Y(24,new O(6,19),new O(2,20)),new Y(28,new O(6,15),new O(2,16))),new r(11,Int32Array.from([6,30,54]),new Y(20,new O(4,81)),new Y(30,new O(1,50),new O(4,51)),new Y(28,new O(4,22),new O(4,23)),new Y(24,new O(3,12),new O(8,13))),new r(12,Int32Array.from([6,32,58]),new Y(24,new O(2,92),new O(2,93)),new Y(22,new O(6,36),new O(2,37)),new Y(26,new O(4,20),new O(6,21)),new Y(28,new O(7,14),new O(4,15))),new r(13,Int32Array.from([6,34,62]),new Y(26,new O(4,107)),new Y(22,new O(8,37),new O(1,38)),new Y(24,new O(8,20),new O(4,21)),new Y(22,new O(12,11),new O(4,12))),new r(14,Int32Array.from([6,26,46,66]),new Y(30,new O(3,115),new O(1,116)),new Y(24,new O(4,40),new O(5,41)),new Y(20,new O(11,16),new O(5,17)),new Y(24,new O(11,12),new O(5,13))),new r(15,Int32Array.from([6,26,48,70]),new Y(22,new O(5,87),new O(1,88)),new Y(24,new O(5,41),new O(5,42)),new Y(30,new O(5,24),new O(7,25)),new Y(24,new O(11,12),new O(7,13))),new r(16,Int32Array.from([6,26,50,74]),new Y(24,new O(5,98),new O(1,99)),new Y(28,new O(7,45),new O(3,46)),new Y(24,new O(15,19),new O(2,20)),new Y(30,new O(3,15),new O(13,16))),new r(17,Int32Array.from([6,30,54,78]),new Y(28,new O(1,107),new O(5,108)),new Y(28,new O(10,46),new O(1,47)),new Y(28,new O(1,22),new O(15,23)),new Y(28,new O(2,14),new O(17,15))),new r(18,Int32Array.from([6,30,56,82]),new Y(30,new O(5,120),new O(1,121)),new Y(26,new O(9,43),new O(4,44)),new Y(28,new O(17,22),new O(1,23)),new Y(28,new O(2,14),new O(19,15))),new r(19,Int32Array.from([6,30,58,86]),new Y(28,new O(3,113),new O(4,114)),new Y(26,new O(3,44),new O(11,45)),new Y(26,new O(17,21),new O(4,22)),new Y(26,new O(9,13),new O(16,14))),new r(20,Int32Array.from([6,34,62,90]),new Y(28,new O(3,107),new O(5,108)),new Y(26,new O(3,41),new O(13,42)),new Y(30,new O(15,24),new O(5,25)),new Y(28,new O(15,15),new O(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new Y(28,new O(4,116),new O(4,117)),new Y(26,new O(17,42)),new Y(28,new O(17,22),new O(6,23)),new Y(30,new O(19,16),new O(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new Y(28,new O(2,111),new O(7,112)),new Y(28,new O(17,46)),new Y(30,new O(7,24),new O(16,25)),new Y(24,new O(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new Y(30,new O(4,121),new O(5,122)),new Y(28,new O(4,47),new O(14,48)),new Y(30,new O(11,24),new O(14,25)),new Y(30,new O(16,15),new O(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new Y(30,new O(6,117),new O(4,118)),new Y(28,new O(6,45),new O(14,46)),new Y(30,new O(11,24),new O(16,25)),new Y(30,new O(30,16),new O(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new Y(26,new O(8,106),new O(4,107)),new Y(28,new O(8,47),new O(13,48)),new Y(30,new O(7,24),new O(22,25)),new Y(30,new O(22,15),new O(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new Y(28,new O(10,114),new O(2,115)),new Y(28,new O(19,46),new O(4,47)),new Y(28,new O(28,22),new O(6,23)),new Y(30,new O(33,16),new O(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new Y(30,new O(8,122),new O(4,123)),new Y(28,new O(22,45),new O(3,46)),new Y(30,new O(8,23),new O(26,24)),new Y(30,new O(12,15),new O(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new O(3,117),new O(10,118)),new Y(28,new O(3,45),new O(23,46)),new Y(30,new O(4,24),new O(31,25)),new Y(30,new O(11,15),new O(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new O(7,116),new O(7,117)),new Y(28,new O(21,45),new O(7,46)),new Y(30,new O(1,23),new O(37,24)),new Y(30,new O(19,15),new O(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new O(5,115),new O(10,116)),new Y(28,new O(19,47),new O(10,48)),new Y(30,new O(15,24),new O(25,25)),new Y(30,new O(23,15),new O(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new O(13,115),new O(3,116)),new Y(28,new O(2,46),new O(29,47)),new Y(30,new O(42,24),new O(1,25)),new Y(30,new O(23,15),new O(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new O(17,115)),new Y(28,new O(10,46),new O(23,47)),new Y(30,new O(10,24),new O(35,25)),new Y(30,new O(19,15),new O(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new O(17,115),new O(1,116)),new Y(28,new O(14,46),new O(21,47)),new Y(30,new O(29,24),new O(19,25)),new Y(30,new O(11,15),new O(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new O(13,115),new O(6,116)),new Y(28,new O(14,46),new O(23,47)),new Y(30,new O(44,24),new O(7,25)),new Y(30,new O(59,16),new O(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new O(12,121),new O(7,122)),new Y(28,new O(12,47),new O(26,48)),new Y(30,new O(39,24),new O(14,25)),new Y(30,new O(22,15),new O(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new O(6,121),new O(14,122)),new Y(28,new O(6,47),new O(34,48)),new Y(30,new O(46,24),new O(10,25)),new Y(30,new O(2,15),new O(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new O(17,122),new O(4,123)),new Y(28,new O(29,46),new O(14,47)),new Y(30,new O(49,24),new O(10,25)),new Y(30,new O(24,15),new O(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new O(4,122),new O(18,123)),new Y(28,new O(13,46),new O(32,47)),new Y(30,new O(48,24),new O(14,25)),new Y(30,new O(42,15),new O(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new O(20,117),new O(4,118)),new Y(28,new O(40,47),new O(7,48)),new Y(30,new O(43,24),new O(22,25)),new Y(30,new O(10,15),new O(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new O(19,118),new O(6,119)),new Y(28,new O(18,47),new O(31,48)),new Y(30,new O(34,24),new O(34,25)),new Y(30,new O(20,15),new O(61,16)))],r})(),yn;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(yn||(yn={}));var gE=(function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[yn.DATA_MASK_000,new r(yn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[yn.DATA_MASK_001,new r(yn.DATA_MASK_001,function(e,t){return(e&1)===0})],[yn.DATA_MASK_010,new r(yn.DATA_MASK_010,function(e,t){return t%3===0})],[yn.DATA_MASK_011,new r(yn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[yn.DATA_MASK_100,new r(yn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[yn.DATA_MASK_101,new r(yn.DATA_MASK_101,function(e,t){return e*t%6===0})],[yn.DATA_MASK_110,new r(yn.DATA_MASK_110,function(e,t){return e*t%6<3})],[yn.DATA_MASK_111,new r(yn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r})(),Tb=(function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new fe;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,u=i-7,n=i-1;n>=u;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=GA.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return gs.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var u=e-9;u>=i;u--)n=this.copyBit(u,a,n);var l=gs.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var u=5;u>=0;u--)for(var a=e-9;a>=i;a--)n=this.copyBit(u,a,n);if(l=gs.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new fe},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=gE.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),u=!0,l=new Uint8Array(t.getTotalCodewords()),f=0,h=0,p=0,m=i-1;m>0;m-=2){m===6&&m--;for(var _=0;_<i;_++)for(var E=u?i-1-_:_,T=0;T<2;T++)a.get(m-T,E)||(p++,h<<=1,this.bitMatrix.get(m-T,E)&&(h|=1),p===8&&(l[f++]=h,p=0,h=0));u=!u}if(f!==t.getTotalCodewords())throw new fe;return l},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=gE.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r})(),vE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sb=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,u,l;if(e.length!==t.getTotalCodewords())throw new Ie;var f=t.getECBlocksForLevel(n),h=0,p=f.getECBlocks();try{for(var m=vE(p),_=m.next();!_.done;_=m.next()){var E=_.value;h+=E.getCount()}}catch(P){i={error:P}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}var T=new Array(h),S=0;try{for(var D=vE(p),V=D.next();!V.done;V=D.next())for(var E=V.value,M=0;M<E.getCount();M++){var B=E.getDataCodewords(),j=f.getECCodewordsPerBlock()+B;T[S++]=new r(B,new Uint8Array(j))}}catch(P){u={error:P}}finally{try{V&&!V.done&&(l=D.return)&&l.call(D)}finally{if(u)throw u.error}}for(var G=T[0].codewords.length,$=T.length-1;$>=0;){var C=T[$].codewords.length;if(C===G)break;$--}$++;for(var b=G-f.getECCodewordsPerBlock(),N=0,M=0;M<b;M++)for(var L=0;L<S;L++)T[L].codewords[M]=e[N++];for(var L=$;L<S;L++)T[L].codewords[b]=e[N++];for(var k=T[0].codewords.length,M=b;M<k;M++)for(var L=0;L<S;L++){var U=L<$?M:M+1;T[L].codewords[U]=e[N++]}return T},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Pr;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Pr||(Pr={}));var Rt=(function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new Ie;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Pr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Pr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Pr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Pr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Pr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Pr.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Pr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Pr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Pr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Pr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),Ib=(function(){function r(){}return r.decode=function(e,t,n,i){var a=new jA(e),u=new ke,l=new Array,f=-1,h=-1;try{var p=null,m=!1,_=void 0;do{if(a.available()<4)_=Rt.TERMINATOR;else{var E=a.readBits(4);_=Rt.forBits(E)}switch(_){case Rt.TERMINATOR:break;case Rt.FNC1_FIRST_POSITION:case Rt.FNC1_SECOND_POSITION:m=!0;break;case Rt.STRUCTURED_APPEND:if(a.available()<16)throw new fe;f=a.readBits(8),h=a.readBits(8);break;case Rt.ECI:var T=r.parseECIValue(a);if(p=cn.getCharacterSetECIByValue(T),p===null)throw new fe;break;case Rt.HANZI:var S=a.readBits(4),D=a.readBits(_.getCharacterCountBits(t));S===r.GB2312_SUBSET&&r.decodeHanziSegment(a,u,D);break;default:var V=a.readBits(_.getCharacterCountBits(t));switch(_){case Rt.NUMERIC:r.decodeNumericSegment(a,u,V);break;case Rt.ALPHANUMERIC:r.decodeAlphanumericSegment(a,u,V,m);break;case Rt.BYTE:r.decodeByteSegment(a,u,V,p,l,i);break;case Rt.KANJI:r.decodeKanjiSegment(a,u,V);break;default:throw new fe}break}}while(_!==Rt.TERMINATOR)}catch{throw new fe}return new l1(e,u.toString(),l.length===0?null:l,n===null?null:n.toString(),f,h)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new fe;for(var i=new Uint8Array(2*n),a=0;n>0;){var u=e.readBits(13),l=u/96<<8&4294967295|u%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,n--}try{t.append(kr.decode(i,Ze.GB2312))}catch(f){throw new fe(f)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new fe;for(var i=new Uint8Array(2*n),a=0;n>0;){var u=e.readBits(13),l=u/192<<8&4294967295|u%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,n--}try{t.append(kr.decode(i,Ze.SHIFT_JIS))}catch(f){throw new fe(f)}},r.decodeByteSegment=function(e,t,n,i,a,u){if(8*n>e.available())throw new fe;for(var l=new Uint8Array(n),f=0;f<n;f++)l[f]=e.readBits(8);var h;i===null?h=Ze.guessEncoding(l,u):h=i.getName();try{t.append(kr.decode(l,h))}catch(p){throw new fe(p)}a.push(l)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new fe;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new fe;var u=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(u/45))),t.append(r.toAlphaNumericChar(u%45)),n-=2}if(n===1){if(e.available()<6)throw new fe;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<t.length();l++)t.charAt(l)==="%"&&(l<t.length()-1&&t.charAt(l+1)==="%"?t.deleteCharAt(l+1):t.setCharAt(l,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new fe;var i=e.readBits(10);if(i>=1e3)throw new fe;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new fe;var a=e.readBits(7);if(a>=100)throw new fe;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new fe;var u=e.readBits(4);if(u>=10)throw new fe;t.append(r.toAlphaNumericChar(u))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new fe},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),qA=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r})(),mE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cb=(function(){function r(){this.rsDecoder=new c1(or.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Vi.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new Tb(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(u){i=u}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new qA(!0)),a}catch(u){throw i!==null?i:u}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,u,l=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=Sb.getDataBlocks(h,l,f),m=0;try{for(var _=mE(p),E=_.next();!E.done;E=_.next()){var T=E.value;m+=T.getNumDataCodewords()}}catch($){n={error:$}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}var S=new Uint8Array(m),D=0;try{for(var V=mE(p),M=V.next();!M.done;M=V.next()){var T=M.value,B=T.getCodewords(),j=T.getNumDataCodewords();this.correctErrors(B,j);for(var G=0;G<j;G++)S[D++]=B[G]}}catch($){a={error:$}}finally{try{M&&!M.done&&(u=V.return)&&u.call(V)}finally{if(a)throw a.error}}return Ib.decode(S,l,f,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new xn}for(var i=0;i<t;i++)e[i]=n[i]},r})(),bb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Rb=(function(r){bb(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,u=(this.getY()+t)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,u,l)},e})(_e),Db=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ob=(function(){function r(e,t,n,i,a,u,l){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=u,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,u=new Int32Array(3),l=this.image,f=0;f<t;f++){var h=a+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));u[0]=0,u[1]=0,u[2]=0;for(var p=e;p<i&&!l.get(p,h);)p++;for(var m=0;p<i;){if(l.get(p,h))if(m===1)u[1]++;else if(m===2){if(this.foundPatternCross(u)){var _=this.handlePossibleCenter(u,h,p);if(_!==null)return _}u[0]=u[2],u[1]=1,u[2]=0,m=1}else u[++m]++;else m===1&&m++,u[m]++;p++}if(this.foundPatternCross(u)){var _=this.handlePossibleCenter(u,h,i);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,u=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var f=e;f>=0&&a.get(t,f)&&l[1]<=n;)l[1]++,f--;if(f<0||l[1]>n)return NaN;for(;f>=0&&!a.get(t,f)&&l[0]<=n;)l[0]++,f--;if(l[0]>n)return NaN;for(f=e+1;f<u&&a.get(t,f)&&l[1]<=n;)l[1]++,f++;if(f===u||l[1]>n)return NaN;for(;f<u&&!a.get(t,f)&&l[2]<=n;)l[2]++,f++;if(l[2]>n)return NaN;var h=l[0]+l[1]+l[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(l)?r.centerFromEnd(l,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,u=e[0]+e[1]+e[2],l=r.centerFromEnd(e,n),f=this.crossCheckVertical(t,l,2*e[1],u);if(!isNaN(f)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=Db(this.possibleCenters),m=p.next();!m.done;m=p.next()){var _=m.value;if(_.aboutEquals(h,f,l))return _.combineEstimate(f,l,h)}}catch(T){i={error:T}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var E=new Rb(l,f,h);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null},r})(),Nb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Mb=(function(r){Nb(e,r);function e(t,n,i,a){var u=r.call(this,t,n)||this;return u.estimatedModuleSize=i,u.count=a,a===void 0&&(u.count=1),u}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,u=(this.count*this.getX()+n)/a,l=(this.count*this.getY()+t)/a,f=(this.count*this.estimatedModuleSize+i)/a;return new e(u,l,f,a)},e})(_e),Pb=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),Ac=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vb=(function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Lt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Lt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),u=i.getWidth(),l=Math.floor(3*a/(4*r.MAX_MODULES));(l<r.MIN_SKIP||t)&&(l=r.MIN_SKIP);for(var f=!1,h=new Int32Array(5),p=l-1;p<a&&!f;p+=l){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var m=0,_=0;_<u;_++)if(i.get(_,p))(m&1)===1&&m++,h[m]++;else if((m&1)===0)if(m===4)if(r.foundPatternCross(h)){var E=this.handlePossibleCenter(h,p,_,n);if(E===!0)if(l=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var T=this.findRowSkip();T>h[2]&&(p+=T-h[2]-l,_=u-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;continue}m=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;else h[++m]++;else h[m]++;if(r.foundPatternCross(h)){var E=this.handlePossibleCenter(h,p,u,n);E===!0&&(l=h[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var S=this.selectBestPatterns();return _e.orderBestPatterns(S),new Pb(S)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,u=a/2;return Math.abs(a-e[0])<u&&Math.abs(a-e[1])<u&&Math.abs(3*a-e[2])<3*u&&Math.abs(a-e[3])<u&&Math.abs(a-e[4])<u},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),u=0,l=this.image;e>=u&&t>=u&&l.get(t-u,e-u);)a[2]++,u++;if(e<u||t<u)return!1;for(;e>=u&&t>=u&&!l.get(t-u,e-u)&&a[1]<=n;)a[1]++,u++;if(e<u||t<u||a[1]>n)return!1;for(;e>=u&&t>=u&&l.get(t-u,e-u)&&a[0]<=n;)a[0]++,u++;if(a[0]>n)return!1;var f=l.getHeight(),h=l.getWidth();for(u=1;e+u<f&&t+u<h&&l.get(t+u,e+u);)a[2]++,u++;if(e+u>=f||t+u>=h)return!1;for(;e+u<f&&t+u<h&&!l.get(t+u,e+u)&&a[3]<n;)a[3]++,u++;if(e+u>=f||t+u>=h||a[3]>=n)return!1;for(;e+u<f&&t+u<h&&l.get(t+u,e+u)&&a[4]<n;)a[4]++,u++;if(a[4]>=n)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,u=a.getHeight(),l=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(t,f);)l[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(t,f)&&l[1]<=n;)l[1]++,f--;if(f<0||l[1]>n)return NaN;for(;f>=0&&a.get(t,f)&&l[0]<=n;)l[0]++,f--;if(l[0]>n)return NaN;for(f=e+1;f<u&&a.get(t,f);)l[2]++,f++;if(f===u)return NaN;for(;f<u&&!a.get(t,f)&&l[3]<n;)l[3]++,f++;if(f===u||l[3]>=n)return NaN;for(;f<u&&a.get(t,f)&&l[4]<n;)l[4]++,f++;if(l[4]>=n)return NaN;var h=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(h-i)>=2*i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,f):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,u=a.getWidth(),l=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(f,t);)l[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(f,t)&&l[1]<=n;)l[1]++,f--;if(f<0||l[1]>n)return NaN;for(;f>=0&&a.get(f,t)&&l[0]<=n;)l[0]++,f--;if(l[0]>n)return NaN;for(f=e+1;f<u&&a.get(f,t);)l[2]++,f++;if(f===u)return NaN;for(;f<u&&!a.get(f,t)&&l[3]<n;)l[3]++,f++;if(f===u||l[3]>=n)return NaN;for(;f<u&&a.get(f,t)&&l[4]<n;)l[4]++,f++;if(l[4]>=n)return NaN;var h=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(h-i)>=i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],u=r.centerFromEnd(e,n),l=this.crossCheckVertical(t,Math.floor(u),e[2],a);if(!isNaN(l)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(l),e[2],a),!isNaN(u)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(u),e[2],a)))){for(var f=a/7,h=!1,p=this.possibleCenters,m=0,_=p.length;m<_;m++){var E=p[m];if(E.aboutEquals(f,l,u)){p[m]=E.combineEstimate(l,u,f),h=!0;break}}if(!h){var T=new Mb(u,l,f);p.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Ac(this.possibleCenters),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.getCount()>=r.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,u=0,l=this.possibleCenters.length;try{for(var f=Ac(this.possibleCenters),h=f.next();!h.done;h=f.next()){var p=h.value;p.getCount()>=r.CENTER_QUORUM&&(a++,u+=p.getEstimatedModuleSize())}}catch(S){e={error:S}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(a<3)return!1;var m=u/l,_=0;try{for(var E=Ac(this.possibleCenters),T=E.next();!T.done;T=E.next()){var p=T.value;_+=Math.abs(p.getEstimatedModuleSize()-m)}}catch(S){n={error:S}}finally{try{T&&!T.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}return _<=.05*u},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new re;var u=this.possibleCenters,l;if(a>3){var f=0,h=0;try{for(var p=Ac(this.possibleCenters),m=p.next();!m.done;m=p.next()){var _=m.value,E=_.getEstimatedModuleSize();f+=E,h+=E*E}}catch(G){e={error:G}}finally{try{m&&!m.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}l=f/a;var T=Math.sqrt(h/a-l*l);u.sort(function(G,$){var C=Math.abs($.getEstimatedModuleSize()-l),b=Math.abs(G.getEstimatedModuleSize()-l);return C<b?-1:C>b?1:0});for(var S=Math.max(.2*l,T),D=0;D<u.length&&u.length>3;D++){var V=u[D];Math.abs(V.getEstimatedModuleSize()-l)>S&&(u.splice(D,1),D--)}}if(u.length>3){var f=0;try{for(var M=Ac(u),B=M.next();!B.done;B=M.next()){var j=B.value;f+=j.getEstimatedModuleSize()}}catch($){n={error:$}}finally{try{B&&!B.done&&(i=M.return)&&i.call(M)}finally{if(n)throw n.error}}l=f/u.length,u.sort(function($,C){if(C.getCount()===$.getCount()){var b=Math.abs(C.getEstimatedModuleSize()-l),N=Math.abs($.getEstimatedModuleSize()-l);return b<N?1:b>N?-1:0}else return C.getCount()-$.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),Lb=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Lt.NEED_RESULT_POINT_CALLBACK);var t=new Vb(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new re("No pattern found in proccess finder.");var u=r.computeDimension(t,n,i,a),l=gs.getProvisionalVersionForDimension(u),f=l.getDimensionForVersion()-7,h=null;if(l.getAlignmentPatternCenters().length>0)for(var p=n.getX()-t.getX()+i.getX(),m=n.getY()-t.getY()+i.getY(),_=1-3/f,E=Math.floor(t.getX()+_*(p-t.getX())),T=Math.floor(t.getY()+_*(m-t.getY())),S=4;S<=16;S<<=1)try{h=this.findAlignmentInRegion(a,E,T,S);break}catch(B){if(!(B instanceof re))throw B}var D=r.createTransform(t,n,i,h,u),V=r.sampleGrid(this.image,D,u),M;return h===null?M=[i,t,n]:M=[i,t,n,h],new sv(V,M)},r.createTransform=function(e,t,n,i,a){var u=a-3.5,l,f,h,p;return i!==null?(l=i.getX(),f=i.getY(),h=u-3,p=h):(l=t.getX()-e.getX()+n.getX(),f=t.getY()-e.getY()+n.getY(),h=u,p=u),FA.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,h,p,3.5,u,e.getX(),e.getY(),t.getX(),t.getY(),l,f,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=uv.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=nt.round(_e.distance(e,t)/i),u=nt.round(_e.distance(e,n)/i),l=Math.floor((a+u)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new re("Dimensions could be not found.")}return l},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),u=1,l=e-(n-e);l<0?(u=e/(e-l),l=0):l>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var f=Math.floor(t-(i-t)*u);return u=1,f<0?(u=t/(t-f),f=0):f>=this.image.getHeight()&&(u=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),l=Math.floor(e+(l-e)*u),a+=this.sizeOfBlackWhiteBlackRun(e,t,l,f),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var u=e;e=t,t=u,u=n,n=i,i=u}for(var l=Math.abs(n-e),f=Math.abs(i-t),h=-l/2,p=e<n?1:-1,m=t<i?1:-1,_=0,E=n+p,T=e,S=t;T!==E;T+=p){var D=a?S:T,V=a?T:S;if(_===1===this.image.get(D,V)){if(_===2)return nt.distance(T,S,e,t);_++}if(h+=f,h>0){if(S===i)break;S+=m,h-=l}}return _===2?nt.distance(n+p,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),u=Math.max(0,t-a),l=Math.min(this.image.getWidth()-1,t+a);if(l-u<e*3)throw new re("Alignment top exceeds estimated module size.");var f=Math.max(0,n-a),h=Math.min(this.image.getHeight()-1,n+a);if(h-f<e*3)throw new re("Alignment bottom exceeds estimated module size.");var p=new Ob(this.image,u,f,l-u,h-f,e,this.resultPointCallback);return p.find()},r})(),mg=(function(){function r(){this.decoder=new Cb}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Lt.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var u=new Lb(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(u.getBits(),t),i=u.getPoints()}n.getOther()instanceof qA&&n.getOther().applyMirroredCorrection(i);var l=new zn(n.getText(),n.getRawBytes(),void 0,i,Se.QR_CODE,void 0),f=n.getByteSegments();f!==null&&l.putMetadata(Mn.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!==null&&l.putMetadata(Mn.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(l.putMetadata(Mn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Mn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new re;var i=this.moduleSize(t,e),a=t[1],u=n[1],l=t[0],f=n[0];if(l>=f||a>=u)throw new re;if(u-a!==f-l&&(f=l+(u-a),f>=e.getWidth()))throw new re;var h=Math.round((f-l+1)/i),p=Math.round((u-a+1)/i);if(h<=0||p<=0)throw new re;if(p!==h)throw new re;var m=Math.floor(i/2);a+=m,l+=m;var _=l+Math.floor((h-1)*i)-f;if(_>0){if(_>m)throw new re;l-=_}var E=a+Math.floor((p-1)*i)-u;if(E>0){if(E>m)throw new re;a-=E}for(var T=new Vi(h,p),S=0;S<p;S++)for(var D=a+Math.floor(S*i),V=0;V<h;V++)e.get(l+Math.floor(V*i),D)&&T.set(V,S);return T},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],u=e[1],l=!0,f=0;a<i&&u<n;){if(l!==t.get(a,u)){if(++f===5)break;l=!l}a++,u++}if(a===i||u===n)throw new re;return(a-e[0])/7},r.NO_POINTS=new Array,r})(),Bb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return nt.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var u=Bb(e),l=u.next();!l.done;l=u.next()){var f=l.value;i[a++]=f}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=fn.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),kb=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Fb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ub=(function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new kb(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,u=0,l=0,f=!1;u<t.getHeight();){var h=r.findVertices(t,u,l);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,l=0;try{for(var p=(n=void 0,Fb(a)),m=p.next();!m.done;m=p.next()){var _=m.value;_[1]!=null&&(u=Math.trunc(Math.max(u,_[1].getY()))),_[3]!=null&&(u=Math.max(u,Math.trunc(_[3].getY())))}}catch(E){n={error:E}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}u+=r.ROW_STEP;continue}if(f=!0,a.push(h),!e)break;h[2]!=null?(l=Math.trunc(h[2].getX()),u=Math.trunc(h[2].getY())):(l=Math.trunc(h[4].getX()),u=Math.trunc(h[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),u=new Array(8);return r.copyToResult(u,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),u[4]!=null&&(n=Math.trunc(u[4].getX()),t=Math.trunc(u[4].getY())),r.copyToResult(u,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),u},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,u){for(var l=new Array(4),f=!1,h=new Int32Array(u.length);i<t;i+=r.ROW_STEP){var p=r.findGuardPattern(e,a,i,n,!1,u,h);if(p!=null){for(;i>0;){var m=r.findGuardPattern(e,a,--i,n,!1,u,h);if(m!=null)p=m;else{i++;break}}l[0]=new _e(p[0],i),l[1]=new _e(p[1],i),f=!0;break}}var _=i+1;if(f){for(var E=0,m=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);_<t;_++){var p=r.findGuardPattern(e,m[0],_,n,!1,u,h);if(p!=null&&Math.abs(m[0]-p[0])<r.MAX_PATTERN_DRIFT&&Math.abs(m[1]-p[1])<r.MAX_PATTERN_DRIFT)m=p,E=0;else{if(E>r.SKIPPED_ROW_COUNT_MAX)break;E++}}_-=E+1,l[2]=new _e(m[0],_),l[3]=new _e(m[1],_)}return _-i<r.BARCODE_MIN_HEIGHT&&fn.fill(l,null),l},r.findGuardPattern=function(e,t,n,i,a,u,l){fn.fillWithin(l,0,l.length,0);for(var f=t,h=0;e.get(f,n)&&f>0&&h++<r.MAX_PIXEL_DRIFT;)f--;for(var p=f,m=0,_=u.length,E=a;p<i;p++){var T=e.get(p,n);if(T!==E)l[m]++;else{if(m===_-1){if(r.patternMatchVariance(l,u,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([f,p]);f+=l[0]+l[1],St.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,E=!E}}return m===_-1&&r.patternMatchVariance(l,u,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([f,p-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,u=0,l=0;l<i;l++)a+=e[l],u+=t[l];if(a<u)return 1/0;var f=a/u;n*=f;for(var h=0,p=0;p<i;p++){var m=e[p],_=t[p]*f,E=m>_?m-_:_-m;if(E>n)return 1/0;h+=E}return h/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),zb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hs=(function(){function r(e,t){if(t.length===0)throw new Ie;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),St.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=zb(this.coefficients),u=a.next();!u.done;u=a.next()){var l=u.value;i=this.field.add(i,l)}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var f=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)f=this.field.add(this.field.multiply(e,f),this.coefficients[p]);return f},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),u=n.length-t.length;St.arraycopy(n,0,a,0,u);for(var l=u;l<n.length;l++)a[l]=this.field.add(t[l-u],n[l]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,u=new Int32Array(n+a-1),l=0;l<n;l++)for(var f=t[l],h=0;h<a;h++)u[l+h]=this.field.add(u[l+h],this.field.multiply(f,i[h]));return new r(this.field,u)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ie;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new ke,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r})(),Hb=(function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ie;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new kA;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),jb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Gb=(function(r){jb(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,u=0;u<t;u++)i.expTable[u]=a,a=a*n%t;for(var u=0;u<t-1;u++)i.logTable[i.expTable[u]]=u;return i.zero=new hs(i,new Int32Array([0])),i.one=new hs(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Ie;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new hs(this,i)},e.PDF417_GF=new e(Je.NUMBER_OF_CODEWORDS,3),e})(Hb),qb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xb=(function(){function r(){this.field=Gb.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,u=new hs(this.field,e),l=new Int32Array(t),f=!1,h=t;h>0;h--){var p=u.evaluateAt(this.field.exp(h));l[t-h]=p,p!==0&&(f=!0)}if(!f)return 0;var m=this.field.getOne();if(n!=null)try{for(var _=qb(n),E=_.next();!E.done;E=_.next()){var T=E.value,S=this.field.exp(e.length-1-T),D=new hs(this.field,new Int32Array([this.field.subtract(0,S),1]));m=m.multiply(D)}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}for(var V=new hs(this.field,l),M=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),V,t),B=M[0],j=M[1],G=this.findErrorLocations(B),$=this.findErrorMagnitudes(j,B,G),h=0;h<G.length;h++){var C=e.length-1-this.field.log(G[h]);if(C<0)throw xn.getChecksumInstance();e[C]=this.field.subtract(e[C],$[h])}return G.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,u=t,l=this.field.getZero(),f=this.field.getOne();u.getDegree()>=Math.round(n/2);){var h=a,p=l;if(a=u,l=f,a.isZero())throw xn.getChecksumInstance();u=h;for(var m=this.field.getZero(),_=a.getCoefficient(a.getDegree()),E=this.field.inverse(_);u.getDegree()>=a.getDegree()&&!u.isZero();){var T=u.getDegree()-a.getDegree(),S=this.field.multiply(u.getCoefficient(u.getDegree()),E);m=m.add(this.field.buildMonomial(T,S)),u=u.subtract(a.multiplyByMonomial(T,S))}f=m.multiply(l).subtract(p).negative()}var D=f.getCoefficient(0);if(D===0)throw xn.getChecksumInstance();var V=this.field.inverse(D),M=f.multiply(V),B=u.multiply(V);return[M,B]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw xn.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),u=1;u<=i;u++)a[i-u]=this.field.multiply(u,t.getCoefficient(u));for(var l=new hs(this.field,a),f=n.length,h=new Int32Array(f),u=0;u<f;u++){var p=this.field.inverse(n[u]),m=this.field.subtract(0,e.evaluateAt(p)),_=this.field.inverse(l.evaluateAt(p));h[u]=this.field.multiply(m,_)}return h},r})(),yg=(function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var u=t==null||n==null,l=i==null||a==null;if(u&&l)throw new re;u?(t=new _e(0,i.getY()),n=new _e(0,a.getY())):l&&(i=new _e(e.getWidth()-1,t.getY()),a=new _e(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,u=this.topRight,l=this.bottomRight;if(e>0){var f=n?this.topLeft:this.topRight,h=Math.trunc(f.getY()-e);h<0&&(h=0);var p=new _e(f.getX(),h);n?i=p:u=p}if(t>0){var m=n?this.bottomLeft:this.bottomRight,_=Math.trunc(m.getY()+t);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);var E=new _e(m.getX(),_);n?a=E:l=E}return new r(this.image,i,a,u,l)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),Kb=(function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),cv=(function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(u,l,f,h,p,m){if(u==="%%")return"%";if(t[++n]!==void 0){u=h?parseInt(h.substr(1)):void 0;var _=p?parseInt(p.substr(1)):void 0,E;switch(m){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(u);break;case"p":E=parseFloat(t[n]).toPrecision(u);break;case"e":E=parseFloat(t[n]).toExponential(u);break;case"x":E=parseInt(t[n]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[n],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var T=parseInt(f),S=f&&f[0]+""=="0"?"0":" ";E.length<T;)E=l!==void 0?E+S:S+E;return E}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r})(),Yb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XA=(function(){function r(e){this.boundingBox=new yg(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new cv,i=0;try{for(var a=Yb(this.codewords),u=a.next();!u.done;u=a.next()){var l=u.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),Wb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qb=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){u={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(u)throw u.error}}return a},Nc=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(m,_){var E={getKey:function(){return m},getValue:function(){return _}};E.getValue()>n?(n=E.getValue(),i=[],i.push(E.getKey())):E.getValue()===n&&i.push(E.getKey())};try{for(var u=Wb(this.values.entries()),l=u.next();!l.done;l=u.next()){var f=Qb(l.value,2),h=f[0],p=f[1];a(h,p)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return Je.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),Zb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Gp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yE=(function(r){Zb(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=Gp(this.getCodewords()),a=i.next();!a.done;a=i.next()){var u=a.value;u?.setRowNumberAsRowIndicatorColumn()}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),h=-1,p=1,m=0,_=l;_<f;_++)if(n[_]!=null){var E=n[_],T=E.getRowNumber()-h;if(T===0)m++;else if(T===1)p=Math.max(p,m),m=1,h=E.getRowNumber();else if(T<0||E.getRowNumber()>=t.getRowCount()||T>_)n[_]=null;else{var S=void 0;p>2?S=(p-2)*T:S=T;for(var D=S>=_,V=1;V<=S&&!D;V++)D=n[_-V]!=null;D?n[_]=null:(h=E.getRowNumber(),m=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var u=Gp(this.getCodewords()),l=u.next();!l.done;l=u.next()){var f=l.value;if(f!=null){var h=f.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),h=-1,p=u;p<l;p++)if(f[p]!=null){var m=f[p];m.setRowNumberAsRowIndicatorColumn();var _=m.getRowNumber()-h;_===0||(_===1?h=m.getRowNumber():m.getRowNumber()>=t.getRowCount()?f[p]=null:h=m.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new Nc,u=new Nc,l=new Nc,f=new Nc;try{for(var h=Gp(i),p=h.next();!p.done;p=h.next()){var m=p.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var _=m.getValue()%30,E=m.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:u.setValue(_*3+1);break;case 1:f.setValue(_/3),l.setValue(_%3);break;case 2:a.setValue(_+1);break}}}}catch(S){t={error:S}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||u.getValue().length===0||l.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||u.getValue()[0]+l.getValue()[0]<Je.MIN_ROWS_IN_BARCODE||u.getValue()[0]+l.getValue()[0]>Je.MAX_ROWS_IN_BARCODE)return null;var T=new Kb(a.getValue()[0],u.getValue()[0],l.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,T),T},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var u=a.getValue()%30,l=a.getRowNumber();if(l>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:u*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(u/3)!==n.getErrorCorrectionLevel()||u%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:u+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(XA),$b=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jb=(function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Je.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,u=this.barcodeColumnCount+1;u>0&&a<this.ADJUST_ROW_NUMBER_SKIP;u--){var l=this.detectionResultColumns[u].getCodewords()[n];l!=null&&(a=r.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,u=1;u<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;u++){var l=this.detectionResultColumns[u].getCodewords()[n];l!=null&&(a=r.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var u=n[t],l=this.detectionResultColumns[e-1].getCodewords(),f=l;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=l[t],h[3]=f[t],t>0&&(h[0]=n[t-1],h[4]=l[t-1],h[5]=f[t-1]),t>1&&(h[8]=n[t-2],h[10]=l[t-2],h[11]=f[t-2]),t<n.length-1&&(h[1]=n[t+1],h[6]=l[t+1],h[7]=f[t+1]),t<n.length-2&&(h[9]=n[t+2],h[12]=l[t+2],h[13]=f[t+2]);try{for(var p=$b(h),m=p.next();!m.done;m=p.next()){var _=m.value;if(r.adjustRowNumber(u,_))return}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new cv,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r})(),e8=(function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),t8=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Je.SYMBOL_TABLE.length;e++)for(var t=Je.SYMBOL_TABLE[e],n=t&1,i=0;i<Je.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Je.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Je.BARS_IN_MODULE-i-1]=Math.fround(a/Je.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=nt.sum(e),n=new Int32Array(Je.BARS_IN_MODULE),i=0,a=0,u=0;u<Je.MODULES_IN_CODEWORD;u++){var l=t/(2*Je.MODULES_IN_CODEWORD)+u*t/Je.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Je.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=nt.sum(e),n=new Array(Je.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=hg.MAX_VALUE,u=-1;this.bSymbolTableReady||r.initialize();for(var l=0;l<r.RATIOS_TABLE.length;l++){for(var f=0,h=r.RATIOS_TABLE[l],p=0;p<Je.BARS_IN_MODULE;p++){var m=Math.fround(h[p]-n[p]);if(f+=Math.fround(m*m),f>=a)break}f<a&&(a=f,u=Je.SYMBOL_TABLE[l])}return u},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Je.SYMBOL_TABLE.length).map(function(e){return new Array(Je.BARS_IN_MODULE)}),r})(),n8=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),_E=(function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r})(),r8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),i8=(function(r){r8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ur),a8=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new i8;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new av;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),o8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),s8=(function(r){o8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(ur),u8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),l8=(function(r){u8(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new Ie("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new s8;i=Ue.MAX_VALUE}this.buf=fn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new av;this.ensureCapacity(this.count+i),St.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return fn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(a8),wt;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function KA(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var id;function Ja(r){if(typeof id>"u"&&(id=KA()),id===null)throw new Error("BigInt is not supported!");return id(r)}function c8(){var r=[];r[0]=Ja(1);var e=Ja(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var f8=(function(){function r(){}return r.decode=function(e,t){var n=new ke(""),i=cn.ISO8859_1;n.enableDecoding(i);for(var a=1,u=e[a++],l=new n8;a<e[0];){switch(u){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(u,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:cn.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,l);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new fe;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)u=e[a++];else throw fe.getFormatInstance()}if(n.length()===0)throw fe.getFormatInstance();var f=new l1(null,n.toString(),null,t);return f.setOther(l),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw fe.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(Ue.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var u=new ke;t=r.textCompaction(e,t,u),n.setFileId(u.toString());var l=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new ke;t=r.textCompaction(e,t+1,f),n.setFileName(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new ke;t=r.textCompaction(e,t+1,h),n.setSender(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new ke;t=r.textCompaction(e,t+1,p),n.setAddressee(p.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new ke;t=r.numericCompaction(e,t+1,m),n.setSegmentCount(Ue.parseInt(m.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var _=new ke;t=r.numericCompaction(e,t+1,_),n.setTimestamp(_E.parseLong(_.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var E=new ke;t=r.numericCompaction(e,t+1,E),n.setChecksum(Ue.parseInt(E.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var T=new ke;t=r.numericCompaction(e,t+1,T),n.setFileSize(_E.parseLong(T.toString()));break;default:throw fe.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(l!==-1){var S=t-l;n.isLastSegment()&&S--,n.setOptionalData(fn.copyOfRange(e,l,l+S))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),u=0,l=!1;t<e[0]&&!l;){var f=e[t++];if(f<r.TEXT_COMPACTION_MODE_LATCH)i[u]=f/30,i[u+1]=f%30,u+=2;else switch(f){case r.TEXT_COMPACTION_MODE_LATCH:i[u++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[u]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],a[u]=f,u++;break}}return r.decodeTextCompaction(i,a,u,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=wt.ALPHA,u=wt.ALPHA,l=0;l<n;){var f=e[l],h="";switch(a){case wt.ALPHA:if(f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.LL:a=wt.LOWER;break;case r.ML:a=wt.MIXED;break;case r.PS:u=a,a=wt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.LOWER:if(f<26)h=String.fromCharCode(97+f);else switch(f){case 26:h=" ";break;case r.AS:u=a,a=wt.ALPHA_SHIFT;break;case r.ML:a=wt.MIXED;break;case r.PS:u=a,a=wt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.MIXED:if(f<r.PL)h=r.MIXED_CHARS[f];else switch(f){case r.PL:a=wt.PUNCT;break;case 26:h=" ";break;case r.LL:a=wt.LOWER;break;case r.AL:a=wt.ALPHA;break;case r.PS:u=a,a=wt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.PUNCT:if(f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:a=wt.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(a=u,f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(a=u,f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:a=wt.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=wt.ALPHA;break}break}h!==""&&i.append(h),l++}},r.byteCompaction=function(e,t,n,i,a){var u=new l8,l=0,f=0,h=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),m=t[i++];i<t[0]&&!h;)switch(p[l++]=m,f=900*f+m,m=t[i++],m){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(l%5===0&&l>0){for(var _=0;_<6;++_)u.write(Number(Ja(f)>>Ja(8*(5-_))));f=0,l=0}break}i===t[0]&&m<r.TEXT_COMPACTION_MODE_LATCH&&(p[l++]=m);for(var E=0;E<l;E++)u.write(p[E]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var T=t[i++];if(T<r.TEXT_COMPACTION_MODE_LATCH)l++,f=900*f+T;else switch(T){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(l%5===0&&l>0){for(var _=0;_<6;++_)u.write(Number(Ja(f)>>Ja(8*(5-_))));f=0,l=0}}break}return a.append(kr.decode(u.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,u=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var l=e[t++];if(t===e[0]&&(a=!0),l<r.TEXT_COMPACTION_MODE_LATCH)u[i]=l,i++;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||l===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(u,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=Ja(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*Ja(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new fe;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=KA()?c8():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),wc=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h8=(function(){function r(){}return r.decode=function(e,t,n,i,a,u,l){for(var f=new yg(e,t,n,i,a),h=null,p=null,m,_=!0;;_=!1){if(t!=null&&(h=r.getRowIndicatorColumn(e,f,t,!0,u,l)),i!=null&&(p=r.getRowIndicatorColumn(e,f,i,!1,u,l)),m=r.merge(h,p),m==null)throw re.getNotFoundInstance();var E=m.getBoundingBox();if(_&&E!=null&&(E.getMinY()<f.getMinY()||E.getMaxY()>f.getMaxY()))f=E;else break}m.setBoundingBox(f);var T=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,h),m.setDetectionResultColumn(T,p);for(var S=h!=null,D=1;D<=T;D++){var V=S?D:T-D;if(m.getDetectionResultColumn(V)===void 0){var M=void 0;V===0||V===T?M=new yE(f,V===0):M=new XA(f),m.setDetectionResultColumn(V,M);for(var B=-1,j=B,G=f.getMinY();G<=f.getMaxY();G++){if(B=r.getStartColumn(m,V,G,S),B<0||B>f.getMaxX()){if(j===-1)continue;B=j}var $=r.detectCodeword(e,f.getMinX(),f.getMaxX(),S,B,G,u,l);$!=null&&(M.setCodeword(G,$),j=B,u=Math.min(u,$.getWidth()),l=Math.max(l,$.getWidth()))}}}return r.createDecoderResult(m)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=yg.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new Jb(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),u=0;try{for(var l=wc(i),f=l.next();!f.done;f=l.next()){var h=f.value;if(u+=a-h,h>0)break}}catch(E){t={error:E}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),m=0;u>0&&p[m]==null;m++)u--;for(var _=0,m=i.length-1;m>=0&&(_+=a-i[m],!(i[m]>0));m--);for(var m=p.length-1;_>0&&p[m]==null;m--)_--;return e.getBoundingBox().addMissingRows(u,_,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=wc(e),u=a.next();!u.done;u=a.next()){var l=u.value;i=Math.max(i,l)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,u){for(var l=new yE(t,i),f=0;f<2;f++)for(var h=f===0?1:-1,p=Math.trunc(Math.trunc(n.getX())),m=Math.trunc(Math.trunc(n.getY()));m<=t.getMaxY()&&m>=t.getMinY();m+=h){var _=r.detectCodeword(e,0,e.getWidth(),i,p,m,a,u);_!=null&&(l.setCodeword(m,_),i?p=_.getStartX():p=_.getEndX())}return l},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Je.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],u=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var f=0;f<e.getBarcodeColumnCount();f++){var h=t[l][f+1].getValue(),p=l*e.getBarcodeColumnCount()+f;h.length===0?n.push(p):h.length===1?i[p]=h[0]:(u.push(p),a.push(h))}for(var m=new Array(a.length),_=0;_<m.length;_++)m[_]=a[_];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Je.toIntArray(n),Je.toIntArray(u),m)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var u=new Int32Array(i.length),l=100;l-- >0;){for(var f=0;f<u.length;f++)t[i[f]]=a[f][u[f]];try{return r.decodeCodewords(t,e,n)}catch(p){var h=p instanceof xn;if(!h)throw p}if(u.length===0)throw xn.getChecksumInstance();for(var f=0;f<u.length;f++)if(u[f]<a[f].length-1){u[f]++;break}else if(u[f]=0,f===u.length-1)throw xn.getChecksumInstance()}throw xn.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,u=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<u.length;l++)for(var f=0;f<u[l].length;f++)u[l][f]=new Nc;var h=0;try{for(var p=wc(e.getDetectionResultColumns()),m=p.next();!m.done;m=p.next()){var _=m.value;if(_!=null)try{for(var E=(i=void 0,wc(_.getCodewords())),T=E.next();!T.done;T=E.next()){var S=T.value;if(S!=null){var D=S.getRowNumber();if(D>=0){if(D>=u.length)continue;u[D][h].setValue(S.getValue())}}}}catch(V){i={error:V}}finally{try{T&&!T.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}h++}}catch(V){t={error:V}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return u},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,u,l=i?1:-1,f=null;if(r.isValidBarcodeColumn(e,t-l)&&(f=e.getDetectionResultColumn(t-l).getCodeword(n)),f!=null)return i?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(t).getCodewordNearby(n),f!=null)return i?f.getStartX():f.getEndX();if(r.isValidBarcodeColumn(e,t-l)&&(f=e.getDetectionResultColumn(t-l).getCodewordNearby(n)),f!=null)return i?f.getEndX():f.getStartX();for(var h=0;r.isValidBarcodeColumn(e,t-l);){t-=l;try{for(var p=(a=void 0,wc(e.getDetectionResultColumn(t).getCodewords())),m=p.next();!m.done;m=p.next()){var _=m.value;if(_!=null)return(i?_.getEndX():_.getStartX())+l*h*(_.getEndX()-_.getStartX())}}catch(E){a={error:E}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,u,l,f){a=r.adjustCodewordStartColumn(e,t,n,i,a,u);var h=r.getModuleBitCount(e,t,n,i,a,u);if(h==null)return null;var p,m=nt.sum(h);if(i)p=a+m;else{for(var _=0;_<h.length/2;_++){var E=h[_];h[_]=h[h.length-1-_],h[h.length-1-_]=E}p=a,a=p-m}if(!r.checkCodewordSkew(m,l,f))return null;var T=t8.getDecodedValue(h),S=Je.getCodeword(T);return S===-1?null:new e8(a,p,r.getCodewordBucketNumber(T),S)},r.getModuleBitCount=function(e,t,n,i,a,u){for(var l=a,f=new Int32Array(8),h=0,p=i?1:-1,m=i;(i?l<n:l>=t)&&h<f.length;)e.get(l,u)===m?(f[h]++,l+=p):(h++,m=!m);return h===f.length||l===(i?n:t)&&h===f.length-1?f:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,u){for(var l=a,f=i?-1:1,h=0;h<2;h++){for(;(i?l>=t:l<n)&&i===e.get(l,u);){if(Math.abs(a-l)>r.CODEWORD_SKEW_SIZE)return a;l+=f}f=-f,i=!i}return l},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw fe.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var u=f8.decode(e,""+t);return u.setErrorsCorrected(a),u.setErasures(n.length),u},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw xn.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw fe.getFormatInstance();var n=e[0];if(n>e.length)throw fe.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw fe.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new cv,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Xb,r})(),d8=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_g=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw re.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof fe||n instanceof xn?re.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,u=new Array,l=Ub.detectMultiple(e,t,n);try{for(var f=d8(l.getPoints()),h=f.next();!h.done;h=f.next()){var p=h.value,m=h8.decode(l.getBits(),p[4],p[5],p[6],p[7],r.getMinCodewordWidth(p),r.getMaxCodewordWidth(p)),_=new zn(m.getText(),m.getRawBytes(),void 0,p,Se.PDF_417);_.putMetadata(Mn.ERROR_CORRECTION_LEVEL,m.getECLevel());var E=m.getOther();E!=null&&_.putMetadata(Mn.PDF417_EXTRA_METADATA,E),u.push(_)}}catch(T){i={error:T}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return u.map(function(T){return T})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Ue.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),p8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),EE=(function(r){p8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(ur),xE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g8=(function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Lt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Lt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(u){return u===Se.UPC_A||u===Se.UPC_E||u===Se.EAN_13||u===Se.EAN_8||u===Se.CODABAR||u===Se.CODE_39||u===Se.CODE_93||u===Se.CODE_128||u===Se.ITF||u===Se.RSS_14||u===Se.RSS_EXPANDED});a&&!t&&i.push(new Oc(e)),n.includes(Se.QR_CODE)&&i.push(new mg),n.includes(Se.DATA_MATRIX)&&i.push(new vg),n.includes(Se.AZTEC)&&i.push(new pg),n.includes(Se.PDF_417)&&i.push(new _g),a&&t&&i.push(new Oc(e))}i.length===0&&(t||i.push(new Oc(e)),i.push(new mg),i.push(new vg),i.push(new pg),i.push(new _g),t&&i.push(new Oc(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=xE(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new EE("No readers where selected, nothing can be read.");try{for(var i=xE(this.readers),a=i.next();!a.done;a=i.next()){var u=a.value;try{return u.decode(e,this.hints)}catch(l){if(l instanceof EE)continue}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new re("No MultiFormat Readers were able to detect the code.")},r})(),v8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),m8=(function(r){v8(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new g8;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(ul),y8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){y8(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new _g,t)||this}return e})(ul);var _8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){_8(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new mg,t)||this}return e})(ul);var Eg;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(Eg||(Eg={}));const ad=Eg;var YA=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new so(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var u=n.multiply(new so(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(u),n=u}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new Ie("No error correction bytes");var n=e.length-t;if(n<=0)throw new Ie("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);St.arraycopy(e,0,a,0,n);var u=new so(this.field,a);u=u.multiplyByMonomial(t,1);for(var l=u.divide(i)[1],f=l.getCoefficients(),h=t-f.length,p=0;p<h;p++)e[n+p]=0;St.arraycopy(f,0,e,n+h,f.length)},r})(),Mc=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),u=0;u<a-1;u++)for(var l=n[u],f=0;f<i-1;f++){var h=l[f];h===l[f+1]&&h===n[u+1][f]&&h===n[u+1][f+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),u=0;u<a;u++)for(var l=0;l<i;l++){var f=n[u];l+6<i&&f[l]===1&&f[l+1]===0&&f[l+2]===1&&f[l+3]===1&&f[l+4]===1&&f[l+5]===0&&f[l+6]===1&&(r.isWhiteHorizontal(f,l-4,l)||r.isWhiteHorizontal(f,l+7,l+11))&&t++,u+6<a&&n[u][l]===1&&n[u+1][l]===0&&n[u+2][l]===1&&n[u+3][l]===1&&n[u+4][l]===1&&n[u+5][l]===0&&n[u+6][l]===1&&(r.isWhiteVertical(n,l,u-4,u)||r.isWhiteVertical(n,l,u+7,u+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),u=0;u<a;u++)for(var l=n[u],f=0;f<i;f++)l[f]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new Ie("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),u=e.getArray(),l=0;l<i;l++){for(var f=0,h=-1,p=0;p<a;p++){var m=t?u[l][p]:u[p][l];m===h?f++:(f>=5&&(n+=r.N1+(f-5)),f=1,h=m)}f>=5&&(n+=r.N1+(f-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),E8=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x8=(function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=E8(this.bytes),a=i.next();!a.done;a=i.next()){var u=a.value;fn.fill(u,e)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],u=t.bytes[n],l=0,f=this.width;l<f;++l)if(a[l]!==u[l])return!1;return!0},r.prototype.toString=function(){for(var e=new ke,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,u=this.width;a<u;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),xg=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),A8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),bt=(function(r){A8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(ur),AE=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new An;r.makeTypeInfoBits(e,t,i);for(var a=0,u=i.getSize();a<u;++a){var l=i.get(i.getSize()-1-a),f=r.TYPE_INFO_COORDINATES[a],h=f[0],p=f[1];if(n.setBoolean(h,p,l),a<8){var m=n.getWidth()-a-1,_=8;n.setBoolean(m,_,l)}else{var m=8,_=n.getHeight()-7+(a-8);n.setBoolean(m,_,l)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new An;r.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var u=0;u<3;++u){var l=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+u,l),t.setBoolean(t.getHeight()-11+u,a,l)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,u=n.getWidth()-1,l=n.getHeight()-1;u>0;){for(u===6&&(u-=1);l>=0&&l<n.getHeight();){for(var f=0;f<2;++f){var h=u-f;if(r.isEmpty(n.get(h,l))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&Mc.getDataMaskBit(t,h,l)&&(p=!p),n.setBoolean(h,l,p)}}l+=a}a=-a,l+=a,u-=2}if(i!==e.getSize())throw new bt("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Ue.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new Ie("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!xg.isValidMaskPattern(t))throw new bt("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var u=new An;if(u.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(u),n.getSize()!==15)throw new bt("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new bt("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new bt;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new bt;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new bt;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],u=0;u<5;++u)n.setNumber(e+u,t+i,a[u])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],u=0;u<7;++u)n.setNumber(e+u,t+i,a[u])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,u=i.length;a!==u;a++){var l=i[a];if(l>=0)for(var f=0;f!==u;f++){var h=i[f];h>=0&&r.isEmpty(t.get(h,l))&&r.embedPositionAdjustmentPattern(h-2,l-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),w8=(function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),wE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return Mc.applyMaskPenaltyRule1(e)+Mc.applyMaskPenaltyRule2(e)+Mc.applyMaskPenaltyRule3(e)+Mc.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(ad.CHARACTER_SET)!==void 0;a&&(i=n.get(ad.CHARACTER_SET).toString());var u=this.chooseMode(e,i),l=new An;if(u===Rt.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var f=cn.getCharacterSetECIByName(i);f!==void 0&&this.appendECI(f,l)}this.appendModeInfo(u,l);var h=new An;this.appendBytes(e,u,h,i);var p;if(n!==null&&n.get(ad.QR_VERSION)!==void 0){var m=Number.parseInt(n.get(ad.QR_VERSION).toString(),10);p=gs.getVersionForNumber(m);var _=this.calculateBitsNeeded(u,l,h,p);if(!this.willFit(_,p,t))throw new bt("Data too big for requested version")}else p=this.recommendVersion(t,u,l,h);var E=new An;E.appendBitArray(l);var T=u===Rt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(T,p,u,E),E.appendBitArray(h);var S=p.getECBlocksForLevel(t),D=p.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(D,E);var V=this.interleaveWithECBytes(E,p.getTotalCodewords(),D,S.getNumBlocks()),M=new xg;M.setECLevel(t),M.setMode(u),M.setVersion(p);var B=p.getDimensionForVersion(),j=new x8(B,B),G=this.chooseMaskPattern(V,t,p,j);return M.setMaskPattern(G),AE.buildMatrix(V,t,p,G,j),M.setMatrix(j),M},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,gs.getVersionForNumber(1)),u=this.chooseVersion(a,e),l=this.calculateBitsNeeded(t,n,i,u);return this.chooseVersion(l,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),cn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Rt.KANJI;for(var n=!1,i=!1,a=0,u=e.length;a<u;++a){var l=e.charAt(a);if(r.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Rt.BYTE}return i?Rt.ALPHANUMERIC:n?Rt.NUMERIC:Rt.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=kr.encode(e,cn.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,u=-1,l=0;l<xg.NUM_MASK_PATTERNS;l++){AE.buildMatrix(e,t,n,l,i);var f=this.calculateMaskPenalty(i);f<a&&(a=f,u=l)}return u},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=gs.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new bt("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),u=a.getTotalECCodewords(),l=i-u,f=(e+7)/8;return l>=f},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new bt("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var u=e-t.getSizeInBytes(),i=0;i<u;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new bt("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,u){if(i>=n)throw new bt("Block ID too large");var l=e%n,f=n-l,h=Math.floor(e/n),p=h+1,m=Math.floor(t/n),_=m+1,E=h-m,T=p-_;if(E!==T)throw new bt("EC bytes mismatch");if(n!==f+l)throw new bt("RS blocks mismatch");if(e!==(m+E)*f+(_+T)*l)throw new bt("Total bytes mismatch");i<f?(a[0]=m,u[0]=E):(a[0]=_,u[0]=T)},r.interleaveWithECBytes=function(e,t,n,i){var a,u,l,f;if(e.getSizeInBytes()!==n)throw new bt("Number of bits and data bytes does not match");for(var h=0,p=0,m=0,_=new Array,E=0;E<i;++E){var T=new Int32Array(1),S=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,E,T,S);var D=T[0],V=new Uint8Array(D);e.toBytes(8*h,V,0,D);var M=r.generateECBytes(V,S[0]);_.push(new w8(V,M)),p=Math.max(p,D),m=Math.max(m,M.length),h+=T[0]}if(n!==h)throw new bt("Data bytes does not match offset");for(var B=new An,E=0;E<p;++E)try{for(var j=(a=void 0,wE(_)),G=j.next();!G.done;G=j.next()){var $=G.value,V=$.getDataBytes();E<V.length&&B.appendBits(V[E],8)}}catch(L){a={error:L}}finally{try{G&&!G.done&&(u=j.return)&&u.call(j)}finally{if(a)throw a.error}}for(var E=0;E<m;++E)try{for(var C=(l=void 0,wE(_)),b=C.next();!b.done;b=C.next()){var $=b.value,M=$.getErrorCorrectionBytes();E<M.length&&B.appendBits(M[E],8)}}catch(L){l={error:L}}finally{try{b&&!b.done&&(f=C.return)&&f.call(C)}finally{if(l)throw l.error}}if(t!==B.getSizeInBytes())throw new bt("Interleaving error: "+t+" and "+B.getSizeInBytes()+" differ.");return B},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new YA(or.QR_CODE_FIELD_256).encode(i,t);for(var u=new Uint8Array(t),a=0;a<t;a++)u[a]=i[n+a];return u},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new bt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case Rt.NUMERIC:r.appendNumericBytes(e,n);break;case Rt.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Rt.BYTE:r.append8BitBytes(e,n,i);break;case Rt.KANJI:r.appendKanjiBytes(e,n);break;default:throw new bt("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var u=r.getDigit(e.charAt(i+1)),l=r.getDigit(e.charAt(i+2));t.appendBits(a*100+u*10+l,10),i+=3}else if(i+1<n){var u=r.getDigit(e.charAt(i+1));t.appendBits(a*10+u,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new bt;if(i+1<n){var u=r.getAlphanumericCode(e.charCodeAt(i+1));if(u===-1)throw new bt;t.appendBits(a*45+u,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=kr.encode(e,n)}catch(f){throw new bt(f)}for(var a=0,u=i.length;a!==u;a++){var l=i[a];t.appendBits(l,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=kr.encode(e,cn.SJIS)}catch(m){throw new bt(m)}for(var i=n.length,a=0;a<i;a+=2){var u=n[a]&255,l=n[a+1]&255,f=u<<8&4294967295|l,h=-1;if(f>=33088&&f<=40956?h=f-33088:f>=57408&&f<=60351&&(h=f-49472),h===-1)throw new bt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},r.appendECI=function(e,t){t.appendBits(Rt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=cn.UTF8.getName(),r})();var T8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){T8(e,r);function e(t,n,i,a,u,l,f,h){var p=r.call(this,l,f)||this;if(p.yuvData=t,p.dataWidth=n,p.dataHeight=i,p.left=a,p.top=u,a+l>n||u+f>i)throw new Ie("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(l,f),p}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return St.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return St.arraycopy(this.yuvData,u,a,0,i),a;for(var l=0;l<n;l++){var f=l*t;St.arraycopy(this.yuvData,u,a,f,t),u+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,u=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var f=l*t,h=0;h<t;h++){var p=a[u+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|p*65793}u+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,u=this.top*this.dataWidth+this.left;a<n;a++,u+=this.dataWidth)for(var l=u+t/2,f=u,h=u+t-1;f<l;f++,h--){var p=i[f];i[f]=i[h],i[h]=p}},e.prototype.invert=function(){return new ov(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(u1);var S8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){S8(e,r);function e(t,n,i,a,u,l,f){var h=r.call(this,n,i)||this;if(h.dataWidth=a,h.dataHeight=u,h.left=l,h.top=f,t.BYTES_PER_ELEMENT===4){for(var p=n*i,m=new Uint8ClampedArray(p),_=0;_<p;_++){var E=t[_],T=E>>16&255,S=E>>7&510,D=E&255;m[_]=(T+S+D)/4&255}h.luminances=m}else h.luminances=t;if(a===void 0&&(h.dataWidth=n),u===void 0&&(h.dataHeight=i),l===void 0&&(h.left=0),f===void 0&&(h.top=0),h.left+n>h.dataWidth||h.top+i>h.dataHeight)throw new Ie("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return St.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return St.arraycopy(this.luminances,u,a,0,i),a;for(var l=0;l<n;l++){var f=l*t;St.arraycopy(this.luminances,u,a,f,t),u+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new ov(this)},e})(u1);var I8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),C8=(function(r){I8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(cn),b8=(function(){function r(){}return r.ISO_8859_1=cn.ISO8859_1,r})(),Ag,R8=301,D8=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=R8);return{LOG:r,ALOG:e}};Ag=D8([],[]),Ag.LOG;Ag.ALOG;var TE;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(TE||(TE={}));var SE=129,WA=230,O8=231,N8=235,M8=236,P8=237,V8=238,L8=239,B8=240,qp=254,k8=254,IE="[)>05",CE="[)>06",bE="",pt=0,Dn=1,Kn=2,un=3,_n=4,Ln=5,F8=(function(){function r(){}return r.prototype.getEncodingMode=function(){return pt},r.prototype.encode=function(e){var t=ni.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=ni.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Ln:e.writeCodeword(O8),e.signalEncoderChange(Ln);return;case Dn:e.writeCodeword(WA),e.signalEncoderChange(Dn);return;case un:e.writeCodeword(V8),e.signalEncoderChange(un);break;case Kn:e.writeCodeword(L8),e.signalEncoderChange(Kn);break;case _n:e.writeCodeword(B8),e.signalEncoderChange(_n);break;default:throw new Error("Illegal mode: "+i)}else ni.isExtendedASCII(n)?(e.writeCodeword(N8),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(ni.isDigit(e)&&ni.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r})(),U8=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Ln},r.prototype.encode=function(e){var t=new ke;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var i=ni.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(pt);break}}var a=t.length()-1,u=1,l=e.getCodewordCount()+a+u;e.updateSymbolInfo(l);var f=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||f)if(a<=249)t.setCharAt(0,Ze.getCharAt(a));else if(a<=1555)t.setCharAt(0,Ze.getCharAt(Math.floor(a/250)+249)),t.insert(1,Ze.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,n=t.length();h<n;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,i=e+n;return i<=255?i:i-256},r})(),fv=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Dn},r.prototype.encodeMaximal=function(e){for(var t=new ke,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var u=e.getCurrentChar();e.pos++,n=this.encodeChar(u,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var l=Math.floor(t.length()/3*2),f=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(f);var h=e.getSymbolInfo().getDataCapacity()-f,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(n>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(WA),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new ke;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,t),a=Math.floor(t.length()/3)*2,u=e.getCodewordCount()+a;e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u;if(!e.hasMoreCharacters()){var f=new ke;for(t.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,t,f,i));t.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,t,f,i);break}var h=t.length();if(h%3===0){var p=ni.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(pt);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,i){var a=t.length(),u=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(u),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var u=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qp)}else if(u===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qp),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(u>0||e.hasMoreCharacters())&&e.writeCodeword(qp)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(pt)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,i=t%256,a=new ke;return a.append(n),a.append(i),a.toString()},r})(),z8=(function(){function r(){}return r.prototype.getEncodingMode=function(){return _n},r.prototype.encode=function(e){for(var t=new ke;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var u=ni.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(pt);break}}}t.append(Ze.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var u=n-1,l=this.encodeToCodewords(t.toString()),f=!e.hasMoreCharacters(),h=f&&u<=2;if(u<=2){e.updateSymbolInfo(e.getCodewordCount()+u);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}h?(e.resetSymbolInfo(),e.pos-=u):e.writeCodewords(l)}finally{e.signalEncoderChange(pt)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ze.getCharAt(e-64)):ni.illegalCharacter(Ze.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,u=t>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(a<<6)+u,f=l>>16&255,h=l>>8&255,p=l&255,m=new ke;return m.append(f),t>=2&&m.append(h),t>=3&&m.append(p),m.toString()},r})(),H8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),j8=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=(function(){function r(e,t,n,i,a,u,l,f){l===void 0&&(l=0),f===void 0&&(f=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=u,this.rsBlockData=l,this.rsBlockError=f}return r.lookup=function(e,t,n,i,a){var u,l;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var f=j8(q8),h=f.next();!h.done;h=f.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(n!=null&&(p.getSymbolWidth()<n.getWidth()||p.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(m){u={error:m}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),G8=(function(r){H8(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(ot),q8=[new ot(!1,3,5,8,8,1),new ot(!1,5,7,10,10,1),new ot(!0,5,7,16,6,1),new ot(!1,8,10,12,12,1),new ot(!0,10,11,14,6,2),new ot(!1,12,12,14,14,1),new ot(!0,16,14,24,10,1),new ot(!1,18,14,16,16,1),new ot(!1,22,18,18,18,1),new ot(!0,22,18,16,10,2),new ot(!1,30,20,20,20,1),new ot(!0,32,24,16,14,2),new ot(!1,36,24,22,22,1),new ot(!1,44,28,24,24,1),new ot(!0,49,28,22,14,2),new ot(!1,62,36,14,14,4),new ot(!1,86,42,16,16,4),new ot(!1,114,48,18,18,4),new ot(!1,144,56,20,20,4),new ot(!1,174,68,22,22,4),new ot(!1,204,84,24,24,4,102,42),new ot(!1,280,112,14,14,16,140,56),new ot(!1,368,144,16,16,16,92,36),new ot(!1,456,192,18,18,16,114,48),new ot(!1,576,224,20,20,16,144,56),new ot(!1,696,272,22,22,16,174,68),new ot(!1,816,336,24,24,16,136,56),new ot(!1,1050,408,18,18,36,175,68),new ot(!1,1304,496,20,20,36,163,62),new G8],X8=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(l){return l.charCodeAt(0)}),n=new ke,i=0,a=t.length;i<a;i++){var u=String.fromCharCode(t[i]&255);if(u==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(u)}this.msg=n.toString(),this.shape=0,this.codewords=new ke,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ot.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),K8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Y8=(function(r){K8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return un},e.prototype.encode=function(t){for(var n=new ke;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(t,n);var u=ni.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(pt);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):ni.illegalCharacter(Ze.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=n.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(k8),t.getNewEncoding()<0&&t.signalEncoderChange(pt)},e})(fv),W8=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Q8=(function(r){W8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Kn},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(t-128,n),i},e})(fv),ni=(function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=SE+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,i,a){t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var u=new fv,l=[new F8,u,new Q8,new Y8,new z8,new U8],f=new X8(e);f.setSymbolShape(t),f.setSizeConstraints(n,i),e.startsWith(IE)&&e.endsWith(bE)?(f.writeCodeword(M8),f.setSkipAtEnd(2),f.pos+=IE.length):e.startsWith(CE)&&e.endsWith(bE)&&(f.writeCodeword(P8),f.setSkipAtEnd(2),f.pos+=CE.length);var h=pt;for(a&&(u.encodeMaximal(f),h=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)l[h].encode(f),f.getNewEncoding()>=0&&(h=f.getNewEncoding(),f.resetEncoderSignal());var p=f.getCodewordCount();f.updateSymbolInfo();var m=f.getSymbolInfo().getDataCapacity();p<m&&h!==pt&&h!==Ln&&h!==_n&&f.writeCodeword("");var _=f.getCodewords();for(_.length()<m&&_.append(SE);_.length()<m;)_.append(this.randomize253State(_.length()+1));return f.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var i=this.lookAheadTestIntern(e,t,n);if(n===un&&i===un){for(var a=Math.min(t+3,e.length),u=t;u<a;u++)if(!this.isNativeX12(e.charCodeAt(u)))return pt}else if(n===_n&&i===_n){for(var a=Math.min(t+4,e.length),u=t;u<a;u++)if(!this.isNativeEDIFACT(e.charCodeAt(u)))return pt}return i},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var i;n===pt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,u=new Uint8Array(6),l=[];;){if(t+a===e.length){fn.fill(u,0),fn.fill(l,0);var f=this.findMinimums(i,l,Ue.MAX_VALUE,u),h=this.getMinimumCount(u);if(l[pt]===f)return pt;if(h===1){if(u[Ln]>0)return Ln;if(u[_n]>0)return _n;if(u[Kn]>0)return Kn;if(u[un]>0)return un}return Dn}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[pt]+=.5:this.isExtendedASCII(p)?(i[pt]=Math.ceil(i[pt]),i[pt]+=2):(i[pt]=Math.ceil(i[pt]),i[pt]++),this.isNativeC40(p)?i[Dn]+=2/3:this.isExtendedASCII(p)?i[Dn]+=8/3:i[Dn]+=4/3,this.isNativeText(p)?i[Kn]+=2/3:this.isExtendedASCII(p)?i[Kn]+=8/3:i[Kn]+=4/3,this.isNativeX12(p)?i[un]+=2/3:this.isExtendedASCII(p)?i[un]+=13/3:i[un]+=10/3,this.isNativeEDIFACT(p)?i[_n]+=3/4:this.isExtendedASCII(p)?i[_n]+=17/4:i[_n]+=13/4,this.isSpecialB256(p)?i[Ln]+=4:i[Ln]++,a>=4){if(fn.fill(u,0),fn.fill(l,0),this.findMinimums(i,l,Ue.MAX_VALUE,u),l[pt]<this.min(l[Ln],l[Dn],l[Kn],l[un],l[_n]))return pt;if(l[Ln]<l[pt]||l[Ln]+1<this.min(l[Dn],l[Kn],l[un],l[_n]))return Ln;if(l[_n]+1<this.min(l[Ln],l[Dn],l[Kn],l[un],l[pt]))return _n;if(l[Kn]+1<this.min(l[Ln],l[Dn],l[_n],l[un],l[pt]))return Kn;if(l[un]+1<this.min(l[Ln],l[Dn],l[_n],l[Kn],l[pt]))return un;if(l[Dn]+1<this.min(l[pt],l[Ln],l[_n],l[Kn])){if(l[Dn]<l[un])return Dn;if(l[Dn]===l[un]){for(var m=t+a+1;m<e.length;){var _=e.charCodeAt(m);if(this.isX12TermSep(_))return un;if(!this.isNativeX12(_))break;m++}return Dn}}}}},r.min=function(e,t,n,i,a){var u=Math.min(e,Math.min(t,Math.min(n,i)));return a===void 0?u:Math.min(u,a)},r.findMinimums=function(e,t,n,i){for(var a=0;a<6;a++){var u=t[a]=Math.ceil(e[a]);n>u&&(n=u,fn.fill(i,0)),n===u&&(i[a]=i[a]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,i=t;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-t},r.illegalCharacter=function(e){var t=Ue.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r})(),Xp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RE=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return kr.encode(e,this.charset)!=null}catch{return!1}},r})(),Z8=(function(){function r(e,t,n){var i,a,u,l,f,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new RE(C8.forName(N))}),this.encoders=[];var p=[];p.push(new RE(b8.ISO_8859_1));for(var m=t!=null&&t.name.startsWith("UTF"),_=0;_<e.length;_++){var E=!1;try{for(var T=(i=void 0,Xp(p)),S=T.next();!S.done;S=T.next()){var D=S.value,V=e.charAt(_),M=V.charCodeAt(0);if(M===n||D.canEncode(V)){E=!0;break}}}catch(N){i={error:N}}finally{try{S&&!S.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}if(!E)try{for(var B=(u=void 0,Xp(this.ENCODERS)),j=B.next();!j.done;j=B.next()){var D=j.value;if(D.canEncode(e.charAt(_))){p.push(D),E=!0;break}}}catch(N){u={error:N}}finally{try{j&&!j.done&&(l=B.return)&&l.call(B)}finally{if(u)throw u.error}}E||(m=!0)}if(p.length===1&&!m)this.encoders=[p[0]];else{this.encoders=[];var G=0;try{for(var $=Xp(p),C=$.next();!C.done;C=$.next()){var D=C.value;this.encoders[G++]=D}}catch(N){f={error:N}}finally{try{C&&!C.done&&(h=$.return)&&h.call($)}finally{if(f)throw f.error}}}var b=-1;if(t!=null){for(var _=0;_<this.encoders.length;_++)if(this.encoders[_]!=null&&t.name===this.encoders[_].name){b=_;break}}this.priorityEncoderIndex=b}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return kr.encode(Ze.getCharAt(e),this.encoders[t].name)},r})(),$8=3,J8=(function(){function r(e,t,n){this.fnc1=n;var i=new Z8(e,t,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var u=e.charAt(a).charCodeAt(0);this.bytes[a]=u===n?1e3:u}else this.bytes=this.encodeMinimally(e,i,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new ke,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,i,a,u){var l=e.charAt(i).charCodeAt(0),f=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(l===u||t.canEncode(l,t.getPriorityEncoderIndex()))&&(f=t.getPriorityEncoderIndex(),h=f+1);for(var p=f;p<h;p++)(l===u||t.canEncode(l,p))&&this.addEdge(n,i+1,new DE(l,t,p,a,u))},r.prototype.encodeMinimally=function(e,t,n){var i=e.length,a=new DE[i+1][t.length()];this.addEdges(e,t,a,0,null,n);for(var u=1;u<=i;u++){for(var l=0;l<t.length();l++)a[u][l]!=null&&u<i&&this.addEdges(e,t,a,u,a[u][l],n);for(var l=0;l<t.length();l++)a[u-1][l]=null}for(var f=-1,h=Ue.MAX_VALUE,l=0;l<t.length();l++)if(a[i][l]!=null){var p=a[i][l];p.cachedTotalSize<h&&(h=p.cachedTotalSize,f=l)}if(f<0)throw new Error('Failed to encode "'+e+'"');for(var m=[],_=a[i][f];_!=null;){if(_.isFNC1())m.unshift(1e3);else for(var E=t.encode(_.c,_.encoderIndex),u=E.length-1;u>=0;u--)m.unshift(E[u]&255);var T=_.previous===null?0:_.previous.encoderIndex;T!==_.encoderIndex&&m.unshift(256+t.getECIValue(_.encoderIndex)),_=_.previous}for(var S=[],u=0;u<S.length;u++)S[u]=m[u];return S},r})(),DE=(function(){function r(e,t,n,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var u=this.isFNC1()?1:t.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(u+=$8),i!=null&&(u+=i.cachedTotalSize),this.cachedTotalSize=u}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),e6=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();var OE;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(OE||(OE={}));(function(r){e6(e,r);function e(t,n,i,a,u){var l=r.call(this,t,n,i)||this;return l.shape=a,l.macroId=u,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(J8);var t6=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),NE=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r})(),n6=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),r6=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hv=(function(r){r6(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Ue.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(n6),i6=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),a6=(function(r){i6(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(hv);function o6(r,e,t){return new a6(r,e,t)}function Tc(r,e,t){return new hv(r,e,t)}var s6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],uo=0,Vd=1,Lr=2,QA=3,bi=4,u6=new hv(null,0,0),Kp=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],l6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function c6(r){var e,t;try{for(var n=l6(r),i=n.next();!i.done;i=n.next()){var a=i.value;fn.fill(a,-1)}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[uo][bi]=0,r[Vd][bi]=0,r[Vd][uo]=28,r[QA][bi]=0,r[Lr][bi]=0,r[Lr][uo]=15,r}var ZA=c6(fn.createInt32Array(6,6)),f6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h6=(function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Kp[this.mode][e];i=Tc(i,a&65535,a>>16),n+=a>>16}var u=e===Lr?4:5;return i=Tc(i,t,u),new r(i,e,0,n+u)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===Lr?4:5;return n=Tc(n,ZA[this.mode][e],i),n=Tc(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===bi||this.mode===Lr){var a=Kp[n][uo];t=Tc(t,a&65535,a>>16),i+=a>>16,n=uo}var u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new r(t,n,this.binaryShiftByteCount+1,i+u);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=o6(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Kp[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var u=new An;try{for(var l=f6(i),f=l.next();!f.done;f=l.next()){var h=f.value;h.appendTo(u,e)}}catch(p){t={error:p}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return u},r.prototype.toString=function(){return Ze.format("%s bits=%d bytes=%d",s6[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(u6,uo,0,0),r})();function d6(r){var e=Ze.getCharCode(" "),t=Ze.getCharCode("."),n=Ze.getCharCode(",");r[uo][e]=1;for(var i=Ze.getCharCode("Z"),a=Ze.getCharCode("A"),u=a;u<=i;u++)r[uo][u]=u-a+2;r[Vd][e]=1;for(var l=Ze.getCharCode("z"),f=Ze.getCharCode("a"),u=f;u<=l;u++)r[Vd][u]=u-f+2;r[Lr][e]=1;for(var h=Ze.getCharCode("9"),p=Ze.getCharCode("0"),u=p;u<=h;u++)r[Lr][u]=u-p+2;r[Lr][n]=12,r[Lr][t]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],_=0;_<m.length;_++)r[QA][Ze.getCharCode(m[_])]=_;for(var E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],_=0;_<E.length;_++)Ze.getCharCode(E[_])>0&&(r[bi][Ze.getCharCode(E[_])]=_);return r}var Yp=d6(fn.createInt32Array(5,256)),od=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p6=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Ze.getCharCode(" "),t=Ze.getCharCode(`
`),n=NE.singletonList(h6.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,u=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Ze.getCharCode("\r"):a=u===t?2:0;break;case Ze.getCharCode("."):a=u===e?3:0;break;case Ze.getCharCode(","):a=u===e?4:0;break;case Ze.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var l=NE.min(n,function(f,h){return f.getBitCount()-h.getBitCount()});return l.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var u=od(e),l=u.next();!l.done;l=u.next()){var f=l.value;this.updateStateForChar(f,t,a)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=Yp[e.getMode()][i]>0,u=null,l=0;l<=bi;l++){var f=Yp[l][i];if(f>0){if(u==null&&(u=e.endBinaryShift(t)),!a||l===e.getMode()||l===Lr){var h=u.latchAndAppend(l,f);n.push(h)}if(!a&&ZA[e.getMode()][l]>=0){var p=u.shiftAndAppend(l,f);n.push(p)}}}if(e.getBinaryShiftByteCount()>0||Yp[e.getMode()][i]===0){var m=e.addBinaryShiftChar(t);n.push(m)}},r.updateStateListForPair=function(e,t,n){var i,a,u=[];try{for(var l=od(e),f=l.next();!f.done;f=l.next()){var h=f.value;this.updateStateForPair(h,t,n,u)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(u)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(bi,n)),e.getMode()!==bi&&i.push(a.shiftAndAppend(bi,n)),n===3||n===4){var u=a.latchAndAppend(Lr,16-n).latchAndAppend(Lr,1);i.push(u)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(l)}},r.simplifyStates=function(e){var t,n,i,a,u=[];try{for(var l=od(e),f=l.next();!f.done;f=l.next()){var h=f.value,p=!0,m=function(D){if(D.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(D)&&(u=u.filter(function(V){return V!==D}))};try{for(var _=(i=void 0,od(u)),E=_.next();!E.done;E=_.next()){var T=E.value,S=m(T);if(S==="break")break}}catch(D){i={error:D}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}p&&u.push(h)}}catch(D){t={error:D}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return u},r})(),g6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new p6(e).encode(),a=Ue.truncDivision(i.getSize()*t,100)+11,u=i.getSize()+a,l,f,h,p,m;if(n!==r.DEFAULT_AZTEC_LAYERS){if(l=n<0,f=Math.abs(n),f>(l?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ie(Ze.format("Illegal value %s for layers",n));h=r.totalBitsInLayer(f,l),p=r.WORD_SIZE[f];var _=h-h%p;if(m=r.stuffBits(i,p),m.getSize()+a>_)throw new Ie("Data to large for user specified layer");if(l&&m.getSize()>p*64)throw new Ie("Data to large for user specified layer")}else{p=0,m=null;for(var E=0;;E++){if(E>r.MAX_NB_BITS)throw new Ie("Data too large for an Aztec code");if(l=E<=3,f=l?E+1:E,h=r.totalBitsInLayer(f,l),!(u>h)){(m==null||p!==r.WORD_SIZE[f])&&(p=r.WORD_SIZE[f],m=r.stuffBits(i,p));var _=h-h%p;if(!(l&&m.getSize()>p*64)&&m.getSize()+a<=_)break}}}var T=r.generateCheckWords(m,h,p),S=m.getSize()/p,D=r.generateModeMessage(l,f,S),V=(l?11:14)+f*4,M=new Int32Array(V),B;if(l){B=V;for(var E=0;E<M.length;E++)M[E]=E}else{B=V+1+2*Ue.truncDivision(Ue.truncDivision(V,2)-1,15);for(var j=Ue.truncDivision(V,2),G=Ue.truncDivision(B,2),E=0;E<j;E++){var $=E+Ue.truncDivision(E,15);M[j-E-1]=G-$-1,M[j+E]=G+$+1}}for(var C=new Vi(B),E=0,b=0;E<f;E++){for(var N=(f-E)*4+(l?9:12),L=0;L<N;L++)for(var k=L*2,U=0;U<2;U++)T.get(b+k+U)&&C.set(M[E*2+U],M[E*2+L]),T.get(b+N*2+k+U)&&C.set(M[E*2+L],M[V-1-E*2-U]),T.get(b+N*4+k+U)&&C.set(M[V-1-E*2-U],M[V-1-E*2-L]),T.get(b+N*6+k+U)&&C.set(M[V-1-E*2-L],M[E*2+U]);b+=N*8}if(r.drawModeMessage(C,l,B,D),l)r.drawBullsEye(C,Ue.truncDivision(B,2),5);else{r.drawBullsEye(C,Ue.truncDivision(B,2),7);for(var E=0,L=0;E<Ue.truncDivision(V,2)-1;E+=15,L+=16)for(var U=Ue.truncDivision(B,2)&1;U<B;U+=2)C.set(Ue.truncDivision(B,2)-L,U),C.set(Ue.truncDivision(B,2)+L,U),C.set(U,Ue.truncDivision(B,2)-L),C.set(U,Ue.truncDivision(B,2)+L)}var P=new t6;return P.setCompact(l),P.setSize(B),P.setLayers(f),P.setCodeWords(S),P.setMatrix(C),P},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new An;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=Ue.truncDivision(n,2);if(t)for(var u=0;u<7;u++){var l=a-3+u;i.get(u)&&e.set(l,a-5),i.get(u+7)&&e.set(a+5,l),i.get(20-u)&&e.set(l,a+5),i.get(27-u)&&e.set(a-5,l)}else for(var u=0;u<10;u++){var l=a-5+u+Ue.truncDivision(u,5);i.get(u)&&e.set(l,a-7),i.get(u+10)&&e.set(a+7,l),i.get(29-u)&&e.set(l,a+7),i.get(39-u)&&e.set(a-7,l)}},r.generateCheckWords=function(e,t,n){var i,a,u=e.getSize()/n,l=new YA(r.getGF(n)),f=Ue.truncDivision(t,n),h=r.bitsToWords(e,n,f);l.encode(h,f-u);var p=t%n,m=new An;m.appendBits(0,p);try{for(var _=g6(Array.from(h)),E=_.next();!E.done;E=_.next()){var T=E.value;m.appendBits(T,n)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}return m},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,u;for(a=0,u=e.getSize()/t;a<u;a++){for(var l=0,f=0;f<t;f++)l|=e.get(a*t+f)?1<<t-f-1:0;i[a]=l}return i},r.getGF=function(e){switch(e){case 4:return or.AZTEC_PARAM;case 6:return or.AZTEC_DATA_6;case 8:return or.AZTEC_DATA_8;case 10:return or.AZTEC_DATA_10;case 12:return or.AZTEC_DATA_12;default:throw new Ie("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new An,i=e.getSize(),a=(1<<t)-2,u=0;u<i;u+=t){for(var l=0,f=0;f<t;f++)(u+f>=i||e.get(u+f))&&(l|=1<<t-1-f);(l&a)===a?(n.appendBits(l&a,t),u--):(l&a)===0?(n.appendBits(l|1,t),u--):n.appendBits(l,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var v6={audio:!1,video:{facingMode:"environment"}},m6=300,y6=function(r){var e=r===void 0?{}:r,t=e.timeBetweenDecodingAttempts,n=t===void 0?m6:t,i=e.hints;return be.useMemo(function(){var a=new m8(i);return a.timeBetweenDecodingAttempts=n,a},[i,n])},ME=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function l(p){try{h(n.next(p))}catch(m){u(m)}}function f(p){try{h(n.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):i(p.value).then(l,f)}h((n=n.apply(r,e||[])).next())})},PE=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(p){return f([h,p])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},_6=function(r){var e=r.resetStream,t=be.useState(!1),n=t[0],i=t[1],a=be.useState(null),u=a[0],l=a[1],f=be.useRef(null),h=be.useRef(e),p=be.useCallback(function(E){f.current=E,l(typeof E.getCapabilities=="function"?E.getCapabilities().torch!==void 0:!1)},[]),m=be.useCallback(function(){return ME(void 0,void 0,void 0,function(){return PE(this,function(E){switch(E.label){case 0:return!f.current||!u?[2]:[4,f.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return E.sent(),i(!0),[2]}})})},[u]),_=be.useCallback(function(){return ME(void 0,void 0,void 0,function(){return PE(this,function(E){switch(E.label){case 0:return!f.current||!u?[2]:(f.current=null,l(null),i(!1),[4,h.current()]);case 1:return E.sent(),[2]}})})},[u]);return be.useEffect(function(){h.current=e},[e]),{init:p,isOn:n,isAvailable:u,on:m,off:_}},E6=function(r,e){return JSON.stringify(r)===JSON.stringify(e)},VE=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function l(p){try{h(n.next(p))}catch(m){u(m)}}function f(p){try{h(n.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):i(p.value).then(l,f)}h((n=n.apply(r,e||[])).next())})},LE=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(p){return f([h,p])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},x6=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},A6=function(r){r===void 0&&(r={});var e=r.paused,t=e===void 0?!1:e,n=r.hints,i=r.timeBetweenDecodingAttempts,a=r.onDecodeResult,u=a===void 0?function(){}:a,l=r.onDecodeError,f=l===void 0?function(){}:l,h=r.onError,p=h===void 0?function(){}:h,m="deviceId"in r?r.deviceId:void 0,_=be.useState("constraints"in r?r.constraints:void 0),E=_[0],T=_[1],S=be.useRef(u),D=be.useRef(f),V=be.useRef(p),M=be.useRef(null),B=y6({hints:n,timeBetweenDecodingAttempts:i}),j=_6({resetStream:function(){return VE(void 0,void 0,void 0,function(){return LE(this,function(L){switch(L.label){case 0:return N(),[4,b()];case 1:return L.sent(),[2]}})})}}),G=j.init,$=x6(j,["init"]),C=be.useCallback(function(L,k){L&&S.current(L),k&&D.current(k)},[]),b=be.useCallback(function(){return VE(void 0,void 0,void 0,function(){var L,k,U;return LE(this,function(P){switch(P.label){case 0:if(!M.current)return[2];if(t)return[2];P.label=1;case 1:return P.trys.push([1,6,,7]),m?[4,B.decodeFromVideoDevice(m,M.current,C)]:[3,3];case 2:return P.sent(),[3,5];case 3:return[4,B.decodeFromConstraints(E??v6,M.current,C)];case 4:P.sent(),P.label=5;case 5:return[3,7];case 6:return L=P.sent(),V.current(L),[2];case 7:return M.current?(k=M.current.srcObject,U=k.getVideoTracks()[0],U&&G(U),[2]):[2]}})})},[B,m,E,t,C,G]),N=be.useCallback(function(){B.reset()},[B]);return be.useEffect(function(){S.current=u},[u]),be.useEffect(function(){D.current=f},[f]),be.useEffect(function(){V.current=p},[p]),be.useEffect(function(){var L=E6(E,r.constraints);L||T(r.constraints)},[E,r]),be.useEffect(function(){return b(),function(){N()}},[b,N]),{ref:M,torch:$}};const w6=({onResult:r,onClose:e})=>{const[t,n]=be.useState(null),{ref:i}=A6({onDecodeResult(a){r(a.getText())},onError(a){a instanceof DOMException&&a.name==="NotAllowedError"&&n("Camera access denied. Please allow camera permissions.")}});return te.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:1e3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px"},children:[te.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"400px",background:"#000",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[te.jsx("button",{onClick:e,style:{position:"absolute",top:"16px",right:"16px",background:"rgba(0,0,0,0.5)",border:"none",color:"white",borderRadius:"50%",padding:"8px",cursor:"pointer",zIndex:10},children:te.jsx(CC,{size:24})}),te.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"50%",border:"2px solid rgba(255, 255, 255, 0.6)",borderRadius:"12px",pointerEvents:"none",zIndex:5}}),t?te.jsxs("div",{style:{padding:"40px",color:"white",textAlign:"center"},children:[te.jsx(oC,{size:48,style:{marginBottom:"16px",color:"#ff4444"}}),te.jsx("p",{children:t})]}):te.jsx("video",{ref:i,style:{width:"100%",display:"block"}})]}),te.jsx("p",{style:{color:"white",marginTop:"20px",textAlign:"center"},children:"Point your camera at a barcode to scan."})]})},T6=({onSubmit:r,onCancel:e})=>{const[t,n]=be.useState(""),[i,a]=be.useState(Q2[0]),[u,l]=be.useState(Z2[0]),[f,h]=be.useState(1),[p,m]=be.useState(""),[_,E]=be.useState(!1),[T,S]=be.useState(!1),D=async G=>{S(!0);try{const C=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${G}.json`)).json();if(C.status===1&&C.product){const b=C.product;n(b.product_name||"");const N=b.categories||"";N.toLowerCase().includes("electronic")||N.toLowerCase().includes("device")?a("Electronics"):N.toLowerCase().includes("kitchen")||N.toLowerCase().includes("food")||N.toLowerCase().includes("cooking")?a("Kitchen"):a("Other")}else alert("Product not found in database, but barcode scanned successfully.")}catch($){console.error("Error fetching product info:",$),alert("Failed to fetch product info. Please try entering details manually.")}finally{S(!1)}},V=G=>{E(!1),D(G)},M=G=>{G.preventDefault(),r({name:t,category:i,location:u,quantity:f,value:p?parseFloat(p):0})},B={display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px"},j={fontWeight:600,fontSize:"0.875rem"};return te.jsxs("div",{className:"animate-slide-up",children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[te.jsx("h2",{className:"text-title",style:{margin:0},children:"Add New Item"}),te.jsxs(ps,{variant:"secondary",onClick:()=>E(!0),disabled:T,children:[T?te.jsx(hC,{size:18,className:"animate-spin"}):te.jsx(EC,{size:18}),te.jsx("span",{style:{marginLeft:"8px"},children:"Scan Barcode"})]})]}),_&&te.jsx(w6,{onResult:V,onClose:()=>E(!1)}),te.jsx(iv,{children:te.jsxs("form",{onSubmit:M,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[te.jsxs("div",{style:B,children:[te.jsx("label",{style:j,children:"Item Name"}),te.jsx("input",{required:!0,type:"text",value:t,onChange:G=>n(G.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)"},placeholder:"e.g. Sony Bravia TV"})]}),te.jsxs("div",{className:"form-row",children:[te.jsxs("div",{style:B,children:[te.jsx("label",{style:j,children:"Category"}),te.jsx("select",{value:i,onChange:G=>a(G.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"},children:Q2.map(G=>te.jsx("option",{value:G,children:G},G))})]}),te.jsxs("div",{style:B,children:[te.jsx("label",{style:j,children:"Location"}),te.jsx("select",{value:u,onChange:G=>l(G.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"},children:Z2.map(G=>te.jsx("option",{value:G,children:G},G))})]})]}),te.jsxs("div",{className:"form-row",children:[te.jsxs("div",{style:B,children:[te.jsx("label",{style:j,children:"Quantity"}),te.jsx("input",{type:"number",min:"1",value:f,onChange:G=>h(parseInt(G.target.value)),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"}})]}),te.jsxs("div",{style:B,children:[te.jsx("label",{style:j,children:"Value ($)"}),te.jsx("input",{type:"number",min:"0",step:"0.01",value:p,onChange:G=>m(G.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"},placeholder:"0.00"})]})]}),te.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",justifyContent:"flex-end"},children:[te.jsx(ps,{type:"button",variant:"secondary",onClick:e,children:"Cancel"}),te.jsx(ps,{type:"submit",children:"Save Item"})]})]})})]})},S6=()=>{};var BE={};const $A=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},I6=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],u=r[t++],l=r[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const a=r[t++],u=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],u=i+1<r.length,l=u?r[i+1]:0,f=i+2<r.length,h=f?r[i+2]:0,p=a>>2,m=(a&3)<<4|l>>4;let _=(l&15)<<2|h>>6,E=h&63;f||(E=64,u||(_=64)),n.push(t[p],t[m],t[_],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($A(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):I6(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],l=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const m=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||l==null||h==null||m==null)throw new C6;const _=a<<2|l>>4;if(n.push(_),h!==64){const E=l<<4&240|h>>2;if(n.push(E),m!==64){const T=h<<6&192|m;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b6=function(r){const e=$A(r);return JA.encodeByteArray(e,!0)},Ld=function(r){return b6(r).replace(/\./g,"")},ew=function(r){try{return JA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const R6=()=>tw().__FIREBASE_DEFAULTS__,D6=()=>{if(typeof process>"u"||typeof BE>"u")return;const r=BE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},O6=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ew(r[1]);return e&&JSON.parse(e)},f1=()=>{try{return S6()||R6()||D6()||O6()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nw=r=>f1()?.emulatorHosts?.[r],N6=r=>{const e=nw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},rw=()=>f1()?.config,iw=r=>f1()?.[`_${r}`];class M6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function ll(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aw(r){return(await fetch(r,{credentials:"include"})).ok}function P6(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ld(JSON.stringify(t)),Ld(JSON.stringify(u)),""].join(".")}const Fc={};function V6(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?r.emulator.push(e):r.prod.push(e);return r}function L6(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let kE=!1;function ow(r,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||Fc[r]===e||Fc[r]||kE)return;Fc[r]=e;function t(_){return`__firebase__banner__${_}`}const n="__firebase__banner",a=V6().prod.length>0;function u(){const _=document.getElementById(n);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{kE=!0,u()},_}function p(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=L6(n),E=t("text"),T=document.getElementById(E)||document.createElement("span"),S=t("learnmore"),D=document.getElementById(S)||document.createElement("a"),V=t("preprendIcon"),M=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;l(B),p(D,S);const j=h();f(M,V),B.append(M,T,D,j),document.body.appendChild(B)}a?(T.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function sw(){const r=f1()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F6(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z6(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lw(){return!sw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function H6(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const j6="FirebaseError";class fa extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=j6,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?G6(a,n):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new fa(i,l,n)}}function G6(r,e){return r.replace(q6,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const q6=/\{\$([^}]+)}/g;function X6(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xs(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],u=e[i];if(FE(a)&&FE(u)){if(!xs(a,u))return!1}else if(a!==u)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function FE(r){return r!==null&&typeof r=="object"}function pf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function K6(r,e){const t=new Y6(r,e);return t.subscribe.bind(t)}class Y6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");W6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W6(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Wp(){}function Un(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const as="[DEFAULT]";class Q6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new M6;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($6(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&u.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Z6(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z6(r){return r===as?void 0:r}function $6(r){return r.instantiationMode==="EAGER"}class J6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Q6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const eR={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},tR=Xe.INFO,nR={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},rR=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=nR[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dv{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const iR=(r,e)=>e.some(t=>r instanceof t);let UE,zE;function aR(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,wg=new WeakMap,hw=new WeakMap,Qp=new WeakMap,pv=new WeakMap;function sR(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(lo(r.result)),i()},u=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fw.set(t,r)}).catch(()=>{}),pv.set(e,r),e}function uR(r){if(wg.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});wg.set(r,e)}let Tg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return wg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||hw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lR(r){Tg=r(Tg)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Zp(this),e,...t);return hw.set(n,e.sort?e.sort():[e]),lo(n)}:oR().includes(r)?function(...e){return r.apply(Zp(this),e),lo(fw.get(this))}:function(...e){return lo(r.apply(Zp(this),e))}}function fR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&uR(r),iR(r,aR())?new Proxy(r,Tg):r)}function lo(r){if(r instanceof IDBRequest)return sR(r);if(Qp.has(r))return Qp.get(r);const e=fR(r);return e!==r&&(Qp.set(r,e),pv.set(e,r)),e}const Zp=r=>pv.get(r);function hR(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(r,e),l=lo(u);return n&&u.addEventListener("upgradeneeded",f=>{n(lo(u.result),f.oldVersion,f.newVersion,lo(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),l.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const dR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],$p=new Map;function HE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=pR.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dR.includes(t)))return;const a=async function(u,...l){const f=this.transaction(u,i?"readwrite":"readonly");let h=f.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&f.done]))[0]};return $p.set(e,a),a}lR(r=>({...r,get:(e,t,n)=>HE(e,t)||r.get(e,t,n),has:(e,t)=>!!HE(e,t)||r.has(e,t)}));class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function vR(r){return r.getComponent()?.type==="VERSION"}const Sg="@firebase/app",jE="0.14.6";const oa=new dv("@firebase/app"),mR="@firebase/app-compat",yR="@firebase/analytics-compat",_R="@firebase/analytics",ER="@firebase/app-check-compat",xR="@firebase/app-check",AR="@firebase/auth",wR="@firebase/auth-compat",TR="@firebase/database",SR="@firebase/data-connect",IR="@firebase/database-compat",CR="@firebase/functions",bR="@firebase/functions-compat",RR="@firebase/installations",DR="@firebase/installations-compat",OR="@firebase/messaging",NR="@firebase/messaging-compat",MR="@firebase/performance",PR="@firebase/performance-compat",VR="@firebase/remote-config",LR="@firebase/remote-config-compat",BR="@firebase/storage",kR="@firebase/storage-compat",FR="@firebase/firestore",UR="@firebase/ai",zR="@firebase/firestore-compat",HR="firebase",jR="12.6.0";const Ig="[DEFAULT]",GR={[Sg]:"fire-core",[mR]:"fire-core-compat",[_R]:"fire-analytics",[yR]:"fire-analytics-compat",[xR]:"fire-app-check",[ER]:"fire-app-check-compat",[AR]:"fire-auth",[wR]:"fire-auth-compat",[TR]:"fire-rtdb",[SR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[CR]:"fire-fn",[bR]:"fire-fn-compat",[RR]:"fire-iid",[DR]:"fire-iid-compat",[OR]:"fire-fcm",[NR]:"fire-fcm-compat",[MR]:"fire-perf",[PR]:"fire-perf-compat",[VR]:"fire-rc",[LR]:"fire-rc-compat",[BR]:"fire-gcs",[kR]:"fire-gcs-compat",[FR]:"fire-fst",[zR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[HR]:"fire-js-all"};const Bd=new Map,qR=new Map,Cg=new Map;function GE(r,e){try{r.container.addComponent(e)}catch(t){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ku(r){const e=r.name;if(Cg.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,r);for(const t of Bd.values())GE(t,r);for(const t of qR.values())GE(t,r);return!0}function gv(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new df("app","Firebase",XR);class KR{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const cl=jR;function dw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Ig,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(t||(t=rw()),!t)throw co.create("no-options");const a=Bd.get(i);if(a){if(xs(t,a.options)&&xs(n,a.config))return a;throw co.create("duplicate-app",{appName:i})}const u=new J6(i);for(const f of Cg.values())u.addComponent(f);const l=new KR(t,n,u);return Bd.set(i,l),l}function pw(r=Ig){const e=Bd.get(r);if(!e&&r===Ig&&rw())return dw();if(!e)throw co.create("no-app",{appName:r});return e}function fo(r,e,t){let n=GR[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${n}" with version "${e}":`];i&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(u.join(" "));return}Ku(new As(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const YR="firebase-heartbeat-database",WR=1,Wc="firebase-heartbeat-store";let Jp=null;function gw(){return Jp||(Jp=hR(YR,WR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wc)}catch(t){console.warn(t)}}}}).catch(r=>{throw co.create("idb-open",{originalErrorMessage:r.message})})),Jp}async function QR(r){try{const t=(await gw()).transaction(Wc),n=await t.objectStore(Wc).get(vw(r));return await t.done,n}catch(e){if(e instanceof fa)oa.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e?.message});oa.warn(t.message)}}}async function qE(r,e){try{const n=(await gw()).transaction(Wc,"readwrite");await n.objectStore(Wc).put(e,vw(r)),await n.done}catch(t){if(t instanceof fa)oa.warn(t.message);else{const n=co.create("idb-set",{originalErrorMessage:t?.message});oa.warn(n.message)}}}function vw(r){return`${r.name}!${r.options.appId}`}const ZR=1024,$R=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tD(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=XE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>$R){const i=nD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XE(),{heartbeatsToSend:t,unsentEntries:n}=eD(this._heartbeatsCache.heartbeats),i=Ld(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return oa.warn(e),""}}}function XE(){return new Date().toISOString().substring(0,10)}function eD(r,e=ZR){const t=[];let n=r.slice();for(const i of r){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),KE(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),KE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class tD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?H6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function KE(r){return Ld(JSON.stringify({version:2,heartbeats:r})).length}function nD(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}function rD(r){Ku(new As("platform-logger",e=>new gR(e),"PRIVATE")),Ku(new As("heartbeat",e=>new JR(e),"PRIVATE")),fo(Sg,jE,r),fo(Sg,jE,"esm2020"),fo("fire-js","")}rD("");var iD="firebase",aD="12.7.0";fo(iD,aD,"app");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,mw;(function(){var r;function e(C,b){function N(){}N.prototype=b.prototype,C.F=b.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(L,k,U){for(var P=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)P[ze-2]=arguments[ze];return b.prototype[k].apply(L,P)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,N){N||(N=0);const L=Array(16);if(typeof b=="string")for(var k=0;k<16;++k)L[k]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(k=0;k<16;++k)L[k]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=C.g[0],N=C.g[1],k=C.g[2];let U=C.g[3],P;P=b+(U^N&(k^U))+L[0]+3614090360&4294967295,b=N+(P<<7&4294967295|P>>>25),P=U+(k^b&(N^k))+L[1]+3905402710&4294967295,U=b+(P<<12&4294967295|P>>>20),P=k+(N^U&(b^N))+L[2]+606105819&4294967295,k=U+(P<<17&4294967295|P>>>15),P=N+(b^k&(U^b))+L[3]+3250441966&4294967295,N=k+(P<<22&4294967295|P>>>10),P=b+(U^N&(k^U))+L[4]+4118548399&4294967295,b=N+(P<<7&4294967295|P>>>25),P=U+(k^b&(N^k))+L[5]+1200080426&4294967295,U=b+(P<<12&4294967295|P>>>20),P=k+(N^U&(b^N))+L[6]+2821735955&4294967295,k=U+(P<<17&4294967295|P>>>15),P=N+(b^k&(U^b))+L[7]+4249261313&4294967295,N=k+(P<<22&4294967295|P>>>10),P=b+(U^N&(k^U))+L[8]+1770035416&4294967295,b=N+(P<<7&4294967295|P>>>25),P=U+(k^b&(N^k))+L[9]+2336552879&4294967295,U=b+(P<<12&4294967295|P>>>20),P=k+(N^U&(b^N))+L[10]+4294925233&4294967295,k=U+(P<<17&4294967295|P>>>15),P=N+(b^k&(U^b))+L[11]+2304563134&4294967295,N=k+(P<<22&4294967295|P>>>10),P=b+(U^N&(k^U))+L[12]+1804603682&4294967295,b=N+(P<<7&4294967295|P>>>25),P=U+(k^b&(N^k))+L[13]+4254626195&4294967295,U=b+(P<<12&4294967295|P>>>20),P=k+(N^U&(b^N))+L[14]+2792965006&4294967295,k=U+(P<<17&4294967295|P>>>15),P=N+(b^k&(U^b))+L[15]+1236535329&4294967295,N=k+(P<<22&4294967295|P>>>10),P=b+(k^U&(N^k))+L[1]+4129170786&4294967295,b=N+(P<<5&4294967295|P>>>27),P=U+(N^k&(b^N))+L[6]+3225465664&4294967295,U=b+(P<<9&4294967295|P>>>23),P=k+(b^N&(U^b))+L[11]+643717713&4294967295,k=U+(P<<14&4294967295|P>>>18),P=N+(U^b&(k^U))+L[0]+3921069994&4294967295,N=k+(P<<20&4294967295|P>>>12),P=b+(k^U&(N^k))+L[5]+3593408605&4294967295,b=N+(P<<5&4294967295|P>>>27),P=U+(N^k&(b^N))+L[10]+38016083&4294967295,U=b+(P<<9&4294967295|P>>>23),P=k+(b^N&(U^b))+L[15]+3634488961&4294967295,k=U+(P<<14&4294967295|P>>>18),P=N+(U^b&(k^U))+L[4]+3889429448&4294967295,N=k+(P<<20&4294967295|P>>>12),P=b+(k^U&(N^k))+L[9]+568446438&4294967295,b=N+(P<<5&4294967295|P>>>27),P=U+(N^k&(b^N))+L[14]+3275163606&4294967295,U=b+(P<<9&4294967295|P>>>23),P=k+(b^N&(U^b))+L[3]+4107603335&4294967295,k=U+(P<<14&4294967295|P>>>18),P=N+(U^b&(k^U))+L[8]+1163531501&4294967295,N=k+(P<<20&4294967295|P>>>12),P=b+(k^U&(N^k))+L[13]+2850285829&4294967295,b=N+(P<<5&4294967295|P>>>27),P=U+(N^k&(b^N))+L[2]+4243563512&4294967295,U=b+(P<<9&4294967295|P>>>23),P=k+(b^N&(U^b))+L[7]+1735328473&4294967295,k=U+(P<<14&4294967295|P>>>18),P=N+(U^b&(k^U))+L[12]+2368359562&4294967295,N=k+(P<<20&4294967295|P>>>12),P=b+(N^k^U)+L[5]+4294588738&4294967295,b=N+(P<<4&4294967295|P>>>28),P=U+(b^N^k)+L[8]+2272392833&4294967295,U=b+(P<<11&4294967295|P>>>21),P=k+(U^b^N)+L[11]+1839030562&4294967295,k=U+(P<<16&4294967295|P>>>16),P=N+(k^U^b)+L[14]+4259657740&4294967295,N=k+(P<<23&4294967295|P>>>9),P=b+(N^k^U)+L[1]+2763975236&4294967295,b=N+(P<<4&4294967295|P>>>28),P=U+(b^N^k)+L[4]+1272893353&4294967295,U=b+(P<<11&4294967295|P>>>21),P=k+(U^b^N)+L[7]+4139469664&4294967295,k=U+(P<<16&4294967295|P>>>16),P=N+(k^U^b)+L[10]+3200236656&4294967295,N=k+(P<<23&4294967295|P>>>9),P=b+(N^k^U)+L[13]+681279174&4294967295,b=N+(P<<4&4294967295|P>>>28),P=U+(b^N^k)+L[0]+3936430074&4294967295,U=b+(P<<11&4294967295|P>>>21),P=k+(U^b^N)+L[3]+3572445317&4294967295,k=U+(P<<16&4294967295|P>>>16),P=N+(k^U^b)+L[6]+76029189&4294967295,N=k+(P<<23&4294967295|P>>>9),P=b+(N^k^U)+L[9]+3654602809&4294967295,b=N+(P<<4&4294967295|P>>>28),P=U+(b^N^k)+L[12]+3873151461&4294967295,U=b+(P<<11&4294967295|P>>>21),P=k+(U^b^N)+L[15]+530742520&4294967295,k=U+(P<<16&4294967295|P>>>16),P=N+(k^U^b)+L[2]+3299628645&4294967295,N=k+(P<<23&4294967295|P>>>9),P=b+(k^(N|~U))+L[0]+4096336452&4294967295,b=N+(P<<6&4294967295|P>>>26),P=U+(N^(b|~k))+L[7]+1126891415&4294967295,U=b+(P<<10&4294967295|P>>>22),P=k+(b^(U|~N))+L[14]+2878612391&4294967295,k=U+(P<<15&4294967295|P>>>17),P=N+(U^(k|~b))+L[5]+4237533241&4294967295,N=k+(P<<21&4294967295|P>>>11),P=b+(k^(N|~U))+L[12]+1700485571&4294967295,b=N+(P<<6&4294967295|P>>>26),P=U+(N^(b|~k))+L[3]+2399980690&4294967295,U=b+(P<<10&4294967295|P>>>22),P=k+(b^(U|~N))+L[10]+4293915773&4294967295,k=U+(P<<15&4294967295|P>>>17),P=N+(U^(k|~b))+L[1]+2240044497&4294967295,N=k+(P<<21&4294967295|P>>>11),P=b+(k^(N|~U))+L[8]+1873313359&4294967295,b=N+(P<<6&4294967295|P>>>26),P=U+(N^(b|~k))+L[15]+4264355552&4294967295,U=b+(P<<10&4294967295|P>>>22),P=k+(b^(U|~N))+L[6]+2734768916&4294967295,k=U+(P<<15&4294967295|P>>>17),P=N+(U^(k|~b))+L[13]+1309151649&4294967295,N=k+(P<<21&4294967295|P>>>11),P=b+(k^(N|~U))+L[4]+4149444226&4294967295,b=N+(P<<6&4294967295|P>>>26),P=U+(N^(b|~k))+L[11]+3174756917&4294967295,U=b+(P<<10&4294967295|P>>>22),P=k+(b^(U|~N))+L[2]+718787259&4294967295,k=U+(P<<15&4294967295|P>>>17),P=N+(U^(k|~b))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+U&4294967295}n.prototype.v=function(C,b){b===void 0&&(b=C.length);const N=b-this.blockSize,L=this.C;let k=this.h,U=0;for(;U<b;){if(k==0)for(;U<=N;)i(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(L[k++]=C.charCodeAt(U++),k==this.blockSize){i(this,L),k=0;break}}else for(;U<b;)if(L[k++]=C[U++],k==this.blockSize){i(this,L),k=0;break}}this.h=k,this.o+=b},n.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)C[b++]=this.g[N]>>>L&255;return C};function a(C,b){var N=l;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=b(C)}function u(C,b){this.h=b;const N=[];let L=!0;for(let k=C.length-1;k>=0;k--){const U=C[k]|0;L&&U==b||(N[k]=U,L=!1)}this.g=N}var l={};function f(C){return-128<=C&&C<128?a(C,function(b){return new u([b|0],b<0?-1:0)}):new u([C|0],C<0?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return D(h(-C));const b=[];let N=1;for(let L=0;C>=N;L++)b[L]=C/N|0,N*=4294967296;return new u(b,0)}function p(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return D(p(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(b,8));let L=m;for(let U=0;U<C.length;U+=8){var k=Math.min(8,C.length-U);const P=parseInt(C.substring(U,U+k),b);k<8?(k=h(Math.pow(b,k)),L=L.j(k).add(h(P))):(L=L.j(N),L=L.add(h(P)))}return L}var m=f(0),_=f(1),E=f(16777216);r=u.prototype,r.m=function(){if(S(this))return-D(this).m();let C=0,b=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);C+=(L>=0?L:4294967296+L)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(S(this))return"-"+D(this).toString(C);const b=h(Math.pow(C,6));var N=this;let L="";for(;;){const k=j(N,b).g;N=V(N,k.j(b));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=k,T(N))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function S(C){return C.h==-1}r.l=function(C){return C=V(this,C),S(C)?-1:T(C)?0:1};function D(C){const b=C.g.length,N=[];for(let L=0;L<b;L++)N[L]=~C.g[L];return new u(N,~C.h).add(_)}r.abs=function(){return S(this)?D(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),N=[];let L=0;for(let k=0;k<=b;k++){let U=L+(this.i(k)&65535)+(C.i(k)&65535),P=(U>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);L=P>>>16,U&=65535,P&=65535,N[k]=P<<16|U}return new u(N,N[N.length-1]&-2147483648?-1:0)};function V(C,b){return C.add(D(b))}r.j=function(C){if(T(this)||T(C))return m;if(S(this))return S(C)?D(this).j(D(C)):D(D(this).j(C));if(S(C))return D(this.j(D(C)));if(this.l(E)<0&&C.l(E)<0)return h(this.m()*C.m());const b=this.g.length+C.g.length,N=[];for(var L=0;L<2*b;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<C.g.length;k++){const U=this.i(L)>>>16,P=this.i(L)&65535,ze=C.i(k)>>>16,yt=C.i(k)&65535;N[2*L+2*k]+=P*yt,M(N,2*L+2*k),N[2*L+2*k+1]+=U*yt,M(N,2*L+2*k+1),N[2*L+2*k+1]+=P*ze,M(N,2*L+2*k+1),N[2*L+2*k+2]+=U*ze,M(N,2*L+2*k+2)}for(C=0;C<b;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=b;C<2*b;C++)N[C]=0;return new u(N,0)};function M(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function B(C,b){this.g=C,this.h=b}function j(C,b){if(T(b))throw Error("division by zero");if(T(C))return new B(m,m);if(S(C))return b=j(D(C),b),new B(D(b.g),D(b.h));if(S(b))return b=j(C,D(b)),new B(D(b.g),b.h);if(C.g.length>30){if(S(C)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var N=_,L=b;L.l(C)<=0;)N=G(N),L=G(L);var k=$(N,1),U=$(L,1);for(L=$(L,2),N=$(N,2);!T(L);){var P=U.add(L);P.l(C)<=0&&(k=k.add(N),U=P),L=$(L,1),N=$(N,1)}return b=V(C,k.j(b)),new B(k,b)}for(k=m;C.l(b)>=0;){for(N=Math.max(1,Math.floor(C.m()/b.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=h(N),P=U.j(b);S(P)||P.l(C)>0;)N-=L,U=h(N),P=U.j(b);T(U)&&(U=_),k=k.add(U),C=V(C,P)}return new B(k,C)}r.B=function(C){return j(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<b;L++)N[L]=this.i(L)&C.i(L);return new u(N,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<b;L++)N[L]=this.i(L)|C.i(L);return new u(N,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<b;L++)N[L]=this.i(L)^C.i(L);return new u(N,this.h^C.h)};function G(C){const b=C.g.length+1,N=[];for(let L=0;L<b;L++)N[L]=C.i(L)<<1|C.i(L-1)>>>31;return new u(N,C.h)}function $(C,b){const N=b>>5;b%=32;const L=C.g.length-N,k=[];for(let U=0;U<L;U++)k[U]=b>0?C.i(U+N)>>>b|C.i(U+N+1)<<32-b:C.i(U+N);return new u(k,C.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,mw=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=p,ho=u}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yw,Pc,_w,yd,bg,Ew,xw,Aw;(function(){var r,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var x=0;x<g.length;++x){var w=g[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function i(g,x){if(x)e:{var w=n;g=g.split(".");for(var R=0;R<g.length-1;R++){var K=g[R];if(!(K in w))break e;w=w[K]}g=g[g.length-1],R=w[g],x=x(R),x!=R&&x!=null&&e(w,g,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(x){var w=[],R;for(R in x)Object.prototype.hasOwnProperty.call(x,R)&&w.push([R,x[R]]);return w}});var a=a||{},u=this||self;function l(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function f(g,x,w){return g.call.apply(g.bind,arguments)}function h(g,x,w){return h=f,h.apply(null,arguments)}function p(g,x){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function m(g,x){function w(){}w.prototype=x.prototype,g.Z=x.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(R,K,J){for(var ce=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ce[Pe-2]=arguments[Pe];return x.prototype[K].apply(R,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function E(g){const x=g.length;if(x>0){const w=Array(x);for(let R=0;R<x;R++)w[R]=g[R];return w}return[]}function T(g,x){for(let R=1;R<arguments.length;R++){const K=arguments[R];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=g.length||0;const J=K.length||0;g.length=w+J;for(let ce=0;ce<J;ce++)g[w+ce]=K[ce]}else g.push(K)}}class S{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(g){u.setTimeout(()=>{throw g},0)}function V(){var g=C;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class M{constructor(){this.h=this.g=null}add(x,w){const R=B.get();R.set(x,w),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new S(()=>new j,g=>g.reset());class j{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let G,$=!1,C=new M,b=()=>{const g=Promise.resolve(void 0);G=()=>{g.then(N)}};function N(){for(var g;g=V();){try{g.h.call(g.g)}catch(w){D(w)}var x=B;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}$=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function ze(g,x){k.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}m(ze,k),ze.prototype.init=function(g,x){const w=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(w=="mouseover"?x=g.fromElement:w=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),ne=0;function de(g,x,w,R,K){this.listener=g,this.proxy=null,this.src=x,this.type=w,this.capture=!!R,this.ha=K,this.key=++ne,this.da=this.fa=!1}function Ae(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function $e(g,x,w){for(const R in g)x.call(w,g[R],R,g)}function lt(g,x){for(const w in g)x.call(void 0,g[w],w,g)}function H(g){const x={};for(const w in g)x[w]=g[w];return x}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(g,x){let w,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(w in R)g[w]=R[w];for(let J=0;J<ue.length;J++)w=ue[J],Object.prototype.hasOwnProperty.call(R,w)&&(g[w]=R[w])}}function ve(g){this.src=g,this.g={},this.h=0}ve.prototype.add=function(g,x,w,R,K){const J=g.toString();g=this.g[J],g||(g=this.g[J]=[],this.h++);const ce=Le(g,x,R,K);return ce>-1?(x=g[ce],w||(x.fa=!1)):(x=new de(x,this.src,J,!!R,K),x.fa=w,g.push(x)),x};function De(g,x){const w=x.type;if(w in g.g){var R=g.g[w],K=Array.prototype.indexOf.call(R,x,void 0),J;(J=K>=0)&&Array.prototype.splice.call(R,K,1),J&&(Ae(x),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Le(g,x,w,R){for(let K=0;K<g.length;++K){const J=g[K];if(!J.da&&J.listener==x&&J.capture==!!w&&J.ha==R)return K}return-1}var We="closure_lm_"+(Math.random()*1e6|0),rn={};function Dt(g,x,w,R,K){if(Array.isArray(x)){for(let J=0;J<x.length;J++)Dt(g,x[J],w,R,K);return null}return w=yl(w),g&&g[yt]?g.J(x,w,l(R)?!!R.capture:!1,K):wo(g,x,w,!1,R,K)}function wo(g,x,w,R,K,J){if(!x)throw Error("Invalid event type");const ce=l(K)?!!K.capture:!!K;let Pe=To(g);if(Pe||(g[We]=Pe=new ve(g)),w=Pe.add(x,w,R,ce,J),w.proxy)return w;if(R=Ls(),w.proxy=R,R.src=g,R.listener=w,g.addEventListener)U||(K=ce),K===void 0&&(K=!1),g.addEventListener(x.toString(),R,K);else if(g.attachEvent)g.attachEvent(ii(x.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ls(){function g(w){return x.call(g.src,g.listener,w)}const x=vl;return g}function Bs(g,x,w,R,K){if(Array.isArray(x))for(var J=0;J<x.length;J++)Bs(g,x[J],w,R,K);else R=l(R)?!!R.capture:!!R,w=yl(w),g&&g[yt]?(g=g.i,J=String(x).toString(),J in g.g&&(x=g.g[J],w=Le(x,w,R,K),w>-1&&(Ae(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete g.g[J],g.h--)))):g&&(g=To(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Le(x,w,R,K)),(w=g>-1?x[g]:null)&&ks(w))}function ks(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[yt])De(x.i,g);else{var w=g.type,R=g.proxy;x.removeEventListener?x.removeEventListener(w,R,g.capture):x.detachEvent?x.detachEvent(ii(w),R):x.addListener&&x.removeListener&&x.removeListener(R),(w=To(x))?(De(w,g),w.h==0&&(w.src=null,x[We]=null)):Ae(g)}}}function ii(g){return g in rn?rn[g]:rn[g]="on"+g}function vl(g,x){if(g.da)g=!0;else{x=new ze(x,this);const w=g.listener,R=g.ha||g.src;g.fa&&ks(g),g=w.call(R,x)}return g}function To(g){return g=g[We],g instanceof ve?g:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(g){return typeof g=="function"?g:(g[ml]||(g[ml]=function(x){return g.handleEvent(x)}),g[ml])}function Gt(){L.call(this),this.i=new ve(this),this.M=this,this.G=null}m(Gt,L),Gt.prototype[yt]=!0,Gt.prototype.removeEventListener=function(g,x,w,R){Bs(this,g,x,w,R)};function an(g,x){var w,R=g.G;if(R)for(w=[];R;R=R.G)w.push(R);if(g=g.M,R=x.type||x,typeof x=="string")x=new k(x,g);else if(x instanceof k)x.target=x.target||g;else{var K=x;x=new k(R,g),ge(x,K)}K=!0;let J,ce;if(w)for(ce=w.length-1;ce>=0;ce--)J=x.g=w[ce],K=pa(J,R,!0,x)&&K;if(J=x.g=g,K=pa(J,R,!0,x)&&K,K=pa(J,R,!1,x)&&K,w)for(ce=0;ce<w.length;ce++)J=x.g=w[ce],K=pa(J,R,!1,x)&&K}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const w=g.g[x];for(let R=0;R<w.length;R++)Ae(w[R]);delete g.g[x],g.h--}}this.G=null},Gt.prototype.J=function(g,x,w,R){return this.i.add(String(g),x,!1,w,R)},Gt.prototype.K=function(g,x,w,R){return this.i.add(String(g),x,!0,w,R)};function pa(g,x,w,R){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let J=0;J<x.length;++J){const ce=x[J];if(ce&&!ce.da&&ce.capture==w){const Pe=ce.listener,zt=ce.ha||ce.src;ce.fa&&De(g.i,ce),K=Pe.call(zt,R)!==!1&&K}}return K&&!R.defaultPrevented}function L1(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(g,x||0)}function Cf(g){g.g=L1(()=>{g.g=null,g.i&&(g.i=!1,Cf(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class Hn extends L{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Cf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function So(g){L.call(this),this.h=g,this.g={}}m(So,L);var _l=[];function El(g){$e(g.g,function(x,w){this.g.hasOwnProperty(w)&&ks(x)},g),g.g={}}So.prototype.N=function(){So.Z.N.call(this),El(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=u.JSON.stringify,B1=u.JSON.parse,bf=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Rf(){}function Df(){}var Ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wn(){k.call(this,"d")}m(wn,k);function xr(){k.call(this,"c")}m(xr,k);var Ut={},Of=null;function Fs(){return Of=Of||new Gt}Ut.Ia="serverreachability";function Nf(g){k.call(this,Ut.Ia,g)}m(Nf,k);function ai(g){const x=Fs();an(x,new Nf(x))}Ut.STAT_EVENT="statevent";function Io(g,x){k.call(this,Ut.STAT_EVENT,g),this.stat=x}m(Io,k);function qt(g){const x=Fs();an(x,new Io(x,g))}Ut.Ja="timingevent";function oi(g,x){k.call(this,Ut.Ja,g),this.size=x}m(oi,k);function si(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},x)}function zr(){this.g=!0}zr.prototype.ua=function(){this.g=!1};function k1(g,x,w,R,K,J){g.info(function(){if(g.g)if(J){var ce="",Pe=J.split("&");for(let rt=0;rt<Pe.length;rt++){var zt=Pe[rt].split("=");if(zt.length>1){const Ot=zt[0];zt=zt[1];const Sr=Ot.split("_");ce=Sr.length>=2&&Sr[1]=="type"?ce+(Ot+"="+zt+"&"):ce+(Ot+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+x+`
`+w+`
`+ce})}function Mf(g,x,w,R,K,J,ce){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+x+`
`+w+`
`+J+" "+ce})}function ui(g,x,w,R){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+F1(g,w)+(R?" "+R:"")})}function Co(g,x){g.info(function(){return"TIMEOUT: "+x})}zr.prototype.info=function(){};function F1(g,x){if(!g.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(g=0;g<J.length;g++)if(Array.isArray(J[g])){var w=J[g];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var K=R[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return ga(J)}catch{return x}}var bo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function Ro(){}m(Ro,Rf),Ro.prototype.g=function(){return new XMLHttpRequest},Al=new Ro;function Bi(g){return encodeURIComponent(String(g))}function Pf(g){var x=1;g=g.split(":");const w=[];for(;x>0&&g.length;)w.push(g.shift()),x--;return g.length&&w.push(g.join(":")),w}function Hr(g,x,w,R){this.j=g,this.i=x,this.l=w,this.S=R||1,this.V=new So(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var Xt={},gn={};function li(g,x,w){g.M=1,g.A=Do(Yt(x)),g.u=w,g.R=!0,Us(g,null)}function Us(g,x){g.F=Date.now(),ci(g),g.B=Yt(g.A);var w=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),Gs(w.i,"t",R),g.C=0,w=g.j.L,g.h=new jr,g.g=Wf(g.j,w?x:null,!g.u),g.P>0&&(g.O=new Hn(h(g.Y,g,g.g),g.P)),x=g.V,w=g.g,R=g.ba;var K="readystatechange";Array.isArray(K)||(K&&(_l[0]=K.toString()),K=_l);for(let J=0;J<K.length;J++){const ce=Dt(w,K[J],R||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),ai(),k1(g.i,g.v,g.B,g.l,g.S,g.u)}Hr.prototype.ba=function(g){g=g.target;const x=this.O;x&&Xr(g)==3?x.j():this.Y(g)},Hr.prototype.Y=function(g){try{if(g==this.g)e:{const Pe=Xr(this.g),zt=this.g.ya(),rt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||Pe!=4||zt==7||(zt==8||rt<=0?ai(3):ai(2)),fi(this);var x=this.g.ca();this.X=x;var w=U1(this);if(this.o=x==200,Mf(this.i,this.v,this.B,this.l,this.S,Pe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var J=R;break t}}J=null}if(g=J)ui(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,g);else{this.o=!1,this.m=3,qt(12),lr(this),Ar(this);break e}}if(this.R){g=!0;let Ot;for(;!this.K&&this.C<w.length;)if(Ot=Lf(this,w),Ot==gn){Pe==4&&(this.m=4,qt(14),g=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Xt){this.m=4,qt(15),ui(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else ui(this.i,this.l,Ot,null),hi(this,Ot);if(Vf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,qt(16),g=!1),this.o=this.o&&g,!g)ui(this.i,this.l,w,"[Invalid Chunked Response]"),lr(this),Ar(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Bl(ce),ce.P=!0,qt(11))}}else ui(this.i,this.l,w,null),hi(this,w);Pe==4&&lr(this),this.o&&!this.K&&(Pe==4?qf(this.j,this):(this.o=!1,ci(this)))}else Fi(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),lr(this),Ar(this)}}}catch{}};function U1(g){if(!Vf(g))return g.g.la();const x=Tn(g.g);if(x==="")return"";let w="";const R=x.length,K=Xr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return lr(g),Ar(g),"";g.h.i=new u.TextDecoder}for(let J=0;J<R;J++)g.h.h=!0,w+=g.h.i.decode(x[J],{stream:!(K&&J==R-1)});return x.length=0,g.h.g+=w,g.C=0,g.h.g}function Vf(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Lf(g,x){var w=g.C,R=x.indexOf(`
`,w);return R==-1?gn:(w=Number(x.substring(w,R)),isNaN(w)?Xt:(R+=1,R+w>x.length?gn:(x=x.slice(R,R+w),g.C=R+w,x)))}Hr.prototype.cancel=function(){this.K=!0,lr(this)};function ci(g){g.T=Date.now()+g.H,zs(g,g.H)}function zs(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=si(h(g.aa,g),x)}function fi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}Hr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Co(this.i,this.B),this.M!=2&&(ai(),qt(17)),lr(this),this.m=2,Ar(this)):zs(this,this.T-g)};function Ar(g){g.j.I==0||g.K||qf(g.j,g)}function lr(g){fi(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,El(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function hi(g,x){try{var w=g.j;if(w.I!=0&&(w.g==g||pi(w.h,g))){if(!g.L&&pi(w.h,g)&&w.I==3){try{var R=w.Ba.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)Ws(w),wa(w);else break e;Bo(w),qt(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=si(h(w.Va,w),6e3));di(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ei(w,11)}else if((g.L||w.g==g)&&Ws(w),!P(x))for(K=w.Ba.g.parse(x),x=0;x<K.length;x++){let rt=K[x];const Ot=rt[0];if(!(Ot<=w.K))if(w.K=Ot,rt=rt[1],w.I==2)if(rt[0]=="c"){w.M=rt[1],w.ba=rt[2];const Sr=rt[3];Sr!=null&&(w.ka=Sr,w.j.info("VER="+w.ka));const xi=rt[4];xi!=null&&(w.za=xi,w.j.info("SVER="+w.za));const Kr=rt[5];Kr!=null&&typeof Kr=="number"&&Kr>0&&(R=1.5*Kr,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Yr=g.g;if(Yr){const ko=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var J=R.h;J.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Sl(J,J.h),J.h=null))}if(R.G){const Qs=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(R.wa=Qs,ct(R.J,R.G,Qs))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var ce=g;if(R.na=Yf(R,R.L?R.ba:null,R.W),ce.L){Il(R.h,ce);var Pe=ce,zt=R.O;zt&&(Pe.H=zt),Pe.D&&(fi(Pe),ci(Pe)),R.g=ce}else jf(R);w.i.length>0&&_i(w)}else rt[0]!="stop"&&rt[0]!="close"||Ei(w,7);else w.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ei(w,7):Vl(w):rt[0]!="noop"&&w.l&&w.l.qa(rt),w.A=0)}}ai(4)}catch{}}var Kt=class{constructor(g,x){this.g=g,this.map=x}};function wl(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function di(g){return g.h?1:g.g?g.g.size:0}function pi(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Sl(g,x){g.g?g.g.add(x):g.h=x}function Il(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}wl.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Cl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const w of g.g.values())x=x.concat(w.G);return x}return E(g.i)}var Bf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(g,x){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const R=g[w].indexOf("=");let K,J=null;R>=0?(K=g[w].substring(0,R),J=g[w].substring(R+1)):K=g[w],x(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function cr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof cr?(this.l=g.l,vn(this,g.j),this.o=g.o,this.g=g.g,va(this,g.u),this.h=g.h,bl(this,zf(g.i)),this.m=g.m):g&&(x=String(g).match(Bf))?(this.l=!1,vn(this,x[1]||"",!0),this.o=gi(x[2]||""),this.g=gi(x[3]||"",!0),va(this,x[4]),this.h=gi(x[5]||"",!0),bl(this,x[6]||"",!0),this.m=gi(x[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}cr.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(Oo(x,js,!0),":");var w=this.g;return(w||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Oo(x,js,!0),"@"),g.push(Bi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(Oo(w,w.charAt(0)=="/"?Rl:kf,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",Oo(w,Ff)),g.join("")},cr.prototype.resolve=function(g){const x=Yt(this);let w=!!g.j;w?vn(x,g.j):w=!!g.o,w?x.o=g.o:w=!!g.g,w?x.g=g.g:w=g.u!=null;var R=g.h;if(w)va(x,g.u);else if(w=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var K=x.h.lastIndexOf("/");K!=-1&&(R=x.h.slice(0,K+1)+R)}if(K=R,K==".."||K==".")R="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){R=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ce=0;ce<K.length;){const Pe=K[ce++];Pe=="."?R&&ce==K.length&&J.push(""):Pe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ce==K.length&&J.push("")):(J.push(Pe),R=!0)}R=J.join("/")}else R=K}return w?x.h=R:w=g.i.toString()!=="",w?bl(x,zf(g.i)):w=!!g.m,w&&(x.m=g.m),x};function Yt(g){return new cr(g)}function vn(g,x,w){g.j=w?gi(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function va(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function bl(g,x,w){x instanceof ya?(g.i=x,qs(g.i,g.l)):(w||(x=Oo(x,ma)),g.i=new ya(x,g.l))}function ct(g,x,w){g.i.set(x,w)}function Do(g){return ct(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function gi(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Oo(g,x,w){return typeof g=="string"?(g=encodeURI(g).replace(x,$n),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function $n(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var js=/[#\/\?@]/g,kf=/[#\?:]/g,Rl=/[#\?]/g,ma=/[#\?@]/g,Ff=/#/g;function ya(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function Jn(g){g.g||(g.g=new Map,g.h=0,g.i&&Hs(g.i,function(x,w){g.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}r=ya.prototype,r.add=function(g,x){Jn(this),this.i=null,g=_a(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(x),this.h+=1,this};function Uf(g,x){Jn(g),x=_a(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function Dl(g,x){return Jn(g),x=_a(g,x),g.g.has(x)}r.forEach=function(g,x){Jn(this),this.g.forEach(function(w,R){w.forEach(function(K){g.call(x,K,R,this)},this)},this)};function Ol(g,x){Jn(g);let w=[];if(typeof x=="string")Dl(g,x)&&(w=w.concat(g.g.get(_a(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)w=w.concat(g[x]);return w}r.set=function(g,x){return Jn(this),this.i=null,g=_a(this,g),Dl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},r.get=function(g,x){return g?(g=Ol(this,g),g.length>0?String(g[0]):x):x};function Gs(g,x,w){Uf(g,x),w.length>0&&(g.i=null,g.g.set(_a(g,x),E(w)),g.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let R=0;R<x.length;R++){var w=x[R];const K=Bi(w);w=Ol(this,w);for(let J=0;J<w.length;J++){let ce=K;w[J]!==""&&(ce+="="+Bi(w[J])),g.push(ce)}}return this.i=g.join("&")};function zf(g){const x=new ya;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function _a(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function qs(g,x){x&&!g.j&&(Jn(g),g.i=null,g.g.forEach(function(w,R){const K=R.toLowerCase();R!=K&&(Uf(this,R),Gs(this,K,w))},g)),g.j=x}function Gr(g,x){const w=new zr;if(u.Image){const R=new Image;R.onload=p(wr,w,"TestLoadImage: loaded",!0,x,R),R.onerror=p(wr,w,"TestLoadImage: error",!1,x,R),R.onabort=p(wr,w,"TestLoadImage: abort",!1,x,R),R.ontimeout=p(wr,w,"TestLoadImage: timeout",!1,x,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else x(!1)}function Nl(g,x){const w=new zr,R=new AbortController,K=setTimeout(()=>{R.abort(),wr(w,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:R.signal}).then(J=>{clearTimeout(K),J.ok?wr(w,"TestPingServer: ok",!0,x):wr(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),wr(w,"TestPingServer: error",!1,x)})}function wr(g,x,w,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(w)}catch{}}function Ea(){this.g=new bf}function vi(g){this.i=g.Sb||null,this.h=g.ab||!1}m(vi,Rf),vi.prototype.g=function(){return new No(this.i,this.h)};function No(g,x){Gt.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(No,Gt),r=No.prototype,r.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,qr(this)},r.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},r.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}r.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?xa(this):qr(this),this.readyState==3&&Xs(this)}},r.Oa=function(g){this.g&&(this.response=this.responseText=g,xa(this))},r.Na=function(g){this.g&&(this.response=g,xa(this))},r.ga=function(){this.g&&xa(this)};function xa(g){g.readyState=4,g.l=null,g.j=null,g.B=null,qr(g)}r.setRequestHeader=function(g,x){this.A.append(g,x)},r.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=x.next();return g.join(`\r
`)};function qr(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Tr(g){let x="";return $e(g,function(w,R){x+=R,x+=":",x+=w,x+=`\r
`}),x}function Mo(g,x,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Tr(w),typeof g=="string"?w!=null&&Bi(w):ct(g,x,w))}function _t(g){Gt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(_t,Gt);var mi=/^https?$/i,Ml=["POST","PUT"];r=_t.prototype,r.Fa=function(g){this.H=g},r.ea=function(g,x,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(J){Po(this,J);return}if(g=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)w.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())w.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),K=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Ml,x,void 0)>=0)||R||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of w)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(J){Po(this,J)}};function Po(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,Pl(g),ki(g)}function Pl(g){g.A||(g.A=!0,an(g,"complete"),an(g,"error"))}r.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,an(this,"complete"),an(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),_t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vo(this):this.Xa())},r.Xa=function(){Vo(this)};function Vo(g){if(g.h&&typeof a<"u"){if(g.v&&Xr(g)==4)setTimeout(g.Ca.bind(g),0);else if(an(g,"readystatechange"),Xr(g)==4){g.h=!1;try{const J=g.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var R;if(R=J===0){let ce=String(g.D).match(Bf)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!mi.test(ce?ce.toLowerCase():"")}w=R}if(w)an(g,"complete"),an(g,"success");else{g.o=6;try{var K=Xr(g)>2?g.g.statusText:""}catch{K=""}g.l=K+" ["+g.ca()+"]",Pl(g)}}finally{ki(g)}}}}function ki(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,x||an(g,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xr(g){return g.g?g.g.readyState:0}r.ca=function(){try{return Xr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),B1(x)}};function Tn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(g){const x={};g=(g.g&&Xr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(P(g[R]))continue;var w=Pf(g[R]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=x[K]||[];x[K]=J,J.push(w)}lt(x,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(g,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||x}function Aa(g){this.za=0,this.i=[],this.j=new zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,g),this.Za=yi("retryDelaySeedMs",1e4,g),this.Ta=yi("forwardChannelMaxRetries",2,g),this.va=yi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(g&&g.concurrentRequestLimit),this.Ba=new Ea,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Aa.prototype,r.ka=8,r.I=1,r.connect=function(g,x,w,R){qt(0),this.W=g,this.H=x||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Yf(this,null,this.W),_i(this)};function Vl(g){if(Ks(g),g.I==3){var x=g.V++,w=Yt(g.J);if(ct(w,"SID",g.M),ct(w,"RID",x),ct(w,"TYPE","terminate"),Lo(g,w),x=new Hr(g,g.j,x),x.M=2,x.A=Do(Yt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=Wf(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ci(x)}Kf(g)}function wa(g){g.g&&(Bl(g),g.g.cancel(),g.g=null)}function Ks(g){wa(g),g.v&&(u.clearTimeout(g.v),g.v=null),Ws(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function _i(g){if(!Tl(g.h)&&!g.m){g.m=!0;var x=g.Ea;G||b(),$||(G(),$=!0),C.add(x,g),g.D=0}}function Ys(g,x){return di(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=si(h(g.Ea,g,x),Xf(g,g.D)),g.D++,!0)}r.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const K=new Hr(this,this.j,g);let J=this.o;if(this.U&&(J?(J=H(J),ge(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Hf(this,K,x),w=Yt(this.J),ct(w,"RID",g),ct(w,"CVER",22),this.G&&ct(w,"X-HTTP-Session-Id",this.G),Lo(this,w),J&&(this.R?x="headers="+Bi(Tr(J))+"&"+x:this.u&&Mo(w,this.u,J)),Sl(this.h,K),this.Ra&&ct(w,"TYPE","init"),this.S?(ct(w,"$req",x),ct(w,"SID","null"),K.U=!0,li(K,w,null)):li(K,w,x),this.I=2}}else this.I==3&&(g?Ll(this,g):this.i.length==0||Tl(this.h)||Ll(this))};function Ll(g,x){var w;x?w=x.l:w=g.V++;const R=Yt(g.J);ct(R,"SID",g.M),ct(R,"RID",w),ct(R,"AID",g.K),Lo(g,R),g.u&&g.o&&Mo(R,g.u,g.o),w=new Hr(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),x&&(g.i=x.G.concat(g.i)),x=Hf(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Sl(g.h,w),li(w,R,x)}function Lo(g,x){g.H&&$e(g.H,function(w,R){ct(x,R,w)}),g.l&&$e({},function(w,R){ct(x,R,w)})}function Hf(g,x,w){w=Math.min(g.i.length,w);const R=g.l?h(g.l.Ka,g.l,g):null;e:{var K=g.i;let Pe=-1;for(;;){const zt=["count="+w];Pe==-1?w>0?(Pe=K[0].g,zt.push("ofs="+Pe)):Pe=0:zt.push("ofs="+Pe);let rt=!0;for(let Ot=0;Ot<w;Ot++){var J=K[Ot].g;const Sr=K[Ot].map;if(J-=Pe,J<0)Pe=Math.max(0,K[Ot].g-100),rt=!1;else try{J="req"+J+"_"||"";try{var ce=Sr instanceof Map?Sr:Object.entries(Sr);for(const[xi,Kr]of ce){let Yr=Kr;l(Kr)&&(Yr=ga(Kr)),zt.push(J+xi+"="+encodeURIComponent(Yr))}}catch(xi){throw zt.push(J+"type="+encodeURIComponent("_badmap")),xi}}catch{R&&R(Sr)}}if(rt){ce=zt.join("&");break e}}ce=void 0}return g=g.i.splice(0,w),x.G=g,ce}function jf(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;G||b(),$||(G(),$=!0),C.add(x,g),g.A=0}}function Bo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=si(h(g.Da,g),Xf(g,g.A)),g.A++,!0)}r.Da=function(){if(this.v=null,Gf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=si(h(this.Wa,this),g)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),wa(this),Gf(this))};function Bl(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function Gf(g){g.g=new Hr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=Yt(g.na);ct(x,"RID","rpc"),ct(x,"SID",g.M),ct(x,"AID",g.K),ct(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&ct(x,"TO",g.ia),ct(x,"TYPE","xmlhttp"),Lo(g,x),g.u&&g.o&&Mo(x,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=Do(Yt(x)),w.u=null,w.R=!0,Us(w,g)}r.Va=function(){this.C!=null&&(this.C=null,wa(this),Bo(this),qt(19))};function Ws(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function qf(g,x){var w=null;if(g.g==x){Ws(g),Bl(g),g.g=null;var R=2}else if(pi(g.h,x))w=x.G,Il(g.h,x),R=1;else return;if(g.I!=0){if(x.o)if(R==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var K=g.D;R=Fs(),an(R,new oi(R,w)),_i(g)}else jf(g);else if(K=x.m,K==3||K==0&&x.X>0||!(R==1&&Ys(g,x)||R==2&&Bo(g)))switch(w&&w.length>0&&(x=g.h,x.i=x.i.concat(w)),K){case 1:Ei(g,5);break;case 4:Ei(g,10);break;case 3:Ei(g,6);break;default:Ei(g,2)}}}function Xf(g,x){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*x}function Ei(g,x){if(g.j.info("Error code "+x),x==2){var w=h(g.bb,g),R=g.Ua;const K=!R;R=new cr(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vn(R,"https"),Do(R),K?Gr(R.toString(),w):Nl(R.toString(),w)}else qt(2);g.I=0,g.l&&g.l.pa(x),Kf(g),Ks(g)}r.bb=function(g){g?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Kf(g){if(g.I=0,g.ja=[],g.l){const x=Cl(g.h);(x.length!=0||g.i.length!=0)&&(T(g.ja,x),T(g.ja,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.oa()}}function Yf(g,x,w){var R=w instanceof cr?Yt(w):new cr(w);if(R.g!="")x&&(R.g=x+"."+R.g),va(R,R.u);else{var K=u.location;R=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const J=new cr(null);R&&vn(J,R),x&&(J.g=x),K&&va(J,K),w&&(J.h=w),R=J}return w=g.G,x=g.wa,w&&x&&ct(R,w,x),ct(R,"VER",g.ka),Lo(g,R),R}function Wf(g,x,w){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new _t(new vi({ab:w})):new _t(g.ma),x.Fa(g.L),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qf(){}r=Qf.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ta(){}Ta.prototype.g=function(g,x){return new jn(g,x)};function jn(g,x){Gt.call(this),this.g=new Aa(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!P(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Ui(this)}m(jn,Gt),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Vl(this.g)},jn.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=ga(g),g=w);x.i.push(new Kt(x.Ya++,g)),x.I==3&&_i(x)},jn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,jn.Z.N.call(this)};function Zf(g){wn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const w in x){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}m(Zf,wn);function $f(){xr.call(this),this.status=1}m($f,xr);function Ui(g){this.g=g}m(Ui,Qf),Ui.prototype.ra=function(){an(this.g,"a")},Ui.prototype.qa=function(g){an(this.g,new Zf(g))},Ui.prototype.pa=function(g){an(this.g,new $f)},Ui.prototype.oa=function(){an(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Aw=function(){return new Ta},xw=function(){return Fs()},Ew=Ut,bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bo.NO_ERROR=0,bo.TIMEOUT=8,bo.HTTP_ERROR=6,yd=bo,xl.COMPLETE="complete",_w=xl,Df.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,Pc=Df,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,yw=_t}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",QE="4.9.3";class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let fl="12.7.0";const ws=new dv("@firebase/firestore");function Mu(){return ws.logLevel}function le(r,...e){if(ws.logLevel<=Xe.DEBUG){const t=e.map(vv);ws.debug(`Firestore (${fl}): ${r}`,...t)}}function Yn(r,...e){if(ws.logLevel<=Xe.ERROR){const t=e.map(vv);ws.error(`Firestore (${fl}): ${r}`,...t)}}function Ts(r,...e){if(ws.logLevel<=Xe.WARN){const t=e.map(vv);ws.warn(`Firestore (${fl}): ${r}`,...t)}}function vv(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ye(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ww(r,n,t)}function ww(r,e,t){let n=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Yn(n),new Error(n)}function xe(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||ww(e,i,n)}function Ne(r,e){return r}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends fa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class po{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(On.UNAUTHENTICATED)))}shutdown(){}}class sD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uD{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0,42304);let n=this.i;const i=f=>this.i!==n?(n=this.i,t(f)):Promise.resolve();let a=new po;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new po,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},l=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>l(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new po)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xe(typeof n.accessToken=="string",31837,{l:n}),new Tw(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class lD{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cD{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new lD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xe(this.o===void 0,3512);const n=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ZE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=hD(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function Oe(r,e){return r<e?-1:r>e?1:0}function Rg(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return eg(i)===eg(a)?Oe(i,a):eg(i)?1:-1}return Oe(r.length,e.length)}const dD=55296,pD=57343;function eg(r){const e=r.charCodeAt(0);return e>=dD&&e<=pD}function Yu(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}function Sw(r){return r+"\0"}const $E="__name__";class Ii{constructor(e,t,n){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&ye(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Ii.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const n=Ii.isNumericId(e),i=Ii.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Ii.extractNumericId(e).compare(Ii.extractNumericId(t)):Rg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class st extends Ii{construct(e,t,n){return new st(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Ii{construct(e,t,n){return new Vt(e,t,n)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new Vt([$E])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new he(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new he(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(n+=l,i++):(a(),i++)}if(a(),u)throw new he(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(st.fromString(e))}static fromName(e){return new pe(st.fromString(e).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new st(e.slice()))}}function Iw(r,e,t){if(!t)throw new he(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vD(r,e,t,n){if(e===!0&&n===!0)throw new he(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function JE(r){if(!pe.isDocumentKey(r))throw new he(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ex(r){if(pe.isDocumentKey(r))throw new he(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function h1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function aa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=h1(r);throw new he(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function en(r,e){const t={typeString:r};return e&&(t.value=e),t}function gf(r,e){if(!Cw(r))throw new he(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(i&&typeof u!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new he(ae.INVALID_ARGUMENT,t);return!0}const tx=-62135596800,nx=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*nx);return new gt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tx)throw new he(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nx}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gf(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:en("string",gt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new gt(0,0))}static max(){return new Te(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qc=-1;class kd{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function Dg(r){return r.fields.find((e=>e.kind===2))}function os(r){return r.fields.filter((e=>e.kind!==2))}kd.UNKNOWN_ID=-1;class _d{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zc(0,Er.min())}}function mD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(n===1e9?new gt(t+1,0):new gt(t,n));return new Er(i,pe.empty(),e)}function bw(r){return new Er(r.readTime,r.key,Qc)}class Er{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Er(Te.min(),pe.empty(),Qc)}static max(){return new Er(Te.max(),pe.empty(),Qc)}}function yv(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:Oe(r.largestBatchId,e.largestBatchId))}const Rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ms(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==Rw)throw r;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,n)=>{t(e)}))}static reject(e){return new X(((t,n)=>{n(e)}))}static waitFor(e){return new X(((t,n)=>{let i=0,a=0,u=!1;e.forEach((l=>{++i,l.next((()=>{++a,u&&a===i&&t()}),(f=>n(f)))})),u=!0,a===i&&t()}))}static or(e){let t=X.resolve(!1);for(const n of e)t=t.next((i=>i?X.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,a)=>{n.push(t.call(this,i,a))})),this.waitFor(n)}static mapArray(e,t){return new X(((n,i)=>{const a=e.length,u=new Array(a);let l=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next((p=>{u[h]=p,++l,l===a&&n(u)}),(p=>i(p)))}}))}static doWhile(e,t){return new X(((n,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):n()};a()}))}}const yr="SimpleDb";class d1{static open(e,t,n,i){try{return new d1(t,e.transaction(i,n))}catch(a){throw new Uc(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new po,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Uc(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const i=_v(n.target.error);this.S.reject(new Uc(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _D(t)}}class go{static delete(e){return le(yr,"Removing database:",e),us(tw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!cw())return!1;if(go.F())return!0;const e=dn(),t=go.M(e),n=0<t&&t<10,i=Ow(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,go.M(dn())===12.2&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(yr,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const u=a.target.result;t(u)},i.onblocked=()=>{n(new Uc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const u=a.target.error;u.name==="VersionError"?n(new he(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?n(new he(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):n(new Uc(e,u))},i.onupgradeneeded=a=>{le(yr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const u=a.target.result;this.N.k(u,i.transaction,a.oldVersion,this.version).next((()=>{le(yr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const a=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const l=d1.open(this.db,e,a?"readonly":"readwrite",n),f=i(l).next((h=>(l.C(),h))).catch((h=>(l.abort(h),X.reject(h)))).toPromise();return f.catch((()=>{})),await l.D,f}catch(l){const f=l,h=f.name!=="FirebaseError"&&u<3;if(le(yr,"Transaction failed with error:",f.message,"Retrying:",h),this.close(),!h)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Ow(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class yD{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return us(this.U.delete())}}class Uc extends he{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xo(r){return r.name==="IndexedDbTransactionError"}class _D{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(le(yr,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(le(yr,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),us(n)}add(e){return le(yr,"ADD",this.store.name,e,e),us(this.store.add(e))}get(e){return us(this.store.get(e)).next((t=>(t===void 0&&(t=null),le(yr,"GET",this.store.name,e,t),t)))}delete(e){return le(yr,"DELETE",this.store.name,e),us(this.store.delete(e))}count(){return le(yr,"COUNT",this.store.name),us(this.store.count())}J(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new X(((u,l)=>{a.onerror=f=>{l(f.target.error)},a.onsuccess=f=>{u(f.target.result)}}))}{const a=this.cursor(n),u=[];return this.H(a,((l,f)=>{u.push(f)})).next((()=>u))}}Y(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new X(((i,a)=>{n.onerror=u=>{a(u.target.error)},n.onsuccess=u=>{i(u.target.result)}}))}Z(e,t){le(yr,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const i=this.cursor(n);return this.H(i,((a,u,l)=>l.delete()))}ee(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.H(i,t)}te(e){const t=this.cursor({});return new X(((n,i)=>{t.onerror=a=>{const u=_v(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next((l=>{l?u.continue():n()})):n()}}))}H(e,t){const n=[];return new X(((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const l=u.target.result;if(!l)return void i();const f=new yD(l),h=t(l.primaryKey,l.value,f);if(h instanceof X){const p=h.catch((m=>(f.done(),X.reject(m))));n.push(p)}f.isDone?i():f.G===null?l.continue():l.continue(f.G)}})).next((()=>X.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function us(r){return new X(((e,t)=>{r.onsuccess=n=>{const i=n.target.result;e(i)},r.onerror=n=>{const i=_v(n.target.error);t(i)}}))}let rx=!1;function _v(r){const e=go.M(dn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rx||(rx=!0,setTimeout((()=>{throw n}),0)),n}}return r}const zc="IndexBackfiller";class ED{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(zc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(zc,`Documents written: ${t}`)}catch(t){xo(t)?le(zc,"Ignoring IndexedDB error during index backfill: ",t):await Ms(t)}await this.re(6e4)}))}}class xD{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const n=new Set;let i=t,a=!0;return X.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!n.has(u))return le(zc,`Processing collection: ${u}`),this.oe(e,u,i).next((l=>{i-=l,n.add(u)}));a=!1})))).next((()=>t-i))}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(i,a))).next((l=>(le(zc,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,t,l)))).next((()=>u.size))}))))}_e(e,t){let n=e;return t.changes.forEach(((i,a)=>{const u=bw(a);yv(u,n)>0&&(n=u)})),new Er(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Br{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Br.ce=-1;const vs=-1;function p1(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function AD(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Fd="";function Fn(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ix(e)),e=wD(r.get(t),e);return ix(e)}function wD(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case Fd:t+="";break;default:t+=a}}return t}function ix(r){return r+Fd+""}function Ri(r){const e=r.length;if(xe(e>=2,64408,{path:r}),e===2)return xe(r.charAt(0)===Fd&&r.charAt(1)==="",56145,{path:r}),st.emptyPath();const t=e-2,n=[];let i="";for(let a=0;a<e;){const u=r.indexOf(Fd,a);switch((u<0||u>t)&&ye(50515,{path:r}),r.charAt(u+1)){case"":const l=r.substring(a,u);let f;i.length===0?f=l:(i+=l,f=i,i=""),n.push(f);break;case"":i+=r.substring(a,u),i+="\0";break;case"":i+=r.substring(a,u+1);break;default:ye(61167,{path:r})}a=u+2}return new st(n)}const ss="remoteDocuments",vf="owner",Cu="owner",Jc="mutationQueues",TD="userId",ei="mutations",ax="batchId",ds="userMutationsIndex",ox=["userId","batchId"];function Ed(r,e){return[r,Fn(e)]}function Nw(r,e,t){return[r,Fn(e),t]}const SD={},Wu="documentMutations",Ud="remoteDocumentsV14",ID=["prefixPath","collectionGroup","readTime","documentId"],xd="documentKeyIndex",CD=["prefixPath","collectionGroup","documentId"],Mw="collectionGroupIndex",bD=["collectionGroup","readTime","prefixPath","documentId"],ef="remoteDocumentGlobal",Og="remoteDocumentGlobalKey",Qu="targets",Pw="queryTargetsIndex",RD=["canonicalId","targetId"],Zu="targetDocuments",DD=["targetId","path"],Ev="documentTargetsIndex",OD=["path","targetId"],zd="targetGlobalKey",ms="targetGlobal",tf="collectionParents",ND=["collectionId","parent"],$u="clientMetadata",MD="clientId",g1="bundles",PD="bundleId",v1="namedQueries",VD="name",xv="indexConfiguration",LD="indexId",Ng="collectionGroupIndex",BD="collectionGroup",Hc="indexState",kD=["indexId","uid"],Vw="sequenceNumberIndex",FD=["uid","sequenceNumber"],jc="indexEntries",UD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lw="documentKeyIndex",zD=["indexId","uid","orderedDocumentKey"],m1="documentOverlays",HD=["userId","collectionPath","documentId"],Mg="collectionPathOverlayIndex",jD=["userId","collectionPath","largestBatchId"],Bw="collectionGroupOverlayIndex",GD=["userId","collectionGroup","largestBatchId"],Av="globals",qD="name",kw=[Jc,ei,Wu,ss,Qu,vf,ms,Zu,$u,ef,tf,g1,v1],XD=[...kw,m1],Fw=[Jc,ei,Wu,Ud,Qu,vf,ms,Zu,$u,ef,tf,g1,v1,m1],Uw=Fw,wv=[...Uw,xv,Hc,jc],KD=wv,zw=[...wv,Av],YD=zw;class Pg extends Dw{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function pn(r,e){const t=Ne(r);return go.O(t.le,e)}function sx(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ao(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Hw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Pt{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??Nn.RED,this.left=i??Nn.EMPTY,this.right=a??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new Nn(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bu(r){return r.hasNext()?r.getNext():void 0}class sr{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new mt(Vt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jw("Invalid base64 string: "+a):a}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(r){if(xe(!!r,39018),typeof r=="string"){let e=0;const t=WD.exec(r);if(xe(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ua(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const Gw="server_timestamp",qw="__type__",Xw="__previous_value__",Kw="__local_write_time__";function Tv(r){return(r?.mapValue?.fields||{})[qw]?.stringValue===Gw}function y1(r){const e=r.mapValue.fields[Xw];return Tv(e)?y1(e):e}function nf(r){const e=sa(r.mapValue.fields[Kw].timestampValue);return new gt(e.seconds,e.nanos)}class QD{constructor(e,t,n,i,a,u,l,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Hd="(default)";class Ss{constructor(e,t){this.projectId=e,this.database=t||Hd}static empty(){return new Ss("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const Sv="__type__",Yw="__max__",ao={mapValue:{fields:{__type__:{stringValue:Yw}}}},Iv="__vector__",Ju="value",Ad={nullValue:"NULL_VALUE"};function mo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tv(r)?4:Ww(r)?9007199254740991:_1(r)?10:11:ye(28295,{value:r})}function Li(r,e){if(r===e)return!0;const t=mo(r);if(t!==mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nf(r).isEqual(nf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=sa(i.timestampValue),l=sa(a.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,a){return ua(i.bytesValue).isEqual(ua(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,a){return Mt(i.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)})(r,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Mt(i.integerValue)===Mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Mt(i.doubleValue),l=Mt(a.doubleValue);return u===l?$c(u)===$c(l):isNaN(u)&&isNaN(l)}return!1})(r,e);case 9:return Yu(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},l=a.mapValue.fields||{};if(sx(u)!==sx(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(l[f]===void 0||!Li(u[f],l[f])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function rf(r,e){return(r.values||[]).find((t=>Li(t,e)))!==void 0}function yo(r,e){if(r===e)return 0;const t=mo(r),n=mo(e);if(t!==n)return Oe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(a,u){const l=Mt(a.integerValue||a.doubleValue),f=Mt(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1})(r,e);case 3:return lx(r.timestampValue,e.timestampValue);case 4:return lx(nf(r),nf(e));case 5:return Rg(r.stringValue,e.stringValue);case 6:return(function(a,u){const l=ua(a),f=ua(u);return l.compareTo(f)})(r.bytesValue,e.bytesValue);case 7:return(function(a,u){const l=a.split("/"),f=u.split("/");for(let h=0;h<l.length&&h<f.length;h++){const p=Oe(l[h],f[h]);if(p!==0)return p}return Oe(l.length,f.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,u){const l=Oe(Mt(a.latitude),Mt(u.latitude));return l!==0?l:Oe(Mt(a.longitude),Mt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return cx(r.arrayValue,e.arrayValue);case 10:return(function(a,u){const l=a.fields||{},f=u.fields||{},h=l[Ju]?.arrayValue,p=f[Ju]?.arrayValue,m=Oe(h?.values?.length||0,p?.values?.length||0);return m!==0?m:cx(h,p)})(r.mapValue,e.mapValue);case 11:return(function(a,u){if(a===ao.mapValue&&u===ao.mapValue)return 0;if(a===ao.mapValue)return 1;if(u===ao.mapValue)return-1;const l=a.fields||{},f=Object.keys(l),h=u.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const _=Rg(f[m],p[m]);if(_!==0)return _;const E=yo(l[f[m]],h[p[m]]);if(E!==0)return E}return Oe(f.length,p.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function lx(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const t=sa(r),n=sa(e),i=Oe(t.seconds,n.seconds);return i!==0?i:Oe(t.nanos,n.nanos)}function cx(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=yo(t[i],n[i]);if(a)return a}return Oe(t.length,n.length)}function el(r){return Vg(r)}function Vg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=sa(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ua(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return pe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=Vg(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of n)a?a=!1:i+=",",i+=`${u}:${Vg(t.fields[u])}`;return i+"}"})(r.mapValue):ye(61005,{value:r})}function wd(r){switch(mo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=y1(r);return e?16+wd(e):16;case 5:return 2*r.stringValue.length;case 6:return ua(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+wd(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return Ao(n.fields,((a,u)=>{i+=a.length+wd(u)})),i})(r.mapValue);default:throw ye(13486,{value:r})}}function af(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lg(r){return!!r&&"integerValue"in r}function of(r){return!!r&&"arrayValue"in r}function fx(r){return!!r&&"nullValue"in r}function hx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Td(r){return!!r&&"mapValue"in r}function _1(r){return(r?.mapValue?.fields||{})[Sv]?.stringValue===Iv}function Gc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ao(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Gc(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gc(r.arrayValue.values[t]);return e}return{...r}}function Ww(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Yw}const Qw={mapValue:{fields:{[Sv]:{stringValue:Iv},[Ju]:{arrayValue:{}}}}};function ZD(r){return"nullValue"in r?Ad:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?af(Ss.empty(),pe.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?_1(r)?Qw:{mapValue:{}}:ye(35942,{value:r})}function $D(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?af(Ss.empty(),pe.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?Qw:"mapValue"in r?_1(r)?{mapValue:{}}:ao:ye(61959,{value:r})}function dx(r,e){const t=yo(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function px(r,e){const t=yo(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}setAll(e){let t=Vt.emptyPath(),n={},i=[];e.forEach(((u,l)=>{if(!t.isImmediateParentOf(l)){const f=this.getFieldsMap(t);this.applyChanges(f,n,i),n={},i=[],t=l.popLast()}u?n[l.lastSegment()]=Gc(u):i.push(l.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Ao(t,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new kn(Gc(this.value))}}function Zw(r){const e=[];return Ao(r.fields,((t,n)=>{const i=new Vt([t]);if(Td(n)){const a=Zw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new sr(e)}class Ft{constructor(e,t,n,i,a,u,l){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=u,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,Te.min(),Te.min(),Te.min(),kn.empty(),0)}static newFoundDocument(e,t,n,i){return new Ft(e,1,t,Te.min(),n,i,0)}static newNoDocument(e,t){return new Ft(e,2,t,Te.min(),Te.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,Te.min(),Te.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tl{constructor(e,t){this.position=e,this.inclusive=t}}function gx(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],u=r.position[i];if(a.field.isKeyField()?n=pe.comparator(pe.fromName(u.referenceValue),t.key):n=yo(u,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function vx(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Li(r.position[t],e.position[t]))return!1;return!0}class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function JD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class $w{}class Ke extends $w{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new eO(e,t,n):t==="array-contains"?new rO(e,n):t==="in"?new iT(e,n):t==="not-in"?new iO(e,n):t==="array-contains-any"?new aO(e,n):new Ke(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new tO(e,n):new nO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yo(t,this.value)):t!==null&&mo(this.value)===mo(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vt extends $w{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vt(e,t)}matches(e){return nl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nl(r){return r.op==="and"}function Bg(r){return r.op==="or"}function Cv(r){return Jw(r)&&nl(r)}function Jw(r){for(const e of r.filters)if(e instanceof vt)return!1;return!0}function kg(r){if(r instanceof Ke)return r.field.canonicalString()+r.op.toString()+el(r.value);if(Cv(r))return r.filters.map((e=>kg(e))).join(",");{const e=r.filters.map((t=>kg(t))).join(",");return`${r.op}(${e})`}}function eT(r,e){return r instanceof Ke?(function(n,i){return i instanceof Ke&&n.op===i.op&&n.field.isEqual(i.field)&&Li(n.value,i.value)})(r,e):r instanceof vt?(function(n,i){return i instanceof vt&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,u,l)=>a&&eT(u,i.filters[l])),!0):!1})(r,e):void ye(19439)}function tT(r,e){const t=r.filters.concat(e);return vt.create(t,r.op)}function nT(r){return r instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`})(r):r instanceof vt?(function(t){return t.op.toString()+" {"+t.getFilters().map(nT).join(" ,")+"}"})(r):"Filter"}class eO extends Ke{constructor(e,t,n){super(e,t,n),this.key=pe.fromName(n.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tO extends Ke{constructor(e,t){super(e,"in",t),this.keys=rT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nO extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=rT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rT(r,e){return(e.arrayValue?.values||[]).map((t=>pe.fromName(t.referenceValue)))}class rO extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return of(t)&&rf(t.arrayValue,this.value)}}class iT extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rf(this.value.arrayValue,t)}}class iO extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rf(this.value.arrayValue,t)}}class aO extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>rf(this.value.arrayValue,n)))}}class oO{constructor(e,t=null,n=[],i=[],a=null,u=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=l,this.Te=null}}function Fg(r,e=null,t=[],n=[],i=null,a=null,u=null){return new oO(r,e,t,n,i,a,u)}function Is(r){const e=Ne(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>kg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),p1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>el(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>el(n))).join(",")),e.Te=t}return e.Te}function mf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!JD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vx(r.startAt,e.startAt)&&vx(r.endAt,e.endAt)}function jd(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Gd(r,e){return r.filters.filter((t=>t instanceof Ke&&t.field.isEqual(e)))}function mx(r,e,t){let n=Ad,i=!0;for(const a of Gd(r,e)){let u=Ad,l=!0;switch(a.op){case"<":case"<=":u=ZD(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,l=!1;break;case"!=":case"not-in":u=Ad}dx({value:n,inclusive:i},{value:u,inclusive:l})<0&&(n=u,i=l)}if(t!==null){for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(e)){const u=t.position[a];dx({value:n,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(n=u,i=t.inclusive);break}}return{value:n,inclusive:i}}function yx(r,e,t){let n=ao,i=!0;for(const a of Gd(r,e)){let u=ao,l=!0;switch(a.op){case">=":case">":u=$D(a.value),l=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,l=!1;break;case"!=":case"not-in":u=ao}px({value:n,inclusive:i},{value:u,inclusive:l})>0&&(n=u,i=l)}if(t!==null){for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(e)){const u=t.position[a];px({value:n,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(n=u,i=t.inclusive);break}}return{value:n,inclusive:i}}class hl{constructor(e,t=null,n=[],i=[],a=null,u="F",l=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=l,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sO(r,e,t,n,i,a,u,l){return new hl(r,e,t,n,i,a,u,l)}function E1(r){return new hl(r)}function _x(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aT(r){return r.collectionGroup!==null}function qc(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new mt(Vt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new sf(a,n))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new sf(Vt.keyField(),n))}return e.Ie}function Fr(r){const e=Ne(r);return e.Ee||(e.Ee=uO(e,qc(r))),e.Ee}function uO(r,e){if(r.limitType==="F")return Fg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new sf(i.field,a)}));const t=r.endAt?new tl(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new tl(r.startAt.position,r.startAt.inclusive):null;return Fg(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Ug(r,e){const t=r.filters.concat([e]);return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zg(r,e,t){return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function x1(r,e){return mf(Fr(r),Fr(e))&&r.limitType===e.limitType}function oT(r){return`${Is(Fr(r))}|lt:${r.limitType}`}function Pu(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>nT(i))).join(", ")}]`),p1(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>el(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>el(i))).join(",")),`Target(${n})`})(Fr(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):pe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,i){for(const a of qc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(u,l,f){const h=gx(u,l,f);return u.inclusive?h<=0:h<0})(n.startAt,qc(n),i)||n.endAt&&!(function(u,l,f){const h=gx(u,l,f);return u.inclusive?h>=0:h>0})(n.endAt,qc(n),i))})(r,e)}function lO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sT(r){return(e,t)=>{let n=!1;for(const i of qc(r)){const a=cO(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function cO(r,e,t){const n=r.field.isKeyField()?pe.comparator(e.key,t.key):(function(a,u,l){const f=u.data.field(a),h=l.data.field(a);return f!==null&&h!==null?yo(f,h):ye(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ye(19790,{direction:r.dir})}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((t,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}const fO=new Pt(pe.comparator);function _r(){return fO}const uT=new Pt(pe.comparator);function Vc(...r){let e=uT;for(const t of r)e=e.insert(t.key,t);return e}function lT(r){let e=uT;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Di(){return Xc()}function cT(){return Xc()}function Xc(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hO=new Pt(pe.comparator),dO=new mt(pe.comparator);function Fe(...r){let e=dO;for(const t of r)e=e.add(t);return e}const pO=new mt(Oe);function gO(){return pO}function bv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function fT(r){return{integerValue:""+r}}function vO(r,e){return AD(e)?fT(e):bv(r,e)}class A1{constructor(){this._=void 0}}function mO(r,e,t){return r instanceof uf?(function(i,a){const u={fields:{[qw]:{stringValue:Gw},[Kw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Tv(a)&&(a=y1(a)),a&&(u.fields[Xw]=a),{mapValue:u}})(t,e):r instanceof rl?dT(r,e):r instanceof il?pT(r,e):(function(i,a){const u=hT(i,a),l=Ex(u)+Ex(i.Ae);return Lg(u)&&Lg(i.Ae)?fT(l):bv(i.serializer,l)})(r,e)}function yO(r,e,t){return r instanceof rl?dT(r,e):r instanceof il?pT(r,e):t}function hT(r,e){return r instanceof lf?(function(n){return Lg(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class uf extends A1{}class rl extends A1{constructor(e){super(),this.elements=e}}function dT(r,e){const t=gT(e);for(const n of r.elements)t.some((i=>Li(i,n)))||t.push(n);return{arrayValue:{values:t}}}class il extends A1{constructor(e){super(),this.elements=e}}function pT(r,e){let t=gT(e);for(const n of r.elements)t=t.filter((i=>!Li(i,n)));return{arrayValue:{values:t}}}class lf extends A1{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ex(r){return Mt(r.integerValue||r.doubleValue)}function gT(r){return of(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _O{constructor(e,t){this.field=e,this.transform=t}}function EO(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof rl&&i instanceof rl||n instanceof il&&i instanceof il?Yu(n.elements,i.elements,Li):n instanceof lf&&i instanceof lf?Li(n.Ae,i.Ae):n instanceof uf&&i instanceof uf})(r.transform,e.transform)}class xO{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class w1{}function vT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new T1(r.key,Wn.none()):new dl(r.key,r.data,Wn.none());{const t=r.data,n=kn.empty();let i=new mt(Vt.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?n.delete(a):n.set(a,u),i=i.add(a)}return new da(r.key,n,new sr(i.toArray()),Wn.none())}}function AO(r,e,t){r instanceof dl?(function(i,a,u){const l=i.value.clone(),f=Ax(i.fieldTransforms,a,u.transformResults);l.setAll(f),a.convertToFoundDocument(u.version,l).setHasCommittedMutations()})(r,e,t):r instanceof da?(function(i,a,u){if(!Sd(i.precondition,a))return void a.convertToUnknownDocument(u.version);const l=Ax(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(mT(i)),f.setAll(l),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Kc(r,e,t,n){return r instanceof dl?(function(a,u,l,f){if(!Sd(a.precondition,u))return l;const h=a.value.clone(),p=wx(a.fieldTransforms,f,u);return h.setAll(p),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(r,e,t,n):r instanceof da?(function(a,u,l,f){if(!Sd(a.precondition,u))return l;const h=wx(a.fieldTransforms,f,u),p=u.data;return p.setAll(mT(a)),p.setAll(h),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(r,e,t,n):(function(a,u,l){return Sd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l})(r,e,t)}function wO(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=hT(n.transform,i||null);a!=null&&(t===null&&(t=kn.empty()),t.set(n.field,a))}return t||null}function xx(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Yu(n,i,((a,u)=>EO(a,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dl extends w1{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class da extends w1{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Ax(r,e,t){const n=new Map;xe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],u=a.transform,l=e.data.field(a.field);n.set(a.field,yO(u,l,t[i]))}return n}function wx(r,e,t){const n=new Map;for(const i of r){const a=i.transform,u=t.data.field(i.field);n.set(i.field,mO(a,u,e))}return n}class T1 extends w1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yT extends w1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rv{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&AO(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Kc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Kc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cT();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let l=this.applyToLocalView(u,a.mutatedFields);l=t.has(i.key)?null:l;const f=vT(u,l);f!==null&&n.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Te.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((t,n)=>xx(t,n)))&&Yu(this.baseMutations,e.baseMutations,((t,n)=>xx(t,n)))}}class Dv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){xe(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return hO})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new Dv(e,t,n,i)}}class Ov{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TO{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jt,Qe;function SO(r){switch(r){case ae.OK:return ye(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function _T(r){if(r===void 0)return Yn("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Jt.OK:return ae.OK;case Jt.CANCELLED:return ae.CANCELLED;case Jt.UNKNOWN:return ae.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ae.INTERNAL;case Jt.UNAVAILABLE:return ae.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ae.NOT_FOUND;case Jt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Jt.ABORTED:return ae.ABORTED;case Jt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Jt.DATA_LOSS:return ae.DATA_LOSS;default:return ye(39323,{code:r})}}(Qe=Jt||(Jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function IO(){return new TextEncoder}const CO=new ho([4294967295,4294967295],0);function Tx(r){const e=IO().encode(r),t=new mw;return t.update(e),new Uint8Array(t.digest())}function Sx(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ho([t,n],0),new ho([i,a],0)]}class Nv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Lc(`Invalid padding: ${t}`);if(n<0)throw new Lc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ho.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(ho.fromNumber(n)));return i.compare(CO)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Tx(e),[n,i]=Sx(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(n,i,a);if(!this.we(u))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Nv(a,i,t);return n.forEach((l=>u.insert(l))),u}insert(e){if(this.ge===0)return;const t=Tx(e),[n,i]=Sx(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(n,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class S1{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new S1(Te.min(),i,new Pt(Oe),_r(),Fe())}}class _f{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new _f(n,t,Fe(),Fe(),Fe())}}class Id{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class ET{constructor(e,t){this.targetId=e,this.Ce=t}}class xT{constructor(e,t,n=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Ix{constructor(){this.ve=0,this.Fe=Cx(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),n=Fe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ye(38017,{changeType:a})}})),new _f(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Cx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bO{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=ld(),this.He=ld(),this.Ye=new Pt(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(jd(a))if(n===0){const u=new pe(a.path);this.et(t,u,Ft.newNoDocument(u,Te.min()))}else xe(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const l=this.ut(e),f=l?this.ct(l,e,u):1;if(f!==0){this.it(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let u,l;try{u=ua(n).toUint8Array()}catch(f){if(f instanceof jw)return Ts("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new Nv(u,i,a)}catch(f){return Ts(f instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((a=>{const u=this.Ge.ht(),l=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const l=this.ot(u);if(l){if(a.current&&jd(l.target)){const f=new pe(l.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ft.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let n=Fe();this.He.forEach(((a,u)=>{let l=!0;u.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new S1(e,t,this.Ye,this.je,n);return this.je=_r(),this.Je=ld(),this.He=ld(),this.Ye=new Pt(Oe),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ix,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ix),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ld(){return new Pt(pe.comparator)}function Cx(){return new Pt(pe.comparator)}const RO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OO={and:"AND",or:"OR"};class NO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hg(r,e){return r.useProto3Json||p1(e)?e:{value:e}}function al(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MO(r,e){return al(r,e.toTimestamp())}function Qn(r){return xe(!!r,49232),Te.fromTimestamp((function(t){const n=sa(t);return new gt(n.seconds,n.nanos)})(r))}function Mv(r,e){return jg(r,e).canonicalString()}function jg(r,e){const t=(function(i){return new st(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function wT(r){const e=st.fromString(r);return xe(NT(e),10190,{key:e.toString()}),e}function qd(r,e){return Mv(r.databaseId,e.path)}function ys(r,e){const t=wT(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(IT(t))}function TT(r,e){return Mv(r.databaseId,e)}function ST(r){const e=wT(r);return e.length===4?st.emptyPath():IT(e)}function Gg(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bx(r,e,t){return{name:qd(r,e),fields:t.value.mapValue.fields}}function PO(r,e,t){const n=ys(r,e.name),i=Qn(e.updateTime),a=e.createTime?Qn(e.createTime):Te.min(),u=new kn({mapValue:{fields:e.fields}}),l=Ft.newFoundDocument(n,i,a,u);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function VO(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ye(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(xe(p===void 0||typeof p=="string",58123),nn.fromBase64String(p||"")):(xe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),nn.fromUint8Array(p||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&(function(h){const p=h.code===void 0?ae.UNKNOWN:_T(h.code);return new he(p,h.message||"")})(u);t=new xT(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ys(r,n.document.name),a=Qn(n.document.updateTime),u=n.document.createTime?Qn(n.document.createTime):Te.min(),l=new kn({mapValue:{fields:n.document.fields}}),f=Ft.newFoundDocument(i,a,u,l),h=n.targetIds||[],p=n.removedTargetIds||[];t=new Id(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ys(r,n.document),a=n.readTime?Qn(n.readTime):Te.min(),u=Ft.newNoDocument(i,a),l=n.removedTargetIds||[];t=new Id([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ys(r,n.document),a=n.removedTargetIds||[];t=new Id([],a,i,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,u=new TO(i,a),l=n.targetId;t=new ET(l,u)}}return t}function Xd(r,e){let t;if(e instanceof dl)t={update:bx(r,e.key,e.value)};else if(e instanceof T1)t={delete:qd(r,e.key)};else if(e instanceof da)t={update:bx(r,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof yT))return ye(16599,{Vt:e.type});t={verify:qd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,u){const l=u.transform;if(l instanceof uf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof il)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lf)return{fieldPath:u.field.canonicalString(),increment:l.Ae};throw ye(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:MO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ye(27497)})(r,e.precondition)),t}function qg(r,e){const t=e.currentDocument?(function(a){return a.updateTime!==void 0?Wn.updateTime(Qn(a.updateTime)):a.exists!==void 0?Wn.exists(a.exists):Wn.none()})(e.currentDocument):Wn.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(u,l){let f=null;if("setToServerValue"in l)xe(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),f=new uf;else if("appendMissingElements"in l){const p=l.appendMissingElements.values||[];f=new rl(p)}else if("removeAllFromArray"in l){const p=l.removeAllFromArray.values||[];f=new il(p)}else"increment"in l?f=new lf(u,l.increment):ye(16584,{proto:l});const h=Vt.fromServerFormat(l.fieldPath);return new _O(h,f)})(r,i))):[];if(e.update){e.update.name;const i=ys(r,e.update.name),a=new kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const h=f.fieldPaths||[];return new sr(h.map((p=>Vt.fromServerFormat(p))))})(e.updateMask);return new da(i,a,u,t,n)}return new dl(i,a,t,n)}if(e.delete){const i=ys(r,e.delete);return new T1(i,t)}if(e.verify){const i=ys(r,e.verify);return new yT(i,t)}return ye(1463,{proto:e})}function LO(r,e){return r&&r.length>0?(xe(e!==void 0,14353),r.map((t=>(function(i,a){let u=i.updateTime?Qn(i.updateTime):Qn(a);return u.isEqual(Te.min())&&(u=Qn(a)),new xO(u,i.transformResults||[])})(t,e)))):[]}function CT(r,e){return{documents:[TT(r,e.path)]}}function bT(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=TT(r,i);const a=(function(h){if(h.length!==0)return OT(vt.create(h,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(h){if(h.length!==0)return h.map((p=>(function(_){return{field:Vu(_.field),direction:kO(_.dir)}})(p)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=Hg(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function RT(r){let e=ST(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){xe(n===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=(function(m){const _=DT(m);return _ instanceof vt&&Cv(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(m){return m.map((_=>(function(T){return new sf(Lu(T.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(t.orderBy));let l=null;t.limit&&(l=(function(m){let _;return _=typeof m=="object"?m.value:m,p1(_)?null:_})(t.limit));let f=null;t.startAt&&(f=(function(m){const _=!!m.before,E=m.values||[];return new tl(E,_)})(t.startAt));let h=null;return t.endAt&&(h=(function(m){const _=!m.before,E=m.values||[];return new tl(E,_)})(t.endAt)),sO(e,i,u,a,l,"F",f,h)}function BO(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DT(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Lu(t.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Lu(t.unaryFilter.field);return Ke.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lu(t.unaryFilter.field);return Ke.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ke.create(Lu(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return vt.create(t.compositeFilter.filters.map((n=>DT(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(r):ye(30097,{filter:r})}function kO(r){return RO[r]}function FO(r){return DO[r]}function UO(r){return OO[r]}function Vu(r){return{fieldPath:r.canonicalString()}}function Lu(r){return Vt.fromServerFormat(r.fieldPath)}function OT(r){return r instanceof Ke?(function(t){if(t.op==="=="){if(hx(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NAN"}};if(fx(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hx(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NAN"}};if(fx(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(t.field),op:FO(t.op),value:t.value}}})(r):r instanceof vt?(function(t){const n=t.getFilters().map((i=>OT(i)));return n.length===1?n[0]:{compositeFilter:{op:UO(t.op),filters:n}}})(r):ye(54877,{filter:r})}function zO(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class na{constructor(e,t,n,i,a=Te.min(),u=Te.min(),l=nn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MT{constructor(e){this.yt=e}}function HO(r,e){let t;if(e.document)t=PO(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=pe.fromSegments(e.noDocument.path),i=bs(e.noDocument.readTime);t=Ft.newNoDocument(n,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const n=pe.fromSegments(e.unknownDocument.path),i=bs(e.unknownDocument.version);t=Ft.newUnknownDocument(n,i)}}return e.readTime&&t.setReadTime((function(i){const a=new gt(i[0],i[1]);return Te.fromTimestamp(a)})(e.readTime)),t}function Rx(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,u){return{name:qd(a,u.key),fields:u.data.value.mapValue.fields,updateTime:al(a,u.version.toTimestamp()),createTime:al(a,u.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Cs(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Cs(e.version)}}return n}function Kd(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Cs(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bs(r){const e=new gt(r.seconds,r.nanoseconds);return Te.fromTimestamp(e)}function ls(r,e){const t=(e.baseMutations||[]).map((a=>qg(r.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];u.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>qg(r.yt,a))),i=gt.fromMillis(e.localWriteTimeMs);return new Rv(e.batchId,i,t,n)}function Bc(r){const e=bs(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?bs(r.lastLimboFreeSnapshotVersion):Te.min();let n;return n=(function(a){return a.documents!==void 0})(r.query)?(function(a){const u=a.documents.length;return xe(u===1,1966,{count:u}),Fr(E1(ST(a.documents[0])))})(r.query):(function(a){return Fr(RT(a))})(r.query),new na(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,nn.fromBase64String(r.resumeToken))}function PT(r,e){const t=Cs(e.snapshotVersion),n=Cs(e.lastLimboFreeSnapshotVersion);let i;i=jd(e.target)?CT(r.yt,e.target):bT(r.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Is(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function VT(r){const e=RT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zg(e,e.limit,"L"):e}function tg(r,e){return new Ov(e.largestBatchId,qg(r.yt,e.overlayMutation))}function Dx(r,e){const t=e.path.lastSegment();return[r,Fn(e.path.popLast()),t]}function Ox(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:Cs(n.readTime),documentKey:Fn(n.documentKey.path),largestBatchId:n.largestBatchId}}class jO{getBundleMetadata(e,t){return Nx(e).get(t).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:bs(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,t){return Nx(e).put((function(i){return{bundleId:i.id,createTime:Cs(Qn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return Mx(e).get(t).next((n=>{if(n)return(function(a){return{name:a.name,query:VT(a.bundledQuery),readTime:bs(a.readTime)}})(n)}))}saveNamedQuery(e,t){return Mx(e).put((function(i){return{name:i.name,readTime:Cs(Qn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function Nx(r){return pn(r,g1)}function Mx(r){return pn(r,v1)}class I1{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new I1(e,n)}getOverlay(e,t){return Sc(e).get(Dx(this.userId,t)).next((n=>n?tg(this.serializer,n):null))}getOverlays(e,t){const n=Di();return X.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((a,u)=>{const l=new Ov(t,u);i.push(this.St(e,l))})),X.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((u=>i.add(Fn(u.getCollectionPath()))));const a=[];return i.forEach((u=>{const l=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,n+1],!1,!0);a.push(Sc(e).Z(Mg,l))})),X.waitFor(a)}getOverlaysForCollection(e,t,n){const i=Di(),a=Fn(t),u=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sc(e).J(Mg,u).next((l=>{for(const f of l){const h=tg(this.serializer,f);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const a=Di();let u;const l=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sc(e).ee({index:Bw,range:l},((f,h,p)=>{const m=tg(this.serializer,h);a.size()<i||m.largestBatchId===u?(a.set(m.getKey(),m),u=m.largestBatchId):p.done()})).next((()=>a))}St(e,t){return Sc(e).put((function(i,a,u){const[l,f,h]=Dx(a,u.mutation.key);return{userId:a,collectionPath:f,documentId:h,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Xd(i.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Sc(r){return pn(r,m1)}class GO{bt(e){return pn(e,Av)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const n=t?.value;return n?nn.fromUint8Array(n):nn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class cs{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Mt(e.integerValue));else if("doubleValue"in e){const n=Mt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$c(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),typeof n=="string"&&(n=sa(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ua(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ww(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):_1(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ye(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const i of Object.keys(n))this.Ot(i,t),this.Ct(n[i],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const i=Ju,a=n[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Mt(a)),this.Ot(i,t),this.Ct(n[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const i of n)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),pe.fromName(e).path.forEach((n=>{this.Ft(t,60),this.Ut(n,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}cs.Kt=new cs;const Ru=255;function qO(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function Px(r){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const u=qO(255&n[a]);if(i+=u,u!==8)break}return i})(r);return Math.ceil(e/8)}class XO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),n=Px(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),n=Px(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Ru),this.sn(255)}_n(){this.an(Ru),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)})(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Ru?(this.sn(Ru),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Ru?(this.an(Ru),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class KO{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class YO{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ic{constructor(){this.cn=new XO,this.ln=new KO(this.cn),this.hn=new YO(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class fs{constructor(e,t,n,i){this.Tn=e,this.In=t,this.En=n,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new fs(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Cd(this.En),directionalValue:Cd(this.dn),orderedDocumentKey:Cd(t),documentKey:n.path.toArray()}}Vn(e,t,n){const i=this.Rn(e,t,n);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Wa(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=Vx(r.En,e.En),t!==0?t:(t=Vx(r.dn,e.dn),t!==0?t:pe.comparator(r.In,e.In)))}function Vx(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(n!==0)return n}return r.length-e.length}function Cd(r){return lw()?(function(t){let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return n})(r):r}function Lx(r){return typeof r!="string"?r:(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(r)}class Bx{constructor(e){this.mn=new mt(((t,n)=>Vt.comparator(t.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const n=t;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Dg(e);if(t!==void 0&&!this.wn(t))return!1;const n=os(e);let i=new Set,a=0,u=0;for(;a<n.length&&this.wn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const f=n[a];if(!this.Sn(l,f)||!this.bn(this.fn[u++],f))return!1}++a}for(;a<n.length;++a){const l=n[a];if(u>=this.fn.length||!this.bn(this.fn[u++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new mt(Vt.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new _d(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new _d(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new _d(n.field,n.dir==="asc"?0:1)));return new kd(kd.UNKNOWN_ID,this.collectionId,t,Zc.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function LT(r){if(xe(r instanceof Ke||r instanceof vt,20012),r instanceof Ke){if(r instanceof iT){const t=r.value.arrayValue?.values?.map((n=>Ke.create(r.field,"==",n)))||[];return vt.create(t,"or")}return r}const e=r.filters.map((t=>LT(t)));return vt.create(e,r.op)}function WO(r){if(r.getFilters().length===0)return[];const e=Yg(LT(r));return xe(BT(e),7391),Xg(e)||Kg(e)?[e]:e.getFilters()}function Xg(r){return r instanceof Ke}function Kg(r){return r instanceof vt&&Cv(r)}function BT(r){return Xg(r)||Kg(r)||(function(t){if(t instanceof vt&&Bg(t)){for(const n of t.getFilters())if(!Xg(n)&&!Kg(n))return!1;return!0}return!1})(r)}function Yg(r){if(xe(r instanceof Ke||r instanceof vt,34018),r instanceof Ke)return r;if(r.filters.length===1)return Yg(r.filters[0]);const e=r.filters.map((n=>Yg(n)));let t=vt.create(e,r.op);return t=Yd(t),BT(t)?t:(xe(t instanceof vt,64498),xe(nl(t),40251),xe(t.filters.length>1,57927),t.filters.reduce(((n,i)=>Pv(n,i))))}function Pv(r,e){let t;return xe(r instanceof Ke||r instanceof vt,38388),xe(e instanceof Ke||e instanceof vt,25473),t=r instanceof Ke?e instanceof Ke?(function(i,a){return vt.create([i,a],"and")})(r,e):kx(r,e):e instanceof Ke?kx(e,r):(function(i,a){if(xe(i.filters.length>0&&a.filters.length>0,48005),nl(i)&&nl(a))return tT(i,a.getFilters());const u=Bg(i)?i:a,l=Bg(i)?a:i,f=u.filters.map((h=>Pv(h,l)));return vt.create(f,"or")})(r,e),Yd(t)}function kx(r,e){if(nl(e))return tT(e,r.getFilters());{const t=e.filters.map((n=>Pv(r,n)));return vt.create(t,"or")}}function Yd(r){if(xe(r instanceof Ke||r instanceof vt,11850),r instanceof Ke)return r;const e=r.getFilters();if(e.length===1)return Yd(e[0]);if(Jw(r))return r;const t=e.map((i=>Yd(i))),n=[];return t.forEach((i=>{i instanceof Ke?n.push(i):i instanceof vt&&(i.op===r.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:vt.create(n,r.op)}class QO{constructor(){this.Cn=new Vv}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Er.min())}updateCollectionGroup(e,t,n){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Vv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new mt(st.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mt(st.comparator)).toArray()}}const Fx="IndexedDbIndexManager",cd=new Uint8Array(0);class ZO{constructor(e,t){this.databaseId=t,this.vn=new Vv,this.Fn=new ha((n=>Is(n)),((n,i)=>mf(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const a={collectionId:n,parent:Fn(i)};return Ux(e).put(a)}return X.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[Sw(t),""],!1,!0);return Ux(e).J(i).next((a=>{for(const u of a){if(u.collectionId!==t)break;n.push(Ri(u.parent))}return n}))}addFieldIndex(e,t){const n=Cc(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete i.indexId;const a=n.add(i);if(t.indexState){const u=Ou(e);return a.next((l=>{u.put(Ox(l,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}deleteFieldIndex(e,t){const n=Cc(e),i=Ou(e),a=Du(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Cc(e),n=Du(e),i=Ou(e);return t.Z().next((()=>n.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return X.forEach(this.Mn(t),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new Bx(n).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,t){const n=Du(e);let i=!0;const a=new Map;return X.forEach(this.Mn(t),(u=>this.xn(e,u).next((l=>{i&&(i=!!l),a.set(u,l)})))).next((()=>{if(i){let u=Fe();const l=[];return X.forEach(a,((f,h)=>{le(Fx,`Using index ${(function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map((j=>`${j.fieldPath}:${j.kind}`)).join(",")}`})(f)} to execute ${Is(t)}`);const p=(function(B,j){const G=Dg(j);if(G===void 0)return null;for(const $ of Gd(B,G.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null})(h,f),m=(function(B,j){const G=new Map;for(const $ of os(j))for(const C of Gd(B,$.fieldPath))switch(C.op){case"==":case"in":G.set($.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return G.set($.fieldPath.canonicalString(),C.value),Array.from(G.values())}return null})(h,f),_=(function(B,j){const G=[];let $=!0;for(const C of os(j)){const b=C.kind===0?mx(B,C.fieldPath,B.startAt):yx(B,C.fieldPath,B.startAt);G.push(b.value),$&&($=b.inclusive)}return new tl(G,$)})(h,f),E=(function(B,j){const G=[];let $=!0;for(const C of os(j)){const b=C.kind===0?yx(B,C.fieldPath,B.endAt):mx(B,C.fieldPath,B.endAt);G.push(b.value),$&&($=b.inclusive)}return new tl(G,$)})(h,f),T=this.On(f,h,_),S=this.On(f,h,E),D=this.Nn(f,h,m),V=this.Bn(f.indexId,p,T,_.inclusive,S,E.inclusive,D);return X.forEach(V,(M=>n.Y(M,t.limit).next((B=>{B.forEach((j=>{const G=pe.fromSegments(j.documentKey);u.has(G)||(u=u.add(G),l.push(G))}))}))))})).next((()=>l))}return X.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=WO(vt.create(e.filters,"and")).map((n=>Fg(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,n,i,a,u,l){const f=(t!=null?t.length:1)*Math.max(n.length,a.length),h=f/(t!=null?t.length:1),p=[];for(let m=0;m<f;++m){const _=t?this.Ln(t[m/h]):cd,E=this.kn(e,_,n[m%h],i),T=this.qn(e,_,a[m%h],u),S=l.map((D=>this.kn(e,_,D,!0)));p.push(...this.createRange(E,T,S))}return p}kn(e,t,n,i){const a=new fs(e,pe.empty(),t,n);return i?a:a.An()}qn(e,t,n,i){const a=new fs(e,pe.empty(),t,n);return i?a.An():a}xn(e,t){const n=new Bx(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let u=null;for(const l of a)n.yn(l)&&(!u||l.fields.length>u.fields.length)&&(u=l);return u}))}getIndexType(e,t){let n=2;const i=this.Mn(t);return X.forEach(i,(a=>this.xn(e,a).next((u=>{u?n!==0&&u.fields.length<(function(f){let h=new mt(Vt.comparator),p=!1;for(const m of f.filters)for(const _ of m.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?p=!0:h=h.add(_.field));for(const m of f.orderBy)m.field.isKeyField()||(h=h.add(m.field));return h.size+(p?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(u){return u.limit!==null})(t)&&i.length>1&&n===2?1:n))}Qn(e,t){const n=new Ic;for(const i of os(e)){const a=t.data.field(i.fieldPath);if(a==null)return null;const u=n.Pn(i.kind);cs.Kt.Dt(a,u)}return n.un()}Ln(e){const t=new Ic;return cs.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Ic;return cs.Kt.Dt(af(this.databaseId,t),n.Pn((function(a){const u=os(a);return u.length===0?0:u[u.length-1].kind})(e))),n.un()}Nn(e,t,n){if(n===null)return[];let i=[];i.push(new Ic);let a=0;for(const u of os(e)){const l=n[a++];for(const f of i)if(this.Un(t,u.fieldPath)&&of(l))i=this.Kn(i,u,l);else{const h=f.Pn(u.kind);cs.Kt.Dt(l,h)}}return this.Wn(i)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const i=[...e],a=[];for(const u of n.arrayValue.values||[])for(const l of i){const f=new Ic;f.seed(l.un()),cs.Kt.Dt(u,f.Pn(t.kind)),a.push(f)}return a}Un(e,t){return!!e.filters.find((n=>n instanceof Ke&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,t){const n=Cc(e),i=Ou(e);return(t?n.J(Ng,IDBKeyRange.bound(t,t)):n.J()).next((a=>{const u=[];return X.forEach(a,(l=>i.get([l.indexId,this.uid]).next((f=>{u.push((function(p,m){const _=m?new Zc(m.sequenceNumber,new Er(bs(m.readTime),new pe(Ri(m.documentKey)),m.largestBatchId)):Zc.empty(),E=p.fields.map((([T,S])=>new _d(Vt.fromServerFormat(T),S)));return new kd(p.indexId,p.collectionGroup,E,_)})(l,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Oe(n.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=Cc(e),a=Ou(e);return this.Gn(e).next((u=>i.J(Ng,IDBKeyRange.bound(t,t)).next((l=>X.forEach(l,(f=>a.put(Ox(f.indexId,this.uid,u,n))))))))}updateIndexEntries(e,t){const n=new Map;return X.forEach(t,((i,a)=>{const u=n.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(n.set(i.collectionGroup,l),X.forEach(l,(f=>this.zn(e,i,f).next((h=>{const p=this.jn(a,f);return h.isEqual(p)?X.resolve():this.Jn(e,a,f,h,p)})))))))}))}Hn(e,t,n,i){return Du(e).put(i.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,i){return Du(e).delete(i.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const i=Du(e);let a=new mt(Wa);return i.ee({index:Lw,range:IDBKeyRange.only([n.indexId,this.uid,Cd(this.$n(n,t))])},((u,l)=>{a=a.add(new fs(n.indexId,t,Lx(l.arrayValue),Lx(l.directionalValue)))})).next((()=>a))}jn(e,t){let n=new mt(Wa);const i=this.Qn(t,e);if(i==null)return n;const a=Dg(t);if(a!=null){const u=e.data.field(a.fieldPath);if(of(u))for(const l of u.arrayValue.values||[])n=n.add(new fs(t.indexId,e.key,this.Ln(l),i))}else n=n.add(new fs(t.indexId,e.key,cd,i));return n}Jn(e,t,n,i,a){le(Fx,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,h,p,m,_){const E=f.getIterator(),T=h.getIterator();let S=bu(E),D=bu(T);for(;S||D;){let V=!1,M=!1;if(S&&D){const B=p(S,D);B<0?M=!0:B>0&&(V=!0)}else S!=null?M=!0:V=!0;V?(m(D),D=bu(T)):M?(_(S),S=bu(E)):(S=bu(E),D=bu(T))}})(i,a,Wa,(l=>{u.push(this.Hn(e,t,n,l))}),(l=>{u.push(this.Yn(e,t,n,l))})),X.waitFor(u)}Gn(e){let t=1;return Ou(e).ee({index:Vw,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((u,l)=>Wa(u,l))).filter(((u,l,f)=>!l||Wa(u,f[l-1])!==0));const i=[];i.push(e);for(const u of n){const l=Wa(u,e),f=Wa(u,t);if(l===0)i[0]=e.An();else if(l>0&&f<0)i.push(u),i.push(u.An());else if(f>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2){if(this.Zn(i[u],i[u+1]))return[];const l=i[u].Vn(this.uid,cd,pe.empty()),f=i[u+1].Vn(this.uid,cd,pe.empty());a.push(IDBKeyRange.bound(l,f))}return a}Zn(e,t){return Wa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zx)}getMinOffset(e,t){return X.mapArray(this.Mn(t),(n=>this.xn(e,n).next((i=>i||ye(44426))))).next(zx)}}function Ux(r){return pn(r,tf)}function Du(r){return pn(r,jc)}function Cc(r){return pn(r,xv)}function Ou(r){return pn(r,Hc)}function zx(r){xe(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const i=r[n].indexState.offset;yv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Er(e.readTime,e.documentKey,t)}const Hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function FT(r,e,t){const n=r.store(ei),i=r.store(Wu),a=[],u=IDBKeyRange.only(t.batchId);let l=0;const f=n.ee({range:u},((p,m,_)=>(l++,_.delete())));a.push(f.next((()=>{xe(l===1,47070,{batchId:t.batchId})})));const h=[];for(const p of t.mutations){const m=Nw(e,p.key.path,t.batchId);a.push(i.delete(m)),h.push(p.key)}return X.waitFor(a).next((()=>h))}function Wd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ye(14731);e=r.noDocument}return JSON.stringify(e).length}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(kT,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class C1{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Xn={}}static wt(e,t,n,i){xe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new C1(a,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qa(e).ee({index:ds,range:n},((i,a,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const a=Bu(e),u=Qa(e);return u.add({}).next((l=>{xe(typeof l=="number",49019);const f=new Rv(l,t,n,i),h=(function(E,T,S){const D=S.baseMutations.map((M=>Xd(E.yt,M))),V=S.mutations.map((M=>Xd(E.yt,M)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:D,mutations:V}})(this.serializer,this.userId,f),p=[];let m=new mt(((_,E)=>Oe(_.canonicalString(),E.canonicalString())));for(const _ of i){const E=Nw(this.userId,_.key.path,l);m=m.add(_.key.path.popLast()),p.push(u.put(h)),p.push(a.put(E,SD))}return m.forEach((_=>{p.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[l]=f.keys()})),X.waitFor(p).next((()=>f))}))}lookupMutationBatch(e,t){return Qa(e).get(t).next((n=>n?(xe(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),ls(this.serializer,n)):null))}er(e,t){return this.Xn[t]?X.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((n=>{if(n){const i=n.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return Qa(e).ee({index:ds,range:i},((u,l,f)=>{l.userId===this.userId&&(xe(l.batchId>=n,47524,{tr:n}),a=ls(this.serializer,l)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=vs;return Qa(e).ee({index:ds,range:t,reverse:!0},((i,a,u)=>{n=a.batchId,u.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,vs],[this.userId,Number.POSITIVE_INFINITY]);return Qa(e).J(ds,t).next((n=>n.map((i=>ls(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ed(this.userId,t.path),i=IDBKeyRange.lowerBound(n),a=[];return Bu(e).ee({range:i},((u,l,f)=>{const[h,p,m]=u,_=Ri(p);if(h===this.userId&&t.path.isEqual(_))return Qa(e).get(m).next((E=>{if(!E)throw ye(61480,{nr:u,batchId:m});xe(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:m}),a.push(ls(this.serializer,E))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mt(Oe);const i=[];return t.forEach((a=>{const u=Ed(this.userId,a.path),l=IDBKeyRange.lowerBound(u),f=Bu(e).ee({range:l},((h,p,m)=>{const[_,E,T]=h,S=Ri(E);_===this.userId&&a.path.isEqual(S)?n=n.add(T):m.done()}));i.push(f)})),X.waitFor(i).next((()=>this.rr(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,a=Ed(this.userId,n),u=IDBKeyRange.lowerBound(a);let l=new mt(Oe);return Bu(e).ee({range:u},((f,h,p)=>{const[m,_,E]=f,T=Ri(_);m===this.userId&&n.isPrefixOf(T)?T.length===i&&(l=l.add(E)):p.done()})).next((()=>this.rr(e,l)))}rr(e,t){const n=[],i=[];return t.forEach((a=>{i.push(Qa(e).get(a).next((u=>{if(u===null)throw ye(35274,{batchId:a});xe(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:a}),n.push(ls(this.serializer,u))})))})),X.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return FT(e.le,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),X.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return X.resolve();const n=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),i=[];return Bu(e).ee({range:n},((a,u,l)=>{if(a[0]===this.userId){const f=Ri(a[1]);i.push(f)}else l.done()})).next((()=>{xe(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,t){return UT(e,this.userId,t)}_r(e){return zT(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:vs,lastStreamToken:""}))}}function UT(r,e,t){const n=Ed(e,t.path),i=n[1],a=IDBKeyRange.lowerBound(n);let u=!1;return Bu(r).ee({range:a,X:!0},((l,f,h)=>{const[p,m,_]=l;p===e&&m===i&&(u=!0),h.done()})).next((()=>u))}function Qa(r){return pn(r,ei)}function Bu(r){return pn(r,Wu)}function zT(r){return pn(r,Jc)}class Rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rs(0)}static cr(){return new Rs(-1)}}class $O{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const n=new Rs(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Te.fromTimestamp(new gt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nu(e).delete(t.targetId))).next((()=>this.lr(e))).next((n=>(xe(n.targetCount>0,8065),n.targetCount-=1,this.hr(e,n))))}removeTargets(e,t,n){let i=0;const a=[];return Nu(e).ee(((u,l)=>{const f=Bc(l);f.sequenceNumber<=t&&n.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))})).next((()=>X.waitFor(a))).next((()=>i))}forEachTarget(e,t){return Nu(e).ee(((n,i)=>{const a=Bc(i);t(a)}))}lr(e){return jx(e).get(zd).next((t=>(xe(t!==null,2888),t)))}hr(e,t){return jx(e).put(zd,t)}Pr(e,t){return Nu(e).put(PT(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const n=Is(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Nu(e).ee({range:i,index:Pw},((u,l,f)=>{const h=Bc(l);mf(t,h.target)&&(a=h,f.done())})).next((()=>a))}addMatchingKeys(e,t,n){const i=[],a=eo(e);return t.forEach((u=>{const l=Fn(u.path);i.push(a.put({targetId:n,path:l})),i.push(this.referenceDelegate.addReference(e,n,u))})),X.waitFor(i)}removeMatchingKeys(e,t,n){const i=eo(e);return X.forEach(t,(a=>{const u=Fn(a.path);return X.waitFor([i.delete([n,u]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,t){const n=eo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=eo(e);let a=Fe();return i.ee({range:n,X:!0},((u,l,f)=>{const h=Ri(u[1]),p=new pe(h);a=a.add(p)})).next((()=>a))}containsKey(e,t){const n=Fn(t.path),i=IDBKeyRange.bound([n],[Sw(n)],!1,!0);let a=0;return eo(e).ee({index:Ev,X:!0,range:i},(([u,l],f,h)=>{u!==0&&(a++,h.done())})).next((()=>a>0))}At(e,t){return Nu(e).get(t).next((n=>n?Bc(n):null))}}function Nu(r){return pn(r,Qu)}function jx(r){return pn(r,ms)}function eo(r){return pn(r,Zu)}const Gx="LruGarbageCollector",JO=1048576;function qx([r,e],[t,n]){const i=Oe(r,t);return i===0?Oe(e,n):i}class e5{constructor(e){this.Ir=e,this.buffer=new mt(qx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();qx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HT{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(Gx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xo(t)?le(Gx,"Ignoring IndexedDB error during garbage collection: ",t):await Ms(t)}await this.Vr(3e5)}))}}class t5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Br.ce);const n=new e5(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,u,l,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,u=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,t)))).next((m=>(a=m,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(h=Date.now(),Mu()<=Xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${a} targets in `+(f-l)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function jT(r,e){return new t5(r,e)}class n5{constructor(e,t){this.db=e,this.garbageCollector=jT(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((n,i)=>t(i)))}addReference(e,t,n){return fd(e,n)}removeReference(e,t,n){return fd(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return fd(e,t)}br(e,t){return(function(i,a){let u=!1;return zT(i).te((l=>UT(i,l,a).next((f=>(f&&(u=!0),X.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((u,l)=>{if(l<=t){const f=this.br(e,u).next((h=>{if(!h)return a++,n.getEntry(e,u).next((()=>(n.removeEntry(u,Te.min()),eo(e).delete((function(m){return[0,Fn(m.path)]})(u)))))}));i.push(f)}})).next((()=>X.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return fd(e,t)}Sr(e,t){const n=eo(e);let i,a=Br.ce;return n.ee({index:Ev},(([u,l],{path:f,sequenceNumber:h})=>{u===0?(a!==Br.ce&&t(new pe(Ri(i)),a),a=h,i=f):a=Br.ce})).next((()=>{a!==Br.ce&&t(new pe(Ri(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fd(r,e){return eo(r).put((function(n,i){return{targetId:0,path:Fn(n.path),sequenceNumber:i}})(e,r.currentSequenceNumber))}class GT{constructor(){this.changes=new ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?X.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return rs(e).put(n)}removeEntry(e,t,n){return rs(e).delete((function(a,u){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Kd(u),l[l.length-1]]})(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Dr(e,n))))}getEntry(e,t){let n=Ft.newInvalidDocument(t);return rs(e).ee({index:xd,range:IDBKeyRange.only(bc(t))},((i,a)=>{n=this.Cr(t,a)})).next((()=>n))}vr(e,t){let n={size:0,document:Ft.newInvalidDocument(t)};return rs(e).ee({index:xd,range:IDBKeyRange.only(bc(t))},((i,a)=>{n={document:this.Cr(t,a),size:Wd(a)}})).next((()=>n))}getEntries(e,t){let n=_r();return this.Fr(e,t,((i,a)=>{const u=this.Cr(i,a);n=n.insert(i,u)})).next((()=>n))}Mr(e,t){let n=_r(),i=new Pt(pe.comparator);return this.Fr(e,t,((a,u)=>{const l=this.Cr(a,u);n=n.insert(a,l),i=i.insert(a,Wd(u))})).next((()=>({documents:n,Or:i})))}Fr(e,t,n){if(t.isEmpty())return X.resolve();let i=new mt(Yx);t.forEach((f=>i=i.add(f)));const a=IDBKeyRange.bound(bc(i.first()),bc(i.last())),u=i.getIterator();let l=u.getNext();return rs(e).ee({index:xd,range:a},((f,h,p)=>{const m=pe.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&Yx(l,m)<0;)n(l,null),l=u.getNext();l&&l.isEqual(m)&&(n(l,h),l=u.hasNext()?u.getNext():null),l?p.j(bc(l)):p.done()})).next((()=>{for(;l;)n(l,null),l=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i,a){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Kd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rs(e).J(IDBKeyRange.bound(l,f,!0)).next((h=>{a?.incrementDocumentReadCount(h.length);let p=_r();for(const m of h){const _=this.Cr(pe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);_.isFoundDocument()&&(yf(t,_)||i.has(_.key))&&(p=p.insert(_.key,_))}return p}))}getAllFromCollectionGroup(e,t,n,i){let a=_r();const u=Kx(t,n),l=Kx(t,Er.max());return rs(e).ee({index:Mw,range:IDBKeyRange.bound(u,l,!0)},((f,h,p)=>{const m=this.Cr(pe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);a=a.insert(m.key,m),a.size===i&&p.done()})).next((()=>a))}newChangeBuffer(e){return new i5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Xx(e).get(Og).next((t=>(xe(!!t,20021),t)))}Dr(e,t){return Xx(e).put(Og,t)}Cr(e,t){if(t){const n=HO(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(Te.min())))return n}return Ft.newInvalidDocument(e)}}function qT(r){return new r5(r)}class i5 extends GT{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new ha((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const t=[];let n=0,i=new mt(((a,u)=>Oe(a.canonicalString(),u.canonicalString())));return this.changes.forEach(((a,u)=>{const l=this.Br.get(a);if(t.push(this.Nr.removeEntry(e,a,l.readTime)),u.isValidDocument()){const f=Rx(this.Nr.serializer,u);i=i.add(a.path.popLast());const h=Wd(f);n+=h-l.size,t.push(this.Nr.addEntry(e,a,f))}else if(n-=l.size,this.trackRemovals){const f=Rx(this.Nr.serializer,u.convertToNoDocument(Te.min()));t.push(this.Nr.addEntry(e,a,f))}})),i.forEach((a=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),t.push(this.Nr.updateMetadata(e,n)),X.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((n=>(this.Br.set(t,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:n,Or:i})=>(i.forEach(((a,u)=>{this.Br.set(a,{size:u,readTime:n.get(a).readTime})})),n)))}}function Xx(r){return pn(r,ef)}function rs(r){return pn(r,Ud)}function bc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kx(r,e){const t=e.documentKey.path.toArray();return[r,Kd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yx(r,e){const t=r.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<n.length-2;++a)if(i=Oe(t[a],n[a]),i)return i;return i=Oe(t.length,n.length),i||(i=Oe(t[t.length-2],n[n.length-2]),i||Oe(t[t.length-1],n[n.length-1]))}class a5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XT{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Kc(n.mutation,i,sr.empty(),gt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Fe()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Fe()){const i=Di();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((a=>{let u=Vc();return a.forEach(((l,f)=>{u=u.insert(l,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=Di();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Fe())))}populateOverlays(e,t,n){const i=[];return n.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,l)=>{t.set(u,l)}))}))}computeViews(e,t,n,i){let a=_r();const u=Xc(),l=(function(){return Xc()})();return t.forEach(((f,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof da)?a=a.insert(h.key,h):p!==void 0?(u.set(h.key,p.mutation.getFieldMask()),Kc(p.mutation,h,p.mutation.getFieldMask(),gt.now())):u.set(h.key,sr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,p)=>u.set(h,p))),t.forEach(((h,p)=>l.set(h,new a5(p,u.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,t){const n=Xc();let i=new Pt(((u,l)=>u-l)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const l of u)l.keys().forEach((f=>{const h=t.get(f);if(h===null)return;let p=n.get(f)||sr.empty();p=l.applyToLocalView(h,p),n.set(f,p);const m=(i.get(l.batchId)||Fe()).add(f);i=i.insert(l.batchId,m)}))})).next((()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),h=f.key,p=f.value,m=cT();p.forEach((_=>{if(!a.has(_)){const E=vT(t.get(_),n.get(_));E!==null&&m.set(_,E),a=a.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,m))}return X.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(u){return pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):X.resolve(Di());let l=Qc,f=a;return u.next((h=>X.forEach(h,((p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{f=f.insert(p,_)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,Fe()))).next((p=>({batchId:l,changes:lT(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((n=>{let i=Vc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let u=Vc();return this.indexManager.getCollectionParents(e,a).next((l=>X.forEach(l,(f=>{const h=(function(m,_){return new hl(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((p=>{p.forEach(((m,_)=>{u=u.insert(m,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i)))).next((u=>{a.forEach(((f,h)=>{const p=h.getKey();u.get(p)===null&&(u=u.insert(p,Ft.newInvalidDocument(p)))}));let l=Vc();return u.forEach(((f,h)=>{const p=a.get(f);p!==void 0&&Kc(p.mutation,h,sr.empty(),gt.now()),yf(t,h)&&(l=l.insert(f,h))})),l}))}}class o5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:VT(i.bundledQuery),readTime:Qn(i.readTime)}})(t)),X.resolve()}}class s5{constructor(){this.overlays=new Pt(pe.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Di();return X.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,a)=>{this.St(e,t,a)})),X.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),X.resolve()}getOverlaysForCollection(e,t,n){const i=Di(),a=t.length+1,u=new pe(t.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const f=l.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>n&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Pt(((h,p)=>h-p));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=Di(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=Di(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>l.set(h,p))),!(l.size()>=i)););return X.resolve(l)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new Ov(t,n));let a=this.qr.get(t);a===void 0&&(a=Fe(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class u5{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}class Lv{constructor(){this.Qr=new mt(En.$r),this.Ur=new mt(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new En(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new En(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new pe(new st([])),n=new En(t,e),i=new En(t,e+1),a=[];return this.Ur.forEachInRange([n,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new st([])),n=new En(t,e),i=new En(t,e+1);let a=Fe();return this.Ur.forEachInRange([n,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new En(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class En{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}class l5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mt(En.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Rv(a,t,n,i);this.mutationQueue.push(u);for(const l of i)this.Zr=this.Zr.add(new En(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vs:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(u=>{const l=this.Xr(u.Yr);a.push(l)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mt(Oe);return t.forEach((i=>{const a=new En(i,0),u=new En(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(l=>{n=n.add(l.Yr)}))})),X.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;pe.isDocumentKey(a)||(a=a.child(""));const u=new En(new pe(a),0);let l=new mt(Oe);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(l=l.add(f.Yr)),!0)}),u),X.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return X.forEach(t.mutations,(i=>{const a=new En(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new En(t,0),i=this.Zr.firstAfterOrEqual(n);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c5{constructor(e){this.ri=e,this.docs=(function(){return new Pt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return X.resolve(n?n.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let n=_r();return t.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ft.newInvalidDocument(i))})),X.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=_r();const u=t.path,l=new pe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||yv(bw(p),n)<=0||(i.has(p.key)||yf(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,n,i){ye(9500)}ii(e,t){return X.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new f5(this)}getSize(e){return X.resolve(this.size)}}class f5 extends GT{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class h5{constructor(e){this.persistence=e,this.si=new ha((t=>Is(t)),mf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Lv,this.targetCount=0,this.ai=Rs.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Rs(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach(((u,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),X.waitFor(a).next((()=>i))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return X.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),X.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return X.resolve(n)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}class Bv{constructor(e,t){this.ui={},this.overlays={},this.ci=new Br(0),this.li=!1,this.li=!0,this.hi=new u5,this.referenceDelegate=e(this),this.Pi=new h5(this),this.indexManager=new QO,this.remoteDocumentCache=(function(i){return new c5(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new MT(t),this.Ii=new o5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new l5(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){le("MemoryPersistence","Starting transaction:",e);const i=new d5(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return X.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class d5 extends Dw{constructor(e){super(),this.currentSequenceNumber=e}}class b1{constructor(e){this.persistence=e,this.Ri=new Lv,this.Vi=null}static mi(e){return new b1(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),X.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(n=>{const i=pe.fromPath(n);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Te.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qd{constructor(e,t){this.persistence=e,this.pi=new ha((n=>Fn(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=jT(this,t)}static mi(e,t){return new Qd(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?X.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((l=>{l||(n++,a.removeEntry(u,Te.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wd(e.data.value)),t}br(e,t,n){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return X.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class p5{constructor(e){this.serializer=e}k(e,t,n,i){const a=new d1("createOrUpgrade",t);n<1&&i>=1&&((function(f){f.createObjectStore(vf)})(e),(function(f){f.createObjectStore(Jc,{keyPath:TD}),f.createObjectStore(ei,{keyPath:ax,autoIncrement:!0}).createIndex(ds,ox,{unique:!0}),f.createObjectStore(Wu)})(e),Wx(e),(function(f){f.createObjectStore(ss)})(e));let u=X.resolve();return n<3&&i>=3&&(n!==0&&((function(f){f.deleteObjectStore(Zu),f.deleteObjectStore(Qu),f.deleteObjectStore(ms)})(e),Wx(e)),u=u.next((()=>(function(f){const h=f.store(ms),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return h.put(zd,p)})(a)))),n<4&&i>=4&&(n!==0&&(u=u.next((()=>(function(f,h){return h.store(ei).J().next((m=>{f.deleteObjectStore(ei),f.createObjectStore(ei,{keyPath:ax,autoIncrement:!0}).createIndex(ds,ox,{unique:!0});const _=h.store(ei),E=m.map((T=>_.put(T)));return X.waitFor(E)}))})(e,a)))),u=u.next((()=>{(function(f){f.createObjectStore($u,{keyPath:MD})})(e)}))),n<5&&i>=5&&(u=u.next((()=>this.yi(a)))),n<6&&i>=6&&(u=u.next((()=>((function(f){f.createObjectStore(ef)})(e),this.wi(a))))),n<7&&i>=7&&(u=u.next((()=>this.Si(a)))),n<8&&i>=8&&(u=u.next((()=>this.bi(e,a)))),n<9&&i>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(u=u.next((()=>this.Di(a)))),n<11&&i>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(g1,{keyPath:PD})})(e),(function(f){f.createObjectStore(v1,{keyPath:VD})})(e)}))),n<12&&i>=12&&(u=u.next((()=>{(function(f){const h=f.createObjectStore(m1,{keyPath:HD});h.createIndex(Mg,jD,{unique:!1}),h.createIndex(Bw,GD,{unique:!1})})(e)}))),n<13&&i>=13&&(u=u.next((()=>(function(f){const h=f.createObjectStore(Ud,{keyPath:ID});h.createIndex(xd,CD),h.createIndex(Mw,bD)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(ss)))),n<14&&i>=14&&(u=u.next((()=>this.Fi(e,a)))),n<15&&i>=15&&(u=u.next((()=>(function(f){f.createObjectStore(xv,{keyPath:LD,autoIncrement:!0}).createIndex(Ng,BD,{unique:!1}),f.createObjectStore(Hc,{keyPath:kD}).createIndex(Vw,FD,{unique:!1}),f.createObjectStore(jc,{keyPath:UD}).createIndex(Lw,zD,{unique:!1})})(e)))),n<16&&i>=16&&(u=u.next((()=>{t.objectStore(Hc).clear()})).next((()=>{t.objectStore(jc).clear()}))),n<17&&i>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(Av,{keyPath:qD})})(e)}))),n<18&&i>=18&&lw()&&(u=u.next((()=>{t.objectStore(Hc).clear()})).next((()=>{t.objectStore(jc).clear()}))),u}wi(e){let t=0;return e.store(ss).ee(((n,i)=>{t+=Wd(i)})).next((()=>{const n={byteSize:t};return e.store(ef).put(Og,n)}))}yi(e){const t=e.store(Jc),n=e.store(ei);return t.J().next((i=>X.forEach(i,(a=>{const u=IDBKeyRange.bound([a.userId,vs],[a.userId,a.lastAcknowledgedBatchId]);return n.J(ds,u).next((l=>X.forEach(l,(f=>{xe(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const h=ls(this.serializer,f);return FT(e,a.userId,h).next((()=>{}))}))))}))))}Si(e){const t=e.store(Zu),n=e.store(ss);return e.store(ms).get(zd).next((i=>{const a=[];return n.ee(((u,l)=>{const f=new st(u),h=(function(m){return[0,Fn(m)]})(f);a.push(t.get(h).next((p=>p?X.resolve():(m=>t.put({targetId:0,path:Fn(m),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>X.waitFor(a)))}))}bi(e,t){e.createObjectStore(tf,{keyPath:ND});const n=t.store(tf),i=new Vv,a=u=>{if(i.add(u)){const l=u.lastSegment(),f=u.popLast();return n.put({collectionId:l,parent:Fn(f)})}};return t.store(ss).ee({X:!0},((u,l)=>{const f=new st(u);return a(f.popLast())})).next((()=>t.store(Wu).ee({X:!0},(([u,l,f],h)=>{const p=Ri(l);return a(p.popLast())}))))}Di(e){const t=e.store(Qu);return t.ee(((n,i)=>{const a=Bc(i),u=PT(this.serializer,a);return t.put(u)}))}Ci(e,t){const n=t.store(ss),i=[];return n.ee(((a,u)=>{const l=t.store(Ud),f=(function(m){return m.document?new pe(st.fromString(m.document.name).popFirst(5)):m.noDocument?pe.fromSegments(m.noDocument.path):m.unknownDocument?pe.fromSegments(m.unknownDocument.path):ye(36783)})(u).path.toArray(),h={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(l.put(h))})).next((()=>X.waitFor(i)))}Fi(e,t){const n=t.store(ei),i=qT(this.serializer),a=new Bv(b1.mi,this.serializer.yt);return n.J().next((u=>{const l=new Map;return u.forEach((f=>{let h=l.get(f.userId)??Fe();ls(this.serializer,f).keys().forEach((p=>h=h.add(p))),l.set(f.userId,h)})),X.forEach(l,((f,h)=>{const p=new On(h),m=I1.wt(this.serializer,p),_=a.getIndexManager(p),E=C1.wt(p,this.serializer,_,a.referenceDelegate);return new XT(i,E,m,_).recalculateAndSaveOverlaysForDocumentKeys(new Pg(t,Br.ce),f).next()}))}))}}function Wx(r){r.createObjectStore(Zu,{keyPath:DD}).createIndex(Ev,OD,{unique:!0}),r.createObjectStore(Qu,{keyPath:"targetId"}).createIndex(Pw,RD,{unique:!0}),r.createObjectStore(ms)}const Za="IndexedDbPersistence",ng=18e5,rg=5e3,ig="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",g5="main";class kv{constructor(e,t,n,i,a,u,l,f,h,p,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=a,this.window=u,this.document=l,this.xi=h,this.Oi=p,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!kv.v())throw new he(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n5(this,i),this.$i=t+g5,this.serializer=new MT(f),this.Ui=new go(this.$i,this.Ni,new p5(this.serializer)),this.hi=new GO,this.Pi=new $O(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qT(this.serializer),this.Ii=new jO,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Yn(Za,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(ae.FAILED_PRECONDITION,ig);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Br(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>hd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(xo(e))return le(Za,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Za,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Rc(e).get(Cu).next((t=>X.resolve(this.es(t))))}ts(e){return hd(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ng)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const n=pn(t,$u);return n.J().next((i=>{const a=this.ss(i,ng),u=i.filter((l=>a.indexOf(l)===-1));return X.forEach(u,(l=>n.delete(l.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?X.resolve(!0):Rc(e).get(Cu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,rg)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new he(ae.FAILED_PRECONDITION,ig);return!1}}return!(!this.networkEnabled||!this.inForeground)||hd(e).J().next((n=>this.ss(n,rg).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(a||u&&l)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(Za,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vf,$u],(e=>{const t=new Pg(e,Br.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((n=>this.rs(n.updateTimeMs,t)&&!this.us(n.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>hd(e).J().next((t=>this.ss(t,ng).map((n=>n.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return C1.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZO(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return I1.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){le(Za,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?YD:f===17?zw:f===16?KD:f===15?wv:f===14?Uw:f===13?Fw:f===12?XD:f===11?kw:void ye(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,i,a,(l=>(u=new Pg(l,this.ci?this.ci.next():Br.ce),t==="readwrite-primary"?this.Hi(u).next((f=>!!f||this.Yi(u))).next((f=>{if(!f)throw Yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new he(ae.FAILED_PRECONDITION,Rw);return n(u)})).next((f=>this.Xi(u).next((()=>f)))):this.Is(u).next((()=>n(u)))))).then((l=>(u.raiseOnCommittedEvent(),l)))}Is(e){return Rc(e).get(Cu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,rg)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new he(ae.FAILED_PRECONDITION,ig)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rc(e).put(Cu,t)}static v(){return go.v()}Zi(e){const t=Rc(e);return t.get(Cu).next((n=>this.es(n)?(le(Za,"Releasing primary lease."),t.delete(Cu)):X.resolve()))}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Yn(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;uw()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return le(Za,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Yn(Za,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Yn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rc(r){return pn(r,vf)}function hd(r){return pn(r,$u)}function v5(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Fv{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=Fe(),i=Fe();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fv(e,t.fromCache,n,i)}}class m5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uw()?8:Ow(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,n).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new m5;return this.Ss(e,t,u).next((l=>{if(a.result=l,this.Vs)return this.bs(e,t,u,l.size)}))})).next((()=>a.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Mu()<=Xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Pu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Mu()<=Xe.DEBUG&&le("QueryEngine","Query:",Pu(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Mu()<=Xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Pu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):X.resolve())}ys(e,t){if(_x(t))return X.resolve(null);let n=Fr(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=zg(t,null,"F"),n=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const u=Fe(...a);return this.ps.getDocuments(e,u).next((l=>this.indexManager.getMinOffset(e,n).next((f=>{const h=this.Ds(t,l);return this.Cs(t,h,u,f.readTime)?this.ys(e,zg(t,null,"F")):this.vs(e,h,t,f)}))))})))))}ws(e,t,n,i){return _x(t)||i.isEqual(Te.min())?X.resolve(null):this.ps.getDocuments(e,n).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,n,i)?X.resolve(null):(Mu()<=Xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(t)),this.vs(e,u,t,mD(i,Qc)).next((l=>l)))}))}Ds(e,t){let n=new mt(sT(e));return t.forEach(((i,a)=>{yf(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return Mu()<=Xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Pu(t)),this.ps.getDocumentsMatchingQuery(e,t,Er.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Uv="LocalStore",y5=3e8;class _5{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Pt(Oe),this.xs=new ha((a=>Is(a)),mf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function YT(r,e,t,n){return new _5(r,e,t,n)}async function WT(r,e){const t=Ne(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const u=[],l=[];let f=Fe();for(const h of i){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of a){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return t.localDocuments.getDocuments(n,f).next((h=>({Ls:h,removedBatchIds:u,addedBatchIds:l})))}))}))}function E5(r,e){const t=Ne(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,f,h,p){const m=h.batch,_=m.keys();let E=X.resolve();return _.forEach((T=>{E=E.next((()=>p.getEntry(f,T))).next((S=>{const D=h.docVersions.get(T);xe(D!==null,48541),S.version.compareTo(D)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),E.next((()=>l.mutationQueue.removeMutationBatch(f,m)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let f=Fe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(f=f.add(l.batch.mutations[h].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function QT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function x5(r,e){const t=Ne(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach(((p,m)=>{const _=i.get(m);if(!_)return;l.push(t.Pi.removeMatchingKeys(a,p.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(a,p.addedDocuments,m))));let E=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(nn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,n)),i=i.insert(m,E),(function(S,D,V){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=y5?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,E,p)&&l.push(t.Pi.updateTargetData(a,E))}));let f=_r(),h=Fe();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(A5(a,u,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!n.isEqual(Te.min())){const p=t.Pi.getLastRemoteSnapshotVersion(a).next((m=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(p)}return X.waitFor(l).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(t.Ms=i,a)))}function A5(r,e,t){let n=Fe(),i=Fe();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let u=_r();return t.forEach(((l,f)=>{const h=a.get(l);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(l,f.readTime),u=u.insert(l,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(l,f)):le(Uv,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",f.version)})),{ks:u,qs:i}}))}function w5(r,e){const t=Ne(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=vs),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function T5(r,e){const t=Ne(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((a=>a?(i=a,X.resolve(i)):t.Pi.allocateTargetId(n).next((u=>(i=new na(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Wg(r,e,t){const n=Ne(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(u=>n.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!xo(u))throw u;le(Uv,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Qx(r,e,t){const n=Ne(r);let i=Te.min(),a=Fe();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,h,p){const m=Ne(f),_=m.xs.get(p);return _!==void 0?X.resolve(m.Ms.get(_)):m.Pi.getTargetData(h,p)})(n,u,Fr(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,l.targetId).next((f=>{a=f}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?i:Te.min(),t?a:Fe()))).next((l=>(S5(n,lO(e),l),{documents:l,Qs:a})))))}function S5(r,e,t){let n=r.Os.get(e)||Te.min();t.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.Os.set(e,n)}class Zx{constructor(){this.activeTargetIds=gO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZT{constructor(){this.Mo=new Zx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I5{Oo(e){}shutdown(){}}const $x="ConnectivityMonitor";class Jx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le($x,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le($x,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dd=null;function Qg(){return dd===null?dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():dd++,"0x"+dd.toString(16)}const ag="RestConnection",C5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Hd?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const u=Qg(),l=this.zo(e,t.toUriEncodedString());le(ag,`Sending RPC '${e}' ${u}:`,l,n);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(l),p=ll(h);return this.Jo(e,l,f,n,p).then((m=>(le(ag,`Received RPC '${e}' ${u}: `,m),m)),(m=>{throw Ts(ag,`RPC '${e}' ${u} failed with error: `,m,"url: ",l,"request:",n),m}))}Ho(e,t,n,i,a,u){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const n=C5[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class R5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vn="WebChannelConnection";class D5 extends b5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const u=Qg();return new Promise(((l,f)=>{const h=new yw;h.setWithCredentials(!0),h.listenOnce(_w.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case yd.NO_ERROR:const m=h.getResponseJson();le(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(m)),l(m);break;case yd.TIMEOUT:le(Vn,`RPC '${e}' ${u} timed out`),f(new he(ae.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const _=h.getStatus();if(le(Vn,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E?.error;if(T&&T.status&&T.message){const S=(function(V){const M=V.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(M)>=0?M:ae.UNKNOWN})(T.status);f(new he(S,T.message))}else f(new he(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new he(ae.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(Vn,`RPC '${e}' ${u} completed.`)}}));const p=JSON.stringify(i);le(Vn,`RPC '${e}' ${u} sending request:`,i),h.send(t,"POST",p,n,15)}))}T_(e,t,n){const i=Qg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Aw(),l=xw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,n),f.encodeInitMessageHeaders=!0;const p=a.join("");le(Vn,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=u.createWebChannel(p,f);this.I_(m);let _=!1,E=!1;const T=new R5({Yo:D=>{E?le(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(_||(le(Vn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),le(Vn,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},Zo:()=>m.close()}),S=(D,V,M)=>{D.listen(V,(B=>{try{M(B)}catch(j){setTimeout((()=>{throw j}),0)}}))};return S(m,Pc.EventType.OPEN,(()=>{E||(le(Vn,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(m,Pc.EventType.CLOSE,(()=>{E||(E=!0,le(Vn,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(m))})),S(m,Pc.EventType.ERROR,(D=>{E||(E=!0,Ts(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),T.a_(new he(ae.UNAVAILABLE,"The operation could not be completed")))})),S(m,Pc.EventType.MESSAGE,(D=>{if(!E){const V=D.data[0];xe(!!V,16349);const M=V,B=M?.error||M[0]?.error;if(B){le(Vn,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let G=(function(b){const N=Jt[b];if(N!==void 0)return _T(N)})(j),$=B.message;G===void 0&&(G=ae.INTERNAL,$="Unknown error status: "+j+" with message "+B.message),E=!0,T.a_(new he(G,$)),m.close()}else le(Vn,`RPC '${e}' stream ${i} received:`,V),T.u_(V)}})),S(l,Ew.STAT_EVENT,(D=>{D.stat===bg.PROXY?le(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===bg.NOPROXY&&le(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function O5(){return typeof window<"u"?window:null}function bd(){return typeof document<"u"?document:null}function R1(r){return new NO(r,!0)}class $T{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eA="PersistentStream";class JT{constructor(e,t,n,i,a,u,l,f){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $T(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new he(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(eA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(eA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N5 extends JT{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VO(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Te.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?Qn(u.readTime):Te.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Gg(this.serializer),t.addTarget=(function(a,u){let l;const f=u.target;if(l=jd(f)?{documents:CT(a,f)}:{query:bT(a,f).ft},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=AT(a,u.resumeToken);const h=Hg(a,u.expectedCount);h!==null&&(l.expectedCount=h)}else if(u.snapshotVersion.compareTo(Te.min())>0){l.readTime=al(a,u.snapshotVersion.toTimestamp());const h=Hg(a,u.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const n=BO(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.q_(t)}}class M5 extends JT{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LO(e.writeResults,e.commitTime),n=Qn(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Gg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>Xd(this.serializer,n)))};this.q_(t)}}class P5{}class V5 extends P5{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new he(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,jg(t,n),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ae.UNKNOWN,a.toString())}))}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,l])=>this.connection.Ho(e,jg(t,n),i,u,l,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yn(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ds="RemoteStore";class B5{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{Ps(this)&&(le(Ds,"Restarting streams for network reachability change."),await(async function(f){const h=Ne(f);h.Ea.add(4),await Ef(h),h.Ra.set("Unknown"),h.Ea.delete(4),await D1(h)})(this))}))})),this.Ra=new L5(n,i)}}async function D1(r){if(Ps(r))for(const e of r.da)await e(!0)}async function Ef(r){for(const e of r.da)await e(!1)}function e3(r,e){const t=Ne(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gv(t)?jv(t):pl(t).O_()&&Hv(t,e))}function zv(r,e){const t=Ne(r),n=pl(t);t.Ia.delete(e),n.O_()&&t3(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ps(t)&&t.Ra.set("Unknown"))}function Hv(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(r).Y_(e)}function t3(r,e){r.Va.Ue(e),pl(r).Z_(e)}function jv(r){r.Va=new bO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Ra.ua()}function Gv(r){return Ps(r)&&!pl(r).x_()&&r.Ia.size>0}function Ps(r){return Ne(r).Ea.size===0}function n3(r){r.Va=void 0}async function k5(r){r.Ra.set("Online")}async function F5(r){r.Ia.forEach(((e,t)=>{Hv(r,e)}))}async function U5(r,e){n3(r),Gv(r)?(r.Ra.ha(e),jv(r)):r.Ra.set("Unknown")}async function z5(r,e,t){if(r.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i.Ia.delete(l),i.Va.removeTarget(l))})(r,e)}catch(n){le(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Zd(r,n)}else if(e instanceof Id?r.Va.Ze(e):e instanceof ET?r.Va.st(e):r.Va.tt(e),!t.isEqual(Te.min()))try{const n=await QT(r.localStore);t.compareTo(n)>=0&&await(function(a,u){const l=a.Va.Tt(u);return l.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Ia.get(h);p&&a.Ia.set(h,p.withResumeToken(f.resumeToken,u))}})),l.targetMismatches.forEach(((f,h)=>{const p=a.Ia.get(f);if(!p)return;a.Ia.set(f,p.withResumeToken(nn.EMPTY_BYTE_STRING,p.snapshotVersion)),t3(a,f);const m=new na(p.target,f,h,p.sequenceNumber);Hv(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(r,t)}catch(n){le(Ds,"Failed to raise snapshot:",n),await Zd(r,n)}}async function Zd(r,e,t){if(!xo(e))throw e;r.Ea.add(1),await Ef(r),r.Ra.set("Offline"),t||(t=()=>QT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Ds,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await D1(r)}))}function r3(r,e){return e().catch((t=>Zd(r,t,e)))}async function xf(r){const e=Ne(r),t=_o(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vs;for(;H5(e);)try{const i=await w5(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,j5(e,i)}catch(i){await Zd(e,i)}i3(e)&&a3(e)}function H5(r){return Ps(r)&&r.Ta.length<10}function j5(r,e){r.Ta.push(e);const t=_o(r);t.O_()&&t.X_&&t.ea(e.mutations)}function i3(r){return Ps(r)&&!_o(r).x_()&&r.Ta.length>0}function a3(r){_o(r).start()}async function G5(r){_o(r).ra()}async function q5(r){const e=_o(r);for(const t of r.Ta)e.ea(t.mutations)}async function X5(r,e,t){const n=r.Ta.shift(),i=Dv.from(n,e,t);await r3(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await xf(r)}async function K5(r,e){e&&_o(r).X_&&await(async function(n,i){if((function(u){return SO(u)&&u!==ae.ABORTED})(i.code)){const a=n.Ta.shift();_o(n).B_(),await r3(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await xf(n)}})(r,e),i3(r)&&a3(r)}async function tA(r,e){const t=Ne(r);t.asyncQueue.verifyOperationInProgress(),le(Ds,"RemoteStore received new credentials");const n=Ps(t);t.Ea.add(3),await Ef(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await D1(t)}async function Y5(r,e){const t=Ne(r);e?(t.Ea.delete(2),await D1(t)):e||(t.Ea.add(2),await Ef(t),t.Ra.set("Unknown"))}function pl(r){return r.ma||(r.ma=(function(t,n,i){const a=Ne(t);return a.sa(),new N5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:k5.bind(null,r),t_:F5.bind(null,r),r_:U5.bind(null,r),H_:z5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gv(r)?jv(r):r.Ra.set("Unknown")):(await r.ma.stop(),n3(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(t,n,i){const a=Ne(t);return a.sa(),new M5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:G5.bind(null,r),r_:K5.bind(null,r),ta:q5.bind(null,r),na:X5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Ds,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qv{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,l=new qv(e,t,u,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(r,e){if(Yn("AsyncQueue",`${e}: ${r}`),xo(r))return new he(ae.UNAVAILABLE,`${e}: ${r}`);throw r}class zu{static emptySet(e){return new zu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||pe.comparator(t.key,n.key):(t,n)=>pe.comparator(t.key,n.key),this.keyedMap=Vc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new zu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nA{constructor(){this.ga=new Pt(pe.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ol{constructor(e,t,n,i,a,u,l,f,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,a){const u=[];return t.forEach((l=>{u.push({type:0,doc:l})})),new ol(e,t,zu.emptySet(t),u,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class W5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Q5{constructor(){this.queries=rA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=Ne(t),a=i.queries;i.queries=rA(),a.forEach(((u,l)=>{for(const f of l.Sa)f.onError(n)}))})(this,new he(ae.ABORTED,"Firestore shutting down"))}}function rA(){return new ha((r=>oT(r)),x1)}async function Z5(r,e){const t=Ne(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new W5,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const l=Xv(u,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Kv(t)}async function $5(r,e){const t=Ne(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function J5(r,e){const t=Ne(r);let n=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const l of u.Sa)l.Fa(i)&&(n=!0);u.wa=i}}n&&Kv(t)}function eN(r,e,t){const n=Ne(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function Kv(r){r.Ca.forEach((e=>{e.next()}))}var Zg,iA;(iA=Zg||(Zg={})).Ma="default",iA.Cache="cache";class tN{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ol(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}class o3{constructor(e){this.key=e}}class s3{constructor(e){this.key=e}}class nN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=sT(e),this.tu=new zu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new nA,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,l=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const _=i.get(p),E=yf(this.query,m)?m:null,T=!!_&&this.mutatedKeys.has(_.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;_&&E?_.data.isEqual(E.data)?T!==S&&(n.track({type:3,doc:E}),D=!0):this.su(_,E)||(n.track({type:2,doc:E}),D=!0,(f&&this.eu(E,f)>0||h&&this.eu(E,h)<0)&&(l=!0)):!_&&E?(n.track({type:0,doc:E}),D=!0):_&&!E&&(n.track({type:1,doc:_}),D=!0,(f||h)&&(l=!0)),D&&(E?(u=u.add(E),a=S?a.add(p):a.delete(p)):(u=u.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{tu:u,iu:n,Cs:l,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((p,m)=>(function(E,T){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:D})}};return S(E)-S(T)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(n),i=i??!1;const l=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,u.length!==0||h?{snapshot:new ol(this.query,e.tu,a,u,e.mutatedKeys,f===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new s3(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new o3(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yv="SyncEngine";class rN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class iN{constructor(e){this.key=e,this.hu=!1}}class aN{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ha((l=>oT(l)),x1),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(pe.comparator),this.Au=new Map,this.Ru=new Lv,this.Vu={},this.mu=new Map,this.fu=Rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(r,e,t=!0){const n=d3(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await u3(n,e,t,!0),i}async function sN(r,e){const t=d3(r);await u3(t,e,!0,!1)}async function u3(r,e,t,n){const i=await T5(r.localStore,Fr(e)),a=i.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let l;return n&&(l=await uN(r,e,a,u==="current",i.resumeToken)),r.isPrimaryClient&&t&&e3(r.remoteStore,i),l}async function uN(r,e,t,n,i){r.pu=(m,_,E)=>(async function(S,D,V,M){let B=D.view.ru(V);B.Cs&&(B=await Qx(S.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,B))));const j=M&&M.targetChanges.get(D.targetId),G=M&&M.targetMismatches.get(D.targetId)!=null,$=D.view.applyChanges(B,S.isPrimaryClient,j,G);return oA(S,D.targetId,$.au),$.snapshot})(r,m,_,E);const a=await Qx(r.localStore,e,!0),u=new nN(e,a.Qs),l=u.ru(a.documents),f=_f.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=u.applyChanges(l,r.isPrimaryClient,f);oA(r,t,h.au);const p=new rN(e,t,u);return r.Tu.set(e,p),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),h.snapshot}async function lN(r,e,t){const n=Ne(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((u=>!x1(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Wg(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&zv(n.remoteStore,i.targetId),$g(n,i.targetId)})).catch(Ms)):($g(n,i.targetId),await Wg(n.localStore,i.targetId,!0))}async function cN(r,e){const t=Ne(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),zv(t.remoteStore,n.targetId))}async function fN(r,e,t){const n=p3(r);try{const i=await(function(u,l){const f=Ne(u),h=gt.now(),p=l.reduce(((E,T)=>E.add(T.key)),Fe());let m,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let T=_r(),S=Fe();return f.Ns.getEntries(E,p).next((D=>{T=D,T.forEach(((V,M)=>{M.isValidDocument()||(S=S.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,T))).next((D=>{m=D;const V=[];for(const M of l){const B=wO(M,m.get(M.key).overlayedDocument);B!=null&&V.push(new da(M.key,B,Zw(B.value.mapValue),Wn.exists(!0)))}return f.mutationQueue.addMutationBatch(E,h,V,l)})).next((D=>{_=D;const V=D.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(E,D.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:lT(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(u,l,f){let h=u.Vu[u.currentUser.toKey()];h||(h=new Pt(Oe)),h=h.insert(l,f),u.Vu[u.currentUser.toKey()]=h})(n,i.batchId,t),await Af(n,i.changes),await xf(n.remoteStore)}catch(i){const a=Xv(i,"Failed to persist write");t.reject(a)}}async function l3(r,e){const t=Ne(r);try{const n=await x5(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?xe(u.hu,14607):i.removedDocuments.size>0&&(xe(u.hu,42227),u.hu=!1))})),await Af(t,n,e)}catch(n){await Ms(n)}}function aA(r,e,t){const n=Ne(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((a,u)=>{const l=u.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(u,l){const f=Ne(u);f.onlineState=l;let h=!1;f.queries.forEach(((p,m)=>{for(const _ of m.Sa)_.va(l)&&(h=!0)})),h&&Kv(f)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hN(r,e,t){const n=Ne(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let u=new Pt(pe.comparator);u=u.insert(a,Ft.newNoDocument(a,Te.min()));const l=Fe().add(a),f=new S1(Te.min(),new Map,new Pt(Oe),u,l);await l3(n,f),n.du=n.du.remove(a),n.Au.delete(e),Wv(n)}else await Wg(n.localStore,e,!1).then((()=>$g(n,e,t))).catch(Ms)}async function dN(r,e){const t=Ne(r),n=e.batch.batchId;try{const i=await E5(t.localStore,e);f3(t,n,null),c3(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Af(t,i)}catch(i){await Ms(i)}}async function pN(r,e,t){const n=Ne(r);try{const i=await(function(u,l){const f=Ne(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,l).next((m=>(xe(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,l))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);f3(n,e,t),c3(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Af(n,i)}catch(i){await Ms(i)}}function c3(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function f3(r,e,t){const n=Ne(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function $g(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||h3(r,n)}))}function h3(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(zv(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Wv(r))}function oA(r,e,t){for(const n of t)n instanceof o3?(r.Ru.addReference(n.key,e),gN(r,n)):n instanceof s3?(le(Yv,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||h3(r,n.key)):ye(19791,{wu:n})}function gN(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(le(Yv,"New document in limbo: "+t),r.Eu.add(n),Wv(r))}function Wv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new pe(st.fromString(e)),n=r.fu.next();r.Au.set(n,new iN(t)),r.du=r.du.insert(t,n),e3(r.remoteStore,new na(Fr(E1(t.path)),n,"TargetPurposeLimboResolution",Br.ce))}}async function Af(r,e,t){const n=Ne(r),i=[],a=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,f)=>{u.push(n.pu(f,e,t).then((h=>{if((h||t)&&n.isPrimaryClient){const p=h?!h.fromCache:t?.targetChanges.get(f.targetId)?.current;n.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Fv.As(f.targetId,h);a.push(p)}})))})),await Promise.all(u),n.Pu.H_(i),await(async function(f,h){const p=Ne(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>X.forEach(h,(_=>X.forEach(_.Es,(E=>p.persistence.referenceDelegate.addReference(m,_.targetId,E))).next((()=>X.forEach(_.ds,(E=>p.persistence.referenceDelegate.removeReference(m,_.targetId,E)))))))))}catch(m){if(!xo(m))throw m;le(Uv,"Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const E=p.Ms.get(_),T=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(_,S)}}})(n.localStore,a))}async function vN(r,e){const t=Ne(r);if(!t.currentUser.isEqual(e)){le(Yv,"User change. New user:",e.toKey());const n=await WT(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((l=>{l.forEach((f=>{f.reject(new he(ae.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Af(t,n.Ls)}}function mN(r,e){const t=Ne(r),n=t.Au.get(e);if(n&&n.hu)return Fe().add(n.key);{let i=Fe();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const l=t.Tu.get(u);i=i.unionWith(l.view.nu)}return i}}function d3(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.Pu.H_=J5.bind(null,e.eventManager),e.Pu.yu=eN.bind(null,e.eventManager),e}function p3(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=R1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return YT(this.persistence,new KT,e.initialUser,this.serializer)}Cu(e){return new Bv(b1.mi,this.serializer)}Du(e){return new ZT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class yN extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xe(this.persistence.referenceDelegate instanceof Qd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new HT(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Bv((n=>Qd.mi(n,t)),this.serializer)}}class _N extends cf{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await p3(this.xu.syncEngine),await xf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return YT(this.persistence,new KT,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new HT(n,e.asyncQueue,t)}Mu(e,t){const n=new xD(t,this.persistence);return new ED(e.asyncQueue,n)}Cu(e){const t=v5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new kv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,O5(),bd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ZT}}class $d{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>aA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await Y5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q5})()}createDatastore(e){const t=R1(e.databaseInfo.databaseId),n=(function(a){return new D5(a)})(e.databaseInfo);return(function(a,u,l,f){return new V5(a,u,l,f)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,a,u,l){return new B5(n,i,a,u,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>aA(this.syncEngine,t,0)),(function(){return Jx.v()?new Jx:new I5})())}createSyncEngine(e,t){return(function(i,a,u,l,f,h,p){const m=new aN(i,a,u,l,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Ne(t);le(Ds,"RemoteStore shutting down."),n.Ea.add(5),await Ef(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};class EN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Eo="FirestoreClient";class xN{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async u=>{le(Eo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(le(Eo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function og(r,e){r.asyncQueue.verifyOperationInProgress(),le(Eo,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await WT(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function sA(r,e){r.asyncQueue.verifyOperationInProgress();const t=await AN(r);le(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>tA(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>tA(e.remoteStore,i))),r._onlineComponents=e}async function AN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Eo,"Using user provided OfflineComponentProvider");try{await og(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),await og(r,new cf)}}else le(Eo,"Using default OfflineComponentProvider"),await og(r,new yN(void 0));return r._offlineComponents}async function g3(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Eo,"Using user provided OnlineComponentProvider"),await sA(r,r._uninitializedComponentsProvider._online)):(le(Eo,"Using default OnlineComponentProvider"),await sA(r,new $d))),r._onlineComponents}function wN(r){return g3(r).then((e=>e.syncEngine))}async function uA(r){const e=await g3(r),t=e.eventManager;return t.onListen=oN.bind(null,e.syncEngine),t.onUnlisten=lN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),t}function v3(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const lA=new Map;const m3="firestore.googleapis.com",cA=!0;class fA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m3,this.ssl=cA}else this.host=e.host,this.ssl=e.ssl??cA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JO)throw new he(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v3(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new he(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new he(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new he(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O1{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new oD;switch(n.type){case"firstParty":return new cD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=lA.get(t);n&&(le("ComponentProvider","Removing Datastore"),lA.delete(t),n.terminate())})(this),Promise.resolve()}}function TN(r,e,t,n={}){r=aa(r,O1);const i=ll(e),a=r._getSettings(),u={...a,emulatorOptions:r._getEmulatorOptions()},l=`${e}:${t}`;i&&(aw(`https://${l}`),ow("Firestore",!0)),a.host!==m3&&a.host!==l&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:l,ssl:i,emulatorOptions:n};if(!xs(f,u)&&(r._setSettings(f),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=On.MOCK_USER;else{h=P6(n.mockUserToken,r._app?.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new he(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new On(m)}r._authCredentials=new sD(new Tw(h,p))}}class Vs{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class tn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(gf(t,tn._jsonSchema))return new tn(e,n||null,new pe(st.fromString(t.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:en("string",tn._jsonSchemaVersion),referencePath:en("string")};class vo extends Vs{constructor(e,t,n){super(e,t,E1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new pe(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Jd(r,e,...t){if(r=Un(r),Iw("collection","path",e),r instanceof O1){const n=st.fromString(e,...t);return ex(n),new vo(r,null,n)}{if(!(r instanceof tn||r instanceof vo))throw new he(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return ex(n),new vo(r.firestore,null,n)}}function e1(r,e,...t){if(r=Un(r),arguments.length===1&&(e=mv.newId()),Iw("doc","path",e),r instanceof O1){const n=st.fromString(e,...t);return JE(n),new tn(r,null,new pe(n))}{if(!(r instanceof tn||r instanceof vo))throw new he(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return JE(n),new tn(r.firestore,r instanceof vo?r.converter:null,new pe(n))}}const hA="AsyncQueue";class dA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $T(this,"async_queue_retry"),this._c=()=>{const n=bd();n&&le(hA,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=bd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new po;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;le(hA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Yn("INTERNAL UNHANDLED ERROR: ",pA(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=qv.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ye(47125,{Pc:pA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pA(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function gA(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(r,["next","error","complete"])}class Os extends O1{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new dA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dA(e),this._firestoreClient=void 0,await e}}}function SN(r,e){const t=typeof r=="object"?r:pw(),n=typeof r=="string"?r:Hd,i=gv(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=N6("firestore");a&&TN(i,...a)}return i}function y3(r){if(r._terminated)throw new he(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_3(r),r._firestoreClient}function _3(r){const e=r._freezeSettings(),t=(function(i,a,u,l){return new QD(i,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,v3(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xN(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(r._componentsProvider))}function IN(r,e){Ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return CN(r,$d.provider,{build:n=>new _N(n,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function CN(r,e,t){if((r=aa(r,Os))._firestoreClient||r._terminated)throw new he(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new he(ae.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},_3(r)}class Vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vr(nn.fromBase64String(e))}catch(t){throw new he(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vr(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gf(e,Vr._jsonSchema))return Vr.fromBase64String(e.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:en("string",Vr._jsonSchemaVersion),bytes:en("string")};class N1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qv{constructor(e){this._methodName=e}}class Oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(gf(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:en("string",Oi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Ni{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gf(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ni(e.vectorValues);throw new he(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:en("string",Ni._jsonSchemaVersion),vectorValues:en("object")};const bN=/^__.*__$/;class RN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class E3{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function x3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Zv{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return t1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(x3(this.Ac)&&bN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||R1(e)}Cc(e,t,n,i=!1){return new Zv({Ac:e,methodName:t,Dc:n,path:Vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(r){const e=r._freezeSettings(),t=R1(r._databaseId);return new DN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ON(r,e,t,n,i,a={}){const u=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);Jv("Data must be an object, but it was:",u,n);const l=A3(n,u);let f,h;if(a.merge)f=new sr(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const _=Jg(e,m,t);if(!u.contains(_))throw new he(ae.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);T3(p,_)||p.push(_)}f=new sr(p),h=u.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=u.fieldTransforms;return new RN(new kn(l),f,h)}class M1 extends Qv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M1}}function NN(r,e,t,n){const i=r.Cc(1,e,t);Jv("Data must be an object, but it was:",i,n);const a=[],u=kn.empty();Ao(n,((f,h)=>{const p=em(e,f,t);h=Un(h);const m=i.yc(p);if(h instanceof M1)a.push(p);else{const _=wf(h,m);_!=null&&(a.push(p),u.set(p,_))}}));const l=new sr(a);return new E3(u,l,i.fieldTransforms)}function MN(r,e,t,n,i,a){const u=r.Cc(1,e,t),l=[Jg(e,n,t)],f=[i];if(a.length%2!=0)throw new he(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)l.push(Jg(e,a[_])),f.push(a[_+1]);const h=[],p=kn.empty();for(let _=l.length-1;_>=0;--_)if(!T3(h,l[_])){const E=l[_];let T=f[_];T=Un(T);const S=u.yc(E);if(T instanceof M1)h.push(E);else{const D=wf(T,S);D!=null&&(h.push(E),p.set(E,D))}}const m=new sr(h);return new E3(p,m,u.fieldTransforms)}function PN(r,e,t,n=!1){return wf(t,r.Cc(n?4:3,e))}function wf(r,e){if(w3(r=Un(r)))return Jv("Unsupported field value:",e,r),A3(r,e);if(r instanceof Qv)return(function(n,i){if(!x3(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let u=0;for(const l of n){let f=wf(l,i.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(r,e)}return(function(n,i){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return vO(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=gt.fromDate(n);return{timestampValue:al(i.serializer,a)}}if(n instanceof gt){const a=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:al(i.serializer,a)}}if(n instanceof Oi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vr)return{bytesValue:AT(i.serializer,n._byteString)};if(n instanceof tn){const a=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ni)return(function(u,l){return{mapValue:{fields:{[Sv]:{stringValue:Iv},[Ju]:{arrayValue:{values:u.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return bv(l.serializer,h)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${h1(n)}`)})(r,e)}function A3(r,e){const t={};return Hw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(r,((n,i)=>{const a=wf(i,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function w3(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Oi||r instanceof Vr||r instanceof tn||r instanceof Qv||r instanceof Ni)}function Jv(r,e,t){if(!w3(t)||!Cw(t)){const n=h1(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Jg(r,e,t){if((e=Un(e))instanceof N1)return e._internalPath;if(typeof e=="string")return em(r,e);throw t1("Field path arguments must be of type string or ",r,!1,void 0,t)}const VN=new RegExp("[~\\*/\\[\\]]");function em(r,e,t){if(e.search(VN)>=0)throw t1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new N1(...e.split("."))._internalPath}catch{throw t1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function t1(r,e,t,n,i){const a=n&&!n.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${n}`),u&&(f+=` in document ${i}`),f+=")"),new he(ae.INVALID_ARGUMENT,l+r+f)}function T3(r,e){return r.some((t=>t.isEqual(e)))}class S3{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LN extends S3{data(){return super.data()}}function tm(r,e){return typeof e=="string"?em(r,e):e instanceof N1?e._internalPath:e._delegate._internalPath}function BN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nm{}class I3 extends nm{}function C3(r,e,...t){let n=[];e instanceof nm&&n.push(e),n=n.concat(t),(function(a){const u=a.filter((f=>f instanceof im)).length,l=a.filter((f=>f instanceof rm)).length;if(u>1||u>0&&l>0)throw new he(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class rm extends I3{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rm(e,t,n)}_apply(e){const t=this._parse(e);return R3(e._query,t),new Vs(e.firestore,e.converter,Ug(e._query,t))}_parse(e){const t=$v(e.firestore);return(function(a,u,l,f,h,p,m){let _;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new he(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mA(m,p);const T=[];for(const S of m)T.push(vA(f,a,S));_={arrayValue:{values:T}}}else _=vA(f,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mA(m,p),_=PN(l,u,m,p==="in"||p==="not-in");return Ke.create(h,p,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class im extends nm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new im(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:vt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const l=a.getFlattenedFilters();for(const f of l)R3(u,f),u=Ug(u,f)})(e._query,t),new Vs(e.firestore,e.converter,Ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends I3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new am(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new he(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sf(a,u)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new hl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function b3(r,e="asc"){const t=e,n=tm("orderBy",r);return am._create(n,t)}function vA(r,e,t){if(typeof(t=Un(t))=="string"){if(t==="")throw new he(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(e)&&t.indexOf("/")!==-1)throw new he(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(st.fromString(t));if(!pe.isDocumentKey(n))throw new he(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return af(r,new pe(n))}if(t instanceof tn)return af(r,t._key);throw new he(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h1(t)}.`)}function mA(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R3(r,e){const t=(function(i,a){for(const u of i)for(const l of u.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kN{convertValue(e,t="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ao(e,((i,a)=>{n[i]=this.convertValue(a,t)})),n}convertVectorValue(e){const t=e.fields?.[Ju].arrayValue?.values?.map((n=>Mt(n.doubleValue)));return new Ni(t)}convertGeoPoint(e){return new Oi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=y1(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const t=sa(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=st.fromString(e);xe(NT(n),9688,{name:e});const i=new Ss(n.get(1),n.get(3)),a=new pe(n.popFirst(5));return i.isEqual(t)||Yn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function FN(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends S3{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:en("string",_s._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Rd extends _s{data(e={}){return super.data(e)}}class Hu{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rd(this._firestore,this._userDataWriter,n.key,n,new kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((l=>{const f=new Rd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new kc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const f=new Rd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new kc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),p=u.indexOf(l.doc.key)),{type:UN(l.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}Hu._jsonSchemaVersion="firestore/querySnapshot/1.0",Hu._jsonSchema={type:en("string",Hu._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class D3 extends kN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}function zN(r,e,t,...n){r=aa(r,tn);const i=aa(r.firestore,Os),a=$v(i);let u;return u=typeof(e=Un(e))=="string"||e instanceof N1?MN(a,"updateDoc",r._key,e,t,n):NN(a,"updateDoc",r._key,e),om(i,[u.toMutation(r._key,Wn.exists(!0))])}function O3(r){return om(aa(r.firestore,Os),[new T1(r._key,Wn.none())])}function N3(r,e){const t=aa(r.firestore,Os),n=e1(r),i=FN(r.converter,e);return om(t,[ON($v(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Wn.exists(!1))]).then((()=>n))}function M3(r,...e){r=Un(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||gA(e[n])||(t=e[n++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(gA(e[n])){const f=e[n];e[n]=f.next?.bind(f),e[n+1]=f.error?.bind(f),e[n+2]=f.complete?.bind(f)}let a,u,l;if(r instanceof tn)u=aa(r.firestore,Os),l=E1(r._key.path),a={next:f=>{e[n]&&e[n](HN(u,r,f))},error:e[n+1],complete:e[n+2]};else{const f=aa(r,Vs);u=aa(f.firestore,Os),l=f._query;const h=new D3(u);a={next:p=>{e[n]&&e[n](new Hu(u,h,f,p))},error:e[n+1],complete:e[n+2]},BN(r._query)}return(function(h,p,m,_){const E=new EN(_),T=new tN(p,E,m);return h.asyncQueue.enqueueAndForget((async()=>Z5(await uA(h),T))),()=>{E.Nu(),h.asyncQueue.enqueueAndForget((async()=>$5(await uA(h),T)))}})(y3(u),l,i,a)}function om(r,e){return(function(n,i){const a=new po;return n.asyncQueue.enqueueAndForget((async()=>fN(await wN(n),i,a))),a.promise})(y3(r),e)}function HN(r,e,t){const n=t.docs.get(e._key),i=new D3(r);return new _s(r,i,e._key,n,new kc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){fl=i})(cl),Ku(new As("firestore",((n,{instanceIdentifier:i,options:a})=>{const u=n.getProvider("app").getImmediate(),l=new Os(new uD(n.getProvider("auth-internal")),new fD(u,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new he(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(h.options.projectId,p)})(u,i),u);return a={useFetchStreams:t,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),fo(WE,QE,e),fo(WE,QE,"esm2020")})();function P3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=P3,V3=new df("auth","Firebase",P3());const n1=new dv("@firebase/auth");function GN(r,...e){n1.logLevel<=Xe.WARN&&n1.warn(`Auth (${cl}): ${r}`,...e)}function Dd(r,...e){n1.logLevel<=Xe.ERROR&&n1.error(`Auth (${cl}): ${r}`,...e)}function la(r,...e){throw sm(r,...e)}function Mi(r,...e){return sm(r,...e)}function L3(r,e,t){const n={...jN(),[e]:t};return new df("auth","Firebase",n).create(e,{appName:r.name})}function Es(r){return L3(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sm(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return V3.create(r,...e)}function Re(r,e,...t){if(!r)throw sm(e,...t)}function ra(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dd(e),new Error(e)}function ca(r,e){r||ra(e)}function ev(){return typeof self<"u"&&self.location?.href||""}function qN(){return yA()==="http:"||yA()==="https:"}function yA(){return typeof self<"u"&&self.location?.protocol||null}function XN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qN()||F6()||"connection"in navigator)?navigator.onLine:!0}function KN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Tf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ca(t>e,"Short delay should be less than long delay!"),this.isMobile=B6()||U6()}get(){return XN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function um(r,e){ca(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class B3{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QN=new Tf(3e4,6e4);function lm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function gl(r,e,t,n,i={}){return k3(r,i,async()=>{let a={},u={};n&&(e==="GET"?u=n:a={body:JSON.stringify(n)});const l=pf({key:r.config.apiKey,...u}).slice(1),f=await r._getAdditionalHeaders();f["Content-Type"]="application/json",r.languageCode&&(f["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:f,...a};return k6()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&ll(r.emulatorConfig.host)&&(h.credentials="include"),B3.fetch()(await F3(r,r.config.apiHost,t,l),h)})}async function k3(r,e,t){r._canInitEmulator=!1;const n={...YN,...e};try{const i=new $N(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw pd(r,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const l=a.ok?u.errorMessage:u.error.message,[f,h]=l.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(r,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw pd(r,"email-already-in-use",u);if(f==="USER_DISABLED")throw pd(r,"user-disabled",u);const p=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw L3(r,p,h);la(r,p)}}catch(i){if(i instanceof fa)throw i;la(r,"network-request-failed",{message:String(i)})}}async function ZN(r,e,t,n,i={}){const a=await gl(r,e,t,n,i);return"mfaPendingCredential"in a&&la(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function F3(r,e,t,n){const i=`${e}${t}?${n}`,a=r,u=a.config.emulator?um(r.config,i):`${r.config.apiScheme}://${i}`;return WN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Mi(this.auth,"network-request-failed")),QN.get())})}}function pd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Mi(r,e,n);return i.customData._tokenResponse=t,i}async function JN(r,e){return gl(r,"POST","/v1/accounts:delete",e)}async function r1(r,e){return gl(r,"POST","/v1/accounts:lookup",e)}function Yc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e9(r,e=!1){const t=Un(r),n=await t.getIdToken(e),i=cm(n);Re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:n,authTime:Yc(sg(i.auth_time)),issuedAtTime:Yc(sg(i.iat)),expirationTime:Yc(sg(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function sg(r){return Number(r)*1e3}function cm(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ew(t);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _A(r){const e=cm(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ff(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof fa&&t9(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function t9({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class n9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function i1(r){const e=r.auth,t=await r.getIdToken(),n=await ff(r,r1(e,{idToken:t}));Re(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const a=i.providerUserInfo?.length?U3(i.providerUserInfo):[],u=i9(r.providerData,a),l=r.isAnonymous,f=!(r.email&&i.passwordHash)&&!u?.length,h=l?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new tv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,p)}async function r9(r){const e=Un(r);await i1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i9(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function U3(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function a9(r,e){const t=await k3(r,{},async()=>{const n=pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,u=await F3(r,i,"/v1/token",`key=${a}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:l,body:n};return r.emulatorConfig&&ll(r.emulatorConfig.host)&&(f.credentials="include"),B3.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function o9(r,e){return gl(r,"POST","/v2/accounts:revokeToken",lm(r,e))}class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=_A(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await a9(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,u=new ju;return n&&(Re(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),i&&(Re(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Re(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return ra("not implemented")}}function $a(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new n9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ff(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return e9(this,e)}reload(){return r9(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await i1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await ff(this,JN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,l=t.tenantId??void 0,f=t._redirectEventId??void 0,h=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:m,emailVerified:_,isAnonymous:E,providerData:T,stsTokenManager:S}=t;Re(m&&S,e,"internal-error");const D=ju.fromJSON(this.name,S);Re(typeof m=="string",e,"internal-error"),$a(n,e.name),$a(i,e.name),Re(typeof _=="boolean",e,"internal-error"),Re(typeof E=="boolean",e,"internal-error"),$a(a,e.name),$a(u,e.name),$a(l,e.name),$a(f,e.name),$a(h,e.name),$a(p,e.name);const V=new ri({uid:m,auth:e,email:i,emailVerified:_,displayName:n,isAnonymous:E,photoURL:u,phoneNumber:a,tenantId:l,stsTokenManager:D,createdAt:h,lastLoginAt:p});return T&&Array.isArray(T)&&(V.providerData=T.map(M=>({...M}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(e,t,n=!1){const i=new ju;i.updateFromServerResponse(t);const a=new ri({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await i1(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Re(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?U3(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,l=new ju;l.updateFromIdToken(n);const f=new ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,h),f}}const EA=new Map;function ia(r){ca(r instanceof Function,"Expected a class definition");let e=EA.get(r);return e?(ca(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,EA.set(r,e),e)}class z3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z3.type="NONE";const xA=z3;function Od(r,e,t){return`firebase:${r}:${e}:${t}`}class Gu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,a),this.fullPersistenceKey=Od("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await r1(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Gu(ia(xA),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ia(xA);const u=Od(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const p=await h._get(u);if(p){let m;if(typeof p=="string"){const _=await r1(e,{idToken:p}).catch(()=>{});if(!_)break;m=await ri._fromGetAccountInfoResponse(e,_,p)}else m=ri._fromJSON(e,p);h!==a&&(l=m),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Gu(a,e,n):(a=f[0],l&&await a._set(u,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new Gu(a,e,n))}}function AA(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K3(e))return"Blackberry";if(Y3(e))return"Webos";if(j3(e))return"Safari";if((e.includes("chrome/")||G3(e))&&!e.includes("edge/"))return"Chrome";if(X3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function H3(r=dn()){return/firefox\//i.test(r)}function j3(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G3(r=dn()){return/crios\//i.test(r)}function q3(r=dn()){return/iemobile/i.test(r)}function X3(r=dn()){return/android/i.test(r)}function K3(r=dn()){return/blackberry/i.test(r)}function Y3(r=dn()){return/webos/i.test(r)}function fm(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function s9(r=dn()){return fm(r)&&!!window.navigator?.standalone}function u9(){return z6()&&document.documentMode===10}function W3(r=dn()){return fm(r)||X3(r)||Y3(r)||K3(r)||/windows phone/i.test(r)||q3(r)}function Q3(r,e=[]){let t;switch(r){case"Browser":t=AA(dn());break;case"Worker":t=`${AA(dn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${n}`}class l9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((u,l)=>{try{const f=e(a);u(f)}catch(f){l(f)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function c9(r,e={}){return gl(r,"GET","/v2/passwordPolicy",lm(r,e))}const f9=6;class h9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??f9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class d9{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wA(this),this.idTokenSubscription=new wA(this),this.beforeStateQueue=new l9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ia(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await r1(this,{idToken:e}),n=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await i1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(Es(this));const t=e?Un(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c9(this),t=new h9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new df("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await o9(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ia(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Gu.create(this,[ia(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(l,this,"internal-error"),l.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,n,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hm(r){return Un(r)}class wA{constructor(e){this.auth=e,this.observer=null,this.addObserver=K6(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p9(r){dm=r}function g9(r){return dm.loadJS(r)}function v9(){return dm.gapiScript}function m9(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function y9(r,e){const t=gv(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(xs(a,e??{}))return i;la(i,"already-initialized")}return t.initialize({options:e})}function _9(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ia);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function E9(r,e,t){const n=hm(r);Re(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=Z3(e),{host:u,port:l}=x9(e),f=l===null?"":`:${l}`,h={url:`${a}//${u}${f}/`},p=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Re(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Re(xs(h,n.config.emulator)&&xs(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,ll(u)?(aw(`${a}//${u}${f}`),ow("Auth",!0)):A9()}function Z3(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function x9(r){const e=Z3(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:TA(n.substr(a.length+1))}}else{const[a,u]=n.split(":");return{host:a,port:TA(u)}}}function TA(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A9(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class $3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ra("not implemented")}_getIdTokenResponse(e){return ra("not implemented")}_linkToIdToken(e,t){return ra("not implemented")}_getReauthenticationResolver(e){return ra("not implemented")}}async function qu(r,e){return ZN(r,"POST","/v1/accounts:signInWithIdp",lm(r,e))}const w9="http://localhost";class Ns extends $3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):la("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=t;if(!n||!i)return null;const u=new Ns(n,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return qu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}buildRequest(){const e={requestUri:w9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pf(t)}return e}}class J3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sf extends J3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends Sf{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class no extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ns._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return no.credential(t,n)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";class ro extends Sf{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class io extends Sf{constructor(){super("twitter.com")}static credential(e,t){return Ns._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return io.credential(t,n)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await ri._fromIdTokenResponse(e,n,i),u=SA(n);return new sl({user:a,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=SA(n);return new sl({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function SA(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class a1 extends fa{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,a1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new a1(e,t,n,i)}}function eS(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?a1._fromErrorAndOperation(r,a,e,n):a})}async function T9(r,e,t=!1){const n=await ff(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return sl._forOperation(r,"link",n)}async function S9(r,e,t=!1){const{auth:n}=r;if(Ci(n.app))return Promise.reject(Es(n));const i="reauthenticate";try{const a=await ff(r,eS(n,i,e,r),t);Re(a.idToken,n,"internal-error");const u=cm(a.idToken);Re(u,n,"internal-error");const{sub:l}=u;return Re(r.uid===l,n,"user-mismatch"),sl._forOperation(r,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&la(n,"user-mismatch"),a}}async function I9(r,e,t=!1){if(Ci(r.app))return Promise.reject(Es(r));const n="signIn",i=await eS(r,n,e),a=await sl._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}function C9(r,e,t,n){return Un(r).onIdTokenChanged(e,t,n)}function b9(r,e,t){return Un(r).beforeAuthStateChanged(e,t)}const o1="__sak";class tS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o1,"1"),this.storage.removeItem(o1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const R9=1e3,D9=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,l,f)=>{this.notifyListeners(u,f)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},a=this.storage.getItem(n);u9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D9):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},R9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const O9=nS;class rS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rS.type="SESSION";const iS=rS;function N9(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class P1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new P1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(u).map(async h=>h(t.origin,a)),f=await N9(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}P1.receivers=[];function pm(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class M9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((l,f)=>{const h=pm("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},n);u={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(_.data.response);break;default:clearTimeout(p),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Pi(){return window}function P9(r){Pi().location.href=r}function aS(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function V9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L9(){return navigator?.serviceWorker?.controller||null}function B9(){return aS()?self:null}const oS="firebaseLocalStorageDb",k9=1,s1="firebaseLocalStorage",sS="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function V1(r,e){return r.transaction([s1],e?"readwrite":"readonly").objectStore(s1)}function F9(){const r=indexedDB.deleteDatabase(oS);return new If(r).toPromise()}function nv(){const r=indexedDB.open(oS,k9);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(s1,{keyPath:sS})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(s1)?e(n):(n.close(),await F9(),e(await nv()))})})}async function IA(r,e,t){const n=V1(r,!0).put({[sS]:e,value:t});return new If(n).toPromise()}async function U9(r,e){const t=V1(r,!1).get(e),n=await new If(t).toPromise();return n===void 0?null:n.value}function CA(r,e){const t=V1(r,!0).delete(e);return new If(t).toPromise()}const z9=800,H9=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>H9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=P1._getInstance(B9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V9(),!this.activeServiceWorker)return;this.sender=new M9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await IA(e,o1,"1"),await CA(e,o1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>IA(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>U9(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=V1(i,!1).getAll();return new If(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const j9=uS;new Tf(3e4,6e4);function G9(r,e){return e?ia(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gm extends $3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q9(r){return I9(r.auth,new gm(r),r.bypassAuthState)}function X9(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),S9(t,new gm(r),r.bypassAuthState)}async function K9(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),T9(t,new gm(r),r.bypassAuthState)}class lS{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:u,type:l}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return X9;default:la(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y9=new Tf(2e3,1e4);class Uu extends lS{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y9.get())};e()}}Uu.currentPopupAction=null;const W9="pendingRedirect",Nd=new Map;class Q9 extends lS{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const n=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(r,e){const t=e7(e),n=J9(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function $9(r,e){Nd.set(r._key(),e)}function J9(r){return ia(r._redirectPersistence)}function e7(r){return Od(W9,r.config.apiKey,r.name)}async function t7(r,e,t=!1){if(Ci(r.app))return Promise.reject(Es(r));const n=hm(r),i=G9(n,e),u=await new Q9(n,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}const n7=600*1e3;class r7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cS(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Mi(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n7&&this.cachedEventUids.clear(),this.cachedEventUids.has(bA(e))}saveEventToCache(e){this.cachedEventUids.add(bA(e)),this.lastProcessedEventTime=Date.now()}}function bA(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function i7(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(r);default:return!1}}async function a7(r,e={}){return gl(r,"GET","/v1/projects",e)}const o7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s7=/^https?/;async function u7(r){if(r.config.emulator)return;const{authorizedDomains:e}=await a7(r);for(const t of e)try{if(l7(t))return}catch{}la(r,"unauthorized-domain")}function l7(r){const e=ev(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!s7.test(t))return!1;if(o7.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const c7=new Tf(3e4,6e4);function RA(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function f7(r){return new Promise((e,t)=>{function n(){RA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RA(),t(Mi(r,"network-request-failed"))},timeout:c7.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)n();else{const i=m9("iframefcb");return Pi()[i]=()=>{gapi.load?n():t(Mi(r,"network-request-failed"))},g9(`${v9()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Md=null,e})}let Md=null;function h7(r){return Md=Md||f7(r),Md}const d7=new Tf(5e3,15e3),p7="__/auth/iframe",g7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y7(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?um(e,g7):`https://${r.config.authDomain}/${p7}`,n={apiKey:e.apiKey,appName:r.name,v:cl},i=m7.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${pf(n).slice(1)}`}async function _7(r){const e=await h7(r),t=Pi().gapi;return Re(t,r,"internal-error"),e.open({where:document.body,url:y7(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const u=Mi(r,"network-request-failed"),l=Pi().setTimeout(()=>{a(u)},d7.get());function f(){Pi().clearTimeout(l),i(n)}n.ping(f).then(f,()=>{a(u)})}))}const E7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x7=500,A7=600,w7="_blank",T7="http://localhost";class DA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S7(r,e,t,n=x7,i=A7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const f={...E7,width:n.toString(),height:i.toString(),top:a,left:u},h=dn().toLowerCase();t&&(l=G3(h)?w7:t),H3(h)&&(e=e||T7,f.scrollbars="yes");const p=Object.entries(f).reduce((_,[E,T])=>`${_}${E}=${T},`,"");if(s9(h)&&l!=="_self")return I7(e||"",l),new DA(null);const m=window.open(e||"",l,p);Re(m,r,"popup-blocked");try{m.focus()}catch{}return new DA(m)}function I7(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const C7="__/auth/handler",b7="emulator/auth/handler",R7=encodeURIComponent("fac");async function OA(r,e,t,n,i,a){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:cl,eventId:i};if(e instanceof J3){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",X6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))u[p]=m}if(e instanceof Sf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(u.scopes=p.join(","))}r.tenantId&&(u.tid=r.tenantId);const l=u;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const f=await r._getAppCheckToken(),h=f?`#${R7}=${encodeURIComponent(f)}`:"";return`${D7(r)}?${pf(l).slice(1)}${h}`}function D7({config:r}){return r.emulator?um(r,b7):`https://${r.authDomain}/${C7}`}const ug="webStorageSupport";class O7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=t7,this._overrideRedirectResult=$9}async _openPopup(e,t,n,i){ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await OA(e,t,n,ev(),i);return S7(e,a,pm())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await OA(e,t,n,ev(),i);return P9(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ca(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await _7(e),n=new r7(e);return t.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ug,{type:ug},i=>{const a=i?.[0]?.[ug];a!==void 0&&t(!!a),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W3()||j3()||fm()}}const N7=O7;var NA="@firebase/auth",MA="1.12.0";class M7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function P7(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V7(r){Ku(new As("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=n.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:u,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q3(r)},h=new d9(n,i,a,f);return _9(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ku(new As("auth-internal",e=>{const t=hm(e.getProvider("auth").getImmediate());return(n=>new M7(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(NA,MA,P7(r)),fo(NA,MA,"esm2020")}const L7=300,B7=iw("authIdTokenMaxAge")||L7;let PA=null;const k7=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>B7)return;const i=t?.token;PA!==i&&(PA=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F7(r=pw()){const e=gv(r,"auth");if(e.isInitialized())return e.getImmediate();const t=y9(r,{popupRedirectResolver:N7,persistence:[j9,O9,iS]}),n=iw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const u=k7(a.toString());b9(t,u,()=>u(t.currentUser)),C9(t,l=>u(l))}}const i=nw("auth");return i&&E9(t,`http://${i}`),t}function U7(){return document.getElementsByTagName("head")?.[0]??document}p9({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Mi("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",U7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V7("Browser");const z7={apiKey:"AIzaSyDFJKoHehMnPjt2bqTPpzru1qdA_rUOEdk",authDomain:"bitlkhzin-8d5c8.firebaseapp.com",projectId:"bitlkhzin-8d5c8",storageBucket:"bitlkhzin-8d5c8.firebasestorage.app",messagingSenderId:"862517672946",appId:"1:862517672946:web:66efa0f33cd67f0751896b"},fS=dw(z7),oo=SN(fS);F7(fS);IN(oo).catch(r=>{r.code=="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):r.code=="unimplemented"&&console.warn("Persistence failed: Browser not supported")});const H7=()=>{const[r,e]=be.useState([]);return be.useEffect(()=>{const a=C3(Jd(oo,"todos"),b3("createdAt","desc")),u=M3(a,l=>{const f=l.docs.map(h=>({id:h.id,...h.data()}));e(f)});return()=>u()},[]),{todos:r,addTodo:async a=>{if(a.trim())try{await N3(Jd(oo,"todos"),{text:a,completed:!1,createdAt:Date.now()})}catch(u){console.error("Error adding todo:",u)}},toggleTodo:async a=>{const u=r.find(l=>l.id===a);if(u)try{await zN(e1(oo,"todos",a),{completed:!u.completed})}catch(l){console.error("Error toggling todo:",l)}},deleteTodo:async a=>{try{await O3(e1(oo,"todos",a))}catch(u){console.error("Error deleting todo:",u)}}}},j7=()=>{const{todos:r,addTodo:e,toggleTodo:t,deleteTodo:n}=H7(),[i,a]=be.useState(""),u=l=>{l?.preventDefault(),i.trim()&&(e(i),a(""))};return te.jsxs("div",{className:"animate-slide-up",children:[te.jsx("h2",{className:"text-title",children:"To-Do List"}),te.jsxs("form",{onSubmit:u,style:{marginBottom:"24px",display:"flex",gap:"12px"},children:[te.jsx("input",{type:"text",value:i,onChange:l=>a(l.target.value),placeholder:"Add a new task...",className:"glass-panel",style:{flex:1,padding:"16px",background:"rgba(255,255,255,0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",fontSize:"1rem",outline:"none"}}),te.jsx(ps,{type:"submit",style:{borderRadius:"var(--radius-md)"},children:te.jsx(LA,{})})]}),te.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[r.length===0&&te.jsx("div",{style:{textAlign:"center",padding:"40px",opacity:.5},children:te.jsx("p",{children:"No tasks yet. Enjoy your day! "})}),r.map(l=>te.jsxs("div",{className:"glass-panel",style:{display:"flex",alignItems:"center",padding:"16px",gap:"16px",transition:"all 0.2s",opacity:l.completed?.6:1,background:l.completed?"rgba(255,255,255,0.05)":"var(--glass-bg)"},children:[te.jsx("button",{onClick:()=>t(l.id),style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:l.completed?"hsl(var(--color-primary))":"gray"},children:l.completed?te.jsx(G7,{}):te.jsx(uC,{size:24})}),te.jsx("span",{style:{flex:1,fontSize:"1.1rem",textDecoration:l.completed?"line-through":"none",color:l.completed?"var(--color-text-muted)":"inherit"},children:l.text}),te.jsx("button",{onClick:()=>n(l.id),style:{background:"none",border:"none",opacity:.3,cursor:"pointer",color:"#ef4444"},onMouseEnter:f=>f.currentTarget.style.opacity="1",onMouseLeave:f=>f.currentTarget.style.opacity="0.3",children:te.jsx(BA,{size:18})})]},l.id))]})]})},G7=()=>te.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"})}),q7=()=>{const[r,e]=be.useState([]),[t,n]=be.useState(!0);return be.useEffect(()=>{const u=C3(Jd(oo,"inventory"),b3("createdAt","desc")),l=M3(u,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));e(h),n(!1)},f=>{console.error("Error fetching inventory:",f),n(!1)});return()=>l()},[]),{items:r,loading:t,addItem:async u=>{try{await N3(Jd(oo,"inventory"),{...u,createdAt:Date.now(),updatedAt:Date.now()})}catch(l){console.error("Error adding item:",l)}},deleteItem:async u=>{try{await O3(e1(oo,"inventory",u))}catch(l){console.error("Error deleting item:",l)}}}},X7=()=>{const[r,e]=be.useState(null),[t,n]=be.useState(!1);return be.useEffect(()=>{const a=u=>{u.preventDefault(),e(u),n(!0)};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]),{isInstallable:t,promptToInstall:async()=>{if(!r)return;await r.prompt();const{outcome:a}=await r.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),n(!1)}}};function K7(){const[r,e]=be.useState("inventory"),[t,n]=be.useState(!1),{items:i,addItem:a,deleteItem:u}=q7(),{isInstallable:l,promptToInstall:f}=X7();be.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const h=()=>{switch(r){case"add":return te.jsx(T6,{onSubmit:p=>{a(p),e("inventory")},onCancel:()=>e("inventory")});case"settings":return te.jsxs("div",{className:"animate-fade-in",children:[te.jsx("h2",{className:"text-title",children:"Settings"}),te.jsxs(iv,{children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[te.jsx("h3",{style:{margin:0},children:"Appearance"}),te.jsxs(ps,{variant:"secondary",onClick:()=>n(!t),style:{display:"flex",alignItems:"center",gap:"8px"},children:[t?te.jsx(TC,{size:18}):te.jsx(vC,{size:18}),t?"Light Mode":"Dark Mode"]})]}),te.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),te.jsxs("div",{style:{opacity:.6},children:[te.jsx("p",{children:"App Version: 1.0.1"}),te.jsx("p",{children:"Sync Status: Local Storage"})]}),l&&te.jsxs(te.Fragment,{children:[te.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),te.jsxs(ps,{onClick:f,style:{width:"100%",display:"flex",justifyContent:"center",gap:"8px"},children:[te.jsx(cC,{size:18}),"Install App"]})]})]})]});case"todo":return te.jsx(j7,{});default:return te.jsx("div",{className:"animate-fade-in",children:te.jsx(RC,{items:i,onAddItem:()=>e("add"),onDeleteItem:u})})}};return te.jsx(bC,{currentView:r,onNavigate:p=>e(p),children:h()})}ZI.createRoot(document.getElementById("root")).render(te.jsx(be.StrictMode,{children:te.jsx(K7,{})}));
