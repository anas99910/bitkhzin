const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./InventoryList-CBE-ZBBm.js","./InventoryForm-B31wbYAf.js","./SwipeableItem-PSOEIUrQ.js","./TodoView-DpxTO3kq.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Ow(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rg={exports:{}},vu={};var uT;function Mw(){if(uT)return vu;uT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var cT;function Pw(){return cT||(cT=1,Rg.exports=Mw()),Rg.exports}var j=Pw(),Cg={exports:{}},be={};var hT;function kw(){if(hT)return be;hT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Z={};function fe(V,W,ae){this.props=V,this.context=W,this.refs=Z,this.updater=ae||G}fe.prototype.isReactComponent={},fe.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},fe.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function oe(){}oe.prototype=fe.prototype;function ie(V,W,ae){this.props=V,this.context=W,this.refs=Z,this.updater=ae||G}var _e=ie.prototype=new oe;_e.constructor=ie,K(_e,fe.prototype),_e.isPureReactComponent=!0;var Ie=Array.isArray;function Ee(){}var w={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(V,W,ae){var le=ae.ref;return{$$typeof:s,type:V,key:W,ref:le!==void 0?le:null,props:ae}}function O(V,W){return D(V.type,W,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var R=/\/+/g;function lt(V,W){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):W.toString(36)}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,W,ae,le,Ae){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case s:case e:ze=!0;break;case E:return ze=V._init,X(ze(V._payload),W,ae,le,Ae)}}if(ze)return Ae=Ae(V),ze=le===""?"."+lt(V,0):le,Ie(Ae)?(ae="",ze!=null&&(ae=ze.replace(R,"$&/")+"/"),X(Ae,W,ae,"",function(xs){return xs})):Ae!=null&&(N(Ae)&&(Ae=O(Ae,ae+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(R,"$&/")+"/")+ze)),W.push(Ae)),1;ze=0;var Lt=le===""?".":le+":";if(Ie(V))for(var ut=0;ut<V.length;ut++)le=V[ut],Ce=Lt+lt(le,ut),ze+=X(le,W,ae,Ce,Ae);else if(ut=M(V),typeof ut=="function")for(V=ut.call(V),ut=0;!(le=V.next()).done;)le=le.value,Ce=Lt+lt(le,ut++),ze+=X(le,W,ae,Ce,Ae);else if(Ce==="object"){if(typeof V.then=="function")return X(kt(V),W,ae,le,Ae);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(V,W,ae){if(V==null)return V;var le=[],Ae=0;return X(V,le,"","",function(Ce){return W.call(ae,Ce,Ae++)}),le}function ye(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=T,be.Children=Qe,be.Component=fe,be.Fragment=t,be.Profiler=o,be.PureComponent=ie,be.StrictMode=r,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=K({},V.props),Ae=V.key;if(W!=null)for(Ce in W.key!==void 0&&(Ae=""+W.key),W)!I.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(le[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ae;else if(1<Ce){for(var ze=Array(Ce),Lt=0;Lt<Ce;Lt++)ze[Lt]=arguments[Lt+2];le.children=ze}return D(V.type,Ae,le)},be.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,W,ae){var le,Ae={},Ce=null;if(W!=null)for(le in W.key!==void 0&&(Ce=""+W.key),W)I.call(W,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ae[le]=W[le]);var ze=arguments.length-2;if(ze===1)Ae.children=ae;else if(1<ze){for(var Lt=Array(ze),ut=0;ut<ze;ut++)Lt[ut]=arguments[ut+2];Ae.children=Lt}if(V&&V.defaultProps)for(le in ze=V.defaultProps,ze)Ae[le]===void 0&&(Ae[le]=ze[le]);return D(V,Ce,Ae)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=N,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ye}},be.memo=function(V,W){return{$$typeof:p,type:V,compare:W===void 0?null:W}},be.startTransition=function(V){var W=w.T,ae={};w.T=ae;try{var le=V(),Ae=w.S;Ae!==null&&Ae(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,je)}catch(Ce){je(Ce)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),w.T=W}},be.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},be.use=function(V){return w.H.use(V)},be.useActionState=function(V,W,ae){return w.H.useActionState(V,W,ae)},be.useCallback=function(V,W){return w.H.useCallback(V,W)},be.useContext=function(V){return w.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,W){return w.H.useDeferredValue(V,W)},be.useEffect=function(V,W){return w.H.useEffect(V,W)},be.useEffectEvent=function(V){return w.H.useEffectEvent(V)},be.useId=function(){return w.H.useId()},be.useImperativeHandle=function(V,W,ae){return w.H.useImperativeHandle(V,W,ae)},be.useInsertionEffect=function(V,W){return w.H.useInsertionEffect(V,W)},be.useLayoutEffect=function(V,W){return w.H.useLayoutEffect(V,W)},be.useMemo=function(V,W){return w.H.useMemo(V,W)},be.useOptimistic=function(V,W){return w.H.useOptimistic(V,W)},be.useReducer=function(V,W,ae){return w.H.useReducer(V,W,ae)},be.useRef=function(V){return w.H.useRef(V)},be.useState=function(V){return w.H.useState(V)},be.useSyncExternalStore=function(V,W,ae){return w.H.useSyncExternalStore(V,W,ae)},be.useTransition=function(){return w.H.useTransition()},be.version="19.2.3",be}var fT;function Op(){return fT||(fT=1,Cg.exports=kw()),Cg.exports}var xe=Op();const IM=Ow(xe);var Dg={exports:{}},Eu={},xg={exports:{}},Ng={};var dT;function Lw(){return dT||(dT=1,(function(s){function e(X,se){var ye=X.length;X.push(se);e:for(;0<ye;){var je=ye-1>>>1,Qe=X[je];if(0<o(Qe,se))X[je]=se,X[ye]=Qe,ye=je;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],ye=X.pop();if(ye!==se){X[0]=ye;e:for(var je=0,Qe=X.length,V=Qe>>>1;je<V;){var W=2*(je+1)-1,ae=X[W],le=W+1,Ae=X[le];if(0>o(ae,ye))le<Qe&&0>o(Ae,ae)?(X[je]=Ae,X[le]=ye,je=le):(X[je]=ae,X[W]=ye,je=W);else if(le<Qe&&0>o(Ae,ye))X[je]=Ae,X[le]=ye,je=le;else break e}}return se}function o(X,se){var ye=X.sortIndex-se.sortIndex;return ye!==0?ye:X.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var g=[],p=[],E=1,T=null,b=3,M=!1,G=!1,K=!1,Z=!1,fe=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function _e(X){for(var se=t(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=X)r(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=t(p)}}function Ie(X){if(K=!1,_e(X),!G)if(t(g)!==null)G=!0,Ee||(Ee=!0,k());else{var se=t(p);se!==null&&kt(Ie,se.startTime-X)}}var Ee=!1,w=-1,I=5,D=-1;function O(){return Z?!0:!(s.unstable_now()-D<I)}function N(){if(Z=!1,Ee){var X=s.unstable_now();D=X;var se=!0;try{e:{G=!1,K&&(K=!1,oe(w),w=-1),M=!0;var ye=b;try{t:{for(_e(X),T=t(g);T!==null&&!(T.expirationTime>X&&O());){var je=T.callback;if(typeof je=="function"){T.callback=null,b=T.priorityLevel;var Qe=je(T.expirationTime<=X);if(X=s.unstable_now(),typeof Qe=="function"){T.callback=Qe,_e(X),se=!0;break t}T===t(g)&&r(g),_e(X)}else r(g);T=t(g)}if(T!==null)se=!0;else{var V=t(p);V!==null&&kt(Ie,V.startTime-X),se=!1}}break e}finally{T=null,b=ye,M=!1}se=void 0}}finally{se?k():Ee=!1}}}var k;if(typeof ie=="function")k=function(){ie(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=N,k=function(){lt.postMessage(null)}}else k=function(){fe(N,0)};function kt(X,se){w=fe(function(){X(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(X){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ye=b;b=se;try{return X()}finally{b=ye}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=b;b=X;try{return se()}finally{b=ye}},s.unstable_scheduleCallback=function(X,se,ye){var je=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,X){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,X={id:E++,callback:se,priorityLevel:X,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>je?(X.sortIndex=ye,e(p,X),t(g)===null&&X===t(p)&&(K?(oe(w),w=-1):K=!0,kt(Ie,ye-je))):(X.sortIndex=Qe,e(g,X),G||M||(G=!0,Ee||(Ee=!0,k()))),X},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(X){var se=b;return function(){var ye=b;b=se;try{return X.apply(this,arguments)}finally{b=ye}}}})(Ng)),Ng}var mT;function Uw(){return mT||(mT=1,xg.exports=Lw()),xg.exports}var Vg={exports:{}},en={};var gT;function zw(){if(gT)return en;gT=1;var s=Op();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},en.flushSync=function(g){var p=c.T,E=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=E,r.d.f()}},en.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:M}):E==="script"&&r.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},en.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);r.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,p){return g(p)},en.useFormState=function(g,p,E){return c.H.useFormState(g,p,E)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.3",en}var pT;function Bw(){if(pT)return Vg.exports;pT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vg.exports=zw(),Vg.exports}var yT;function jw(){if(yT)return Eu;yT=1;var s=Uw(),e=Op(),t=Bw();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(r(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),n;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function E(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=E(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case fe:return"Profiler";case Z:return"StrictMode";case Ie:return"Suspense";case Ee:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case G:return"Portal";case ie:return n.displayName||"Context";case oe:return(n._context.displayName||"Context")+".Consumer";case _e:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case w:return i=n.displayName||null,i!==null?i:lt(n.type)||"Memo";case I:i=n._payload,n=n._init;try{return lt(n(i))}catch{}}return null}var kt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],Qe=-1;function V(n){return{current:n}}function W(n){0>Qe||(n.current=je[Qe],je[Qe]=null,Qe--)}function ae(n,i){Qe++,je[Qe]=n.current,n.current=i}var le=V(null),Ae=V(null),Ce=V(null),ze=V(null);function Lt(n,i){switch(ae(Ce,i),ae(Ae,n),ae(le,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?VE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=VE(i),n=OE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(le),ae(le,n)}function ut(){W(le),W(Ae),W(Ce)}function xs(n){n.memoizedState!==null&&ae(ze,n);var i=le.current,a=OE(i,n.type);i!==a&&(ae(Ae,n),ae(le,a))}function Oa(n){Ae.current===n&&(W(le),W(Ae)),ze.current===n&&(W(ze),gu._currentValue=ye)}var Ma,Pa;function hi(n){if(Ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ma=i&&i[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+n+Pa}var gl=!1;function Ns(n,i){if(!n||gl)return"";gl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(n,[],J)}else{try{J.call()}catch(H){q=H}n.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var C=_.split(`
`),B=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var Q=`
`+C[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=f);break}}}finally{gl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?hi(a):""}function pl(n,i){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return n.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ns(n.type,!1);case 11:return Ns(n.type.render,!1);case 1:return Ns(n.type,!0);case 31:return hi("Activity");default:return""}}function yl(n){try{var i="",a=null;do i+=pl(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var It=Object.prototype.hasOwnProperty,Ut=s.unstable_scheduleCallback,Ir=s.unstable_cancelCallback,Dd=s.unstable_shouldYield,Ac=s.unstable_requestPaint,ln=s.unstable_now,Vs=s.unstable_getCurrentPriorityLevel,_l=s.unstable_ImmediatePriority,vl=s.unstable_UserBlockingPriority,wr=s.unstable_NormalPriority,xd=s.unstable_LowPriority,Sc=s.unstable_IdlePriority,bc=s.log,Ic=s.unstable_setDisableYieldValue,Xn=null,Qt=null;function Pn(n){if(typeof bc=="function"&&Ic(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Xn,n)}catch{}}var yt=Math.clz32?Math.clz32:Rc,wc=Math.log,ka=Math.LN2;function Rc(n){return n>>>=0,n===0?32:31-(wc(n)/ka|0)|0}var fi=256,Os=262144,wt=4194304;function di(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mi(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=di(l):(_&=A,_!==0?f=di(_):a||(a=A&~n,a!==0&&(f=di(a))))):(A=l&~d,A!==0?f=di(A):_!==0?f=di(_):a||(a=l&~n,a!==0&&(f=di(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function $n(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Nd(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var n=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),n}function gi(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ms(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vd(n,i,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,C=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-yt(a),J=1<<Q;A[Q]=0,C[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Ps(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function Ps(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-yt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function El(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function Tl(n,i){var a=i&-i;return a=(a&42)!==0?1:ks(a),(a&(n.suspendedLanes|i))!==0?0:a}function ks(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dc(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:nT(n.type))}function Jn(n,i){var a=se.p;try{return se.p=n,i()}finally{se.p=a}}var Wn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wn,qt="__reactProps$"+Wn,pi="__reactContainer$"+Wn,La="__reactEvents$"+Wn,Od="__reactListeners$"+Wn,xc="__reactHandles$"+Wn,Nc="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function Ua(n){delete n[Rt],delete n[qt],delete n[La],delete n[Od],delete n[xc]}function _i(n){var i=n[Rt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[pi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=BE(n);n!==null;){if(a=n[Rt])return a;n=BE(n)}return i}n=a,a=n.parentNode}return null}function kn(n){if(n=n[Rt]||n[pi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Tn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function vi(n){var i=n[Nc];return i||(i=n[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(n){n[yi]=!0}var Al=new Set,Sl={};function Ei(n,i){Ti(n,i),Ti(n+"Capture",i)}function Ti(n,i){for(Sl[n]=i,n=0;n<i.length;n++)Al.add(i[n])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},wl={};function Vc(n){return It.call(wl,n)?!0:It.call(Il,n)?!1:bl.test(n)?wl[n]=!0:(Il[n]=!0,!1)}function za(n,i,a){if(Vc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function An(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Dt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function Ft(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rl(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ye(n){if(!n._valueTracker){var i=Rr(n)?"checked":"value";n._valueTracker=Rl(n,i,""+n[i])}}function Ls(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Rr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ai(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Us=/[\n"\\]/g;function fn(n){return n.replace(Us,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(n,i,a,l,f,d,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ft(i)):n.value!==""+Ft(i)&&(n.value=""+Ft(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Cl(n,_,Ft(i)):a!=null?Cl(n,_,Ft(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Ft(A):n.removeAttribute("name")}function Oc(n,i,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(n);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Ye(n)}function Cl(n,i,a){i==="number"&&Ai(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Cr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Mc(n,i,a){if(i!=null&&(i=""+Ft(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Ft(a):""}function Dr(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(kt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ye(n)}function dn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Pc.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function xl(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Dl(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Dl(n,d,i[d])}function ja(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(n){return xr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Zn(){}var Nl=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nr=null,Si=null;function zs(n){var i=kn(n);if(i&&(n=i.stateNode)){var a=n[qt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ba(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[qt]||null;if(!f)throw Error(r(90));Ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ls(l)}break e;case"textarea":Mc(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Cr(n,!!a.multiple,i,!1)}}}var Fa=!1;function Vr(n,i,a){if(Fa)return n(i,a);Fa=!0;try{var l=n(i);return l}finally{if(Fa=!1,(Nr!==null||Si!==null)&&(Dh(),Nr&&(i=Nr,n=Si,Si=Nr=null,zs(i),n)))for(i=0;i<n.length;i++)zs(n[i])}}function ei(n,i){var a=n.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Un)try{var et={};Object.defineProperty(et,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Bs=!1}var bi=null,Vl=null,js=null;function Ol(){if(js)return js;var n,i=Vl,a=i.length,l,f="value"in bi?bi.value:bi.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return js=f.slice(n,1<l?1-l:void 0)}function qs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gi(){return!0}function ti(){return!1}function Yt(n){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ti,this.isPropagationStopped=ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Yt(Ki),Or=T({},Ki,{view:0,detail:0}),Ml=Yt(Or),Mr,Ha,wi,Ga=T({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(Mr=n.screenX-wi.screenX,Ha=n.screenY-wi.screenY):Ha=Mr=0,wi=n),Mr)},movementY:function(n){return"movementY"in n?n.movementY:Ha}}),Pl=Yt(Ga),Fs=T({},Ga,{dataTransfer:0}),Lc=Yt(Fs),Uc=T({},Or,{relatedTarget:0}),Hs=Yt(Uc),kl=T({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Yt(kl),Ka=T({},Ki,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bc=Yt(Ka),jc=T({},Ki,{data:0}),Ri=Yt(jc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hc[n])?!!i[n]:!1}function Pr(){return Gc}var un=T({},Or,{key:function(n){if(n.key){var i=qc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(n){return n.type==="keypress"?qs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kc=Yt(un),Qc=T({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Yt(Qc),h=T({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),y=Yt(h),v=T({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Yt(v),U=T({},Ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Yt(U),ne=T({},Ki,{newState:0,oldState:0}),we=Yt(ne),_t=[9,13,27,32],He=Un&&"CompositionEvent"in window,ct=null;Un&&"documentMode"in document&&(ct=document.documentMode);var zn=Un&&"TextEvent"in window&&!ct,Ci=Un&&(!He||ct&&8<ct&&11>=ct),ni=" ",ii=!1;function Gs(n,i){switch(n){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ya=!1;function iI(n,i){switch(n){case"compositionend":return Qa(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return n=i.data,n===ni&&ii?null:n;default:return null}}function rI(n,i){if(Ya)return n==="compositionend"||!He&&Gs(n,i)?(n=Ol(),js=Vl=bi=null,Ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var sI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!sI[n.type]:i==="textarea"}function Hy(n,i,a,l){Nr?Si?Si.push(l):Si=[l]:Nr=l,i=kh(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ll=null,Ul=null;function aI(n){wE(n,0)}function Yc(n){var i=Tn(n);if(Ls(i))return n}function Gy(n,i){if(n==="change")return i}var Ky=!1;if(Un){var Md;if(Un){var Pd="oninput"in document;if(!Pd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Pd=typeof Qy.oninput=="function"}Md=Pd}else Md=!1;Ky=Md&&(!document.documentMode||9<document.documentMode)}function Yy(){Ll&&(Ll.detachEvent("onpropertychange",Xy),Ul=Ll=null)}function Xy(n){if(n.propertyName==="value"&&Yc(Ul)){var i=[];Hy(i,Ul,n,Ln(n)),Vr(aI,i)}}function oI(n,i,a){n==="focusin"?(Yy(),Ll=i,Ul=a,Ll.attachEvent("onpropertychange",Xy)):n==="focusout"&&Yy()}function lI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yc(Ul)}function uI(n,i){if(n==="click")return Yc(i)}function cI(n,i){if(n==="input"||n==="change")return Yc(i)}function hI(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Sn=typeof Object.is=="function"?Object.is:hI;function zl(n,i){if(Sn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!It.call(i,f)||!Sn(n[f],i[f]))return!1}return!0}function $y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jy(n,i){var a=$y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$y(a)}}function Wy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Wy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Zy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ai(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ai(n.document)}return i}function kd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var fI=Un&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ld=null,Bl=null,Ud=!1;function e_(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ud||Xa==null||Xa!==Ai(l)||(l=Xa,"selectionStart"in l&&kd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&zl(Bl,l)||(Bl=l,l=kh(Ld,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Xa)))}function Ks(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var $a={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},zd={},t_={};Un&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Qs(n){if(zd[n])return zd[n];if(!$a[n])return n;var i=$a[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in t_)return zd[n]=i[a];return n}var n_=Qs("animationend"),i_=Qs("animationiteration"),r_=Qs("animationstart"),dI=Qs("transitionrun"),mI=Qs("transitionstart"),gI=Qs("transitioncancel"),s_=Qs("transitionend"),a_=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function ri(n,i){a_.set(n,i),Ei(i,[n])}var Xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bn=[],Ja=0,jd=0;function $c(){for(var n=Ja,i=jd=Ja=0;i<n;){var a=Bn[i];Bn[i++]=null;var l=Bn[i];Bn[i++]=null;var f=Bn[i];Bn[i++]=null;var d=Bn[i];if(Bn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&o_(a,f,d)}}function Jc(n,i,a,l){Bn[Ja++]=n,Bn[Ja++]=i,Bn[Ja++]=a,Bn[Ja++]=l,jd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qd(n,i,a,l){return Jc(n,i,a,l),Wc(n)}function Ys(n,i){return Jc(n,null,null,i),Wc(n)}function o_(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wc(n){if(50<lu)throw lu=0,Jm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Wa={};function pI(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,i,a,l){return new pI(n,i,a,l)}function Fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,i){var a=n.alternate;return a===null?(a=bn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function l_(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Zc(n,i,a,l,f,d){var _=0;if(l=n,typeof n=="function")Fd(n)&&(_=1);else if(typeof n=="string")_=Tw(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=bn(31,a,i,f),n.elementType=D,n.lanes=d,n;case K:return Xs(a.children,f,d,i);case Z:_=8,f|=24;break;case fe:return n=bn(12,a,i,f|2),n.elementType=fe,n.lanes=d,n;case Ie:return n=bn(13,a,i,f),n.elementType=Ie,n.lanes=d,n;case Ee:return n=bn(19,a,i,f),n.elementType=Ee,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:_=10;break e;case oe:_=9;break e;case _e:_=11;break e;case w:_=14;break e;case I:_=16,l=null;break e}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return i=bn(_,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Xs(n,i,a,l){return n=bn(7,n,l,i),n.lanes=a,n}function Hd(n,i,a){return n=bn(6,n,null,i),n.lanes=a,n}function u_(n){var i=bn(18,null,null,0);return i.stateNode=n,i}function Gd(n,i,a){return i=bn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var c_=new WeakMap;function jn(n,i){if(typeof n=="object"&&n!==null){var a=c_.get(n);return a!==void 0?a:(i={value:n,source:i,stack:yl(i)},c_.set(n,i),i)}return{value:n,source:i,stack:yl(i)}}var Za=[],eo=0,eh=null,jl=0,qn=[],Fn=0,kr=null,Di=1,xi="";function Xi(n,i){Za[eo++]=jl,Za[eo++]=eh,eh=n,jl=i}function h_(n,i,a){qn[Fn++]=Di,qn[Fn++]=xi,qn[Fn++]=kr,kr=n;var l=Di;n=xi;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-yt(i)+f|a<<f|l,xi=d+n}else Di=1<<d|a<<f|l,xi=n}function Kd(n){n.return!==null&&(Xi(n,1),h_(n,1,0))}function Qd(n){for(;n===eh;)eh=Za[--eo],Za[eo]=null,jl=Za[--eo],Za[eo]=null;for(;n===kr;)kr=qn[--Fn],qn[Fn]=null,xi=qn[--Fn],qn[Fn]=null,Di=qn[--Fn],qn[Fn]=null}function f_(n,i){qn[Fn++]=Di,qn[Fn++]=xi,qn[Fn++]=kr,Di=i.id,xi=i.overflow,kr=n}var Xt=null,at=null,Ue=!1,Lr=null,Hn=!1,Yd=Error(r(519));function Ur(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(jn(i,n)),Yd}function d_(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Rt]=n,i[qt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<cu.length;a++)Oe(cu[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Oc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||xE(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Ur(n,!0)}function m_(n){for(Xt=n.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xt=Xt.return}}function to(n){if(n!==Xt)return!1;if(!Ue)return m_(n),Ue=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fg(n.type,n.memoizedProps)),a=!a),a&&at&&Ur(n),m_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=zE(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=zE(n)}else i===27?(i=at,Wr(n.type)?(n=yg,yg=null,at=n):at=i):at=Xt?Kn(n.stateNode.nextSibling):null;return!0}function $s(){at=Xt=null,Ue=!1}function Xd(){var n=Lr;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Lr=null),n}function ql(n){Lr===null?Lr=[n]:Lr.push(n)}var $d=V(null),Js=null,$i=null;function zr(n,i,a){ae($d,i._currentValue),i._currentValue=a}function Ji(n){n._currentValue=$d.current,W($d)}function Jd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Wd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Jd(d.return,a,n),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Jd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function no(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Sn(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(gu):n=[gu])}f=f.return}n!==null&&Wd(i,n,a,l),i.flags|=262144}function th(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ws(n){Js=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return g_(Js,n)}function nh(n,i){return Js===null&&Ws(n),g_(n,i)}function g_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(r(308));$i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else $i=$i.next=i;return a}var yI=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},_I=s.unstable_scheduleCallback,vI=s.unstable_NormalPriority,xt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new yI,data:new Map,refCount:0}}function Fl(n){n.refCount--,n.refCount===0&&_I(vI,function(){n.controller.abort()})}var Hl=null,em=0,io=0,ro=null;function EI(n,i){if(Hl===null){var a=Hl=[];em=0,io=ig(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return em++,i.then(p_,p_),i}function p_(){if(--em===0&&Hl!==null){ro!==null&&(ro.status="fulfilled");var n=Hl;Hl=null,io=0,ro=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function TI(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var y_=X.S;X.S=function(n,i){eE=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&EI(n,i),y_!==null&&y_(n,i)};var Zs=V(null);function tm(){var n=Zs.current;return n!==null?n:rt.pooledCache}function ih(n,i){i===null?ae(Zs,Zs.current):ae(Zs,i.pool)}function __(){var n=tm();return n===null?null:{parent:xt._currentValue,pool:n}}var so=Error(r(460)),nm=Error(r(474)),rh=Error(r(542)),sh={then:function(){}};function v_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function E_(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A_(n),n;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A_(n),n}throw ta=i,so}}function ea(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,so):a}}var ta=null;function T_(){if(ta===null)throw Error(r(459));var n=ta;return ta=null,n}function A_(n){if(n===so||n===rh)throw Error(r(483))}var ao=null,Gl=0;function ah(n){var i=Gl;return Gl+=1,ao===null&&(ao=[]),E_(ao,n,i)}function Kl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function oh(n,i){throw i.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function S_(n){function i(P,x){if(n){var z=P.deletions;z===null?(P.deletions=[x],P.flags|=16):z.push(x)}}function a(P,x){if(!n)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function f(P,x){return P=Yi(P,x),P.index=0,P.sibling=null,P}function d(P,x,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<x?(P.flags|=67108866,x):z):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function A(P,x,z,$){return x===null||x.tag!==6?(x=Hd(z,P.mode,$),x.return=P,x):(x=f(x,z),x.return=P,x)}function C(P,x,z,$){var ge=z.type;return ge===K?Q(P,x,z.props.children,$,z.key):x!==null&&(x.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&ea(ge)===x.type)?(x=f(x,z.props),Kl(x,z),x.return=P,x):(x=Zc(z.type,z.key,z.props,null,P.mode,$),Kl(x,z),x.return=P,x)}function B(P,x,z,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Gd(z,P.mode,$),x.return=P,x):(x=f(x,z.children||[]),x.return=P,x)}function Q(P,x,z,$,ge){return x===null||x.tag!==7?(x=Xs(z,P.mode,$,ge),x.return=P,x):(x=f(x,z),x.return=P,x)}function J(P,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Hd(""+x,P.mode,z),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case M:return z=Zc(x.type,x.key,x.props,null,P.mode,z),Kl(z,x),z.return=P,z;case G:return x=Gd(x,P.mode,z),x.return=P,x;case I:return x=ea(x),J(P,x,z)}if(kt(x)||k(x))return x=Xs(x,P.mode,z,null),x.return=P,x;if(typeof x.then=="function")return J(P,ah(x),z);if(x.$$typeof===ie)return J(P,nh(P,x),z);oh(P,x)}return null}function q(P,x,z,$){var ge=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:A(P,x,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===ge?C(P,x,z,$):null;case G:return z.key===ge?B(P,x,z,$):null;case I:return z=ea(z),q(P,x,z,$)}if(kt(z)||k(z))return ge!==null?null:Q(P,x,z,$,null);if(typeof z.then=="function")return q(P,x,ah(z),$);if(z.$$typeof===ie)return q(P,x,nh(P,z),$);oh(P,z)}return null}function H(P,x,z,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,A(x,P,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return P=P.get($.key===null?z:$.key)||null,C(x,P,$,ge);case G:return P=P.get($.key===null?z:$.key)||null,B(x,P,$,ge);case I:return $=ea($),H(P,x,z,$,ge)}if(kt($)||k($))return P=P.get(z)||null,Q(x,P,$,ge,null);if(typeof $.then=="function")return H(P,x,z,ah($),ge);if($.$$typeof===ie)return H(P,x,z,nh(x,$),ge);oh(x,$)}return null}function ce(P,x,z,$){for(var ge=null,qe=null,de=x,De=x=0,Pe=null;de!==null&&De<z.length;De++){de.index>De?(Pe=de,de=null):Pe=de.sibling;var Fe=q(P,de,z[De],$);if(Fe===null){de===null&&(de=Pe);break}n&&de&&Fe.alternate===null&&i(P,de),x=d(Fe,x,De),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,de=Pe}if(De===z.length)return a(P,de),Ue&&Xi(P,De),ge;if(de===null){for(;De<z.length;De++)de=J(P,z[De],$),de!==null&&(x=d(de,x,De),qe===null?ge=de:qe.sibling=de,qe=de);return Ue&&Xi(P,De),ge}for(de=l(de);De<z.length;De++)Pe=H(de,P,De,z[De],$),Pe!==null&&(n&&Pe.alternate!==null&&de.delete(Pe.key===null?De:Pe.key),x=d(Pe,x,De),qe===null?ge=Pe:qe.sibling=Pe,qe=Pe);return n&&de.forEach(function(is){return i(P,is)}),Ue&&Xi(P,De),ge}function ve(P,x,z,$){if(z==null)throw Error(r(151));for(var ge=null,qe=null,de=x,De=x=0,Pe=null,Fe=z.next();de!==null&&!Fe.done;De++,Fe=z.next()){de.index>De?(Pe=de,de=null):Pe=de.sibling;var is=q(P,de,Fe.value,$);if(is===null){de===null&&(de=Pe);break}n&&de&&is.alternate===null&&i(P,de),x=d(is,x,De),qe===null?ge=is:qe.sibling=is,qe=is,de=Pe}if(Fe.done)return a(P,de),Ue&&Xi(P,De),ge;if(de===null){for(;!Fe.done;De++,Fe=z.next())Fe=J(P,Fe.value,$),Fe!==null&&(x=d(Fe,x,De),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Ue&&Xi(P,De),ge}for(de=l(de);!Fe.done;De++,Fe=z.next())Fe=H(de,P,De,Fe.value,$),Fe!==null&&(n&&Fe.alternate!==null&&de.delete(Fe.key===null?De:Fe.key),x=d(Fe,x,De),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return n&&de.forEach(function(Vw){return i(P,Vw)}),Ue&&Xi(P,De),ge}function it(P,x,z,$){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var ge=z.key;x!==null;){if(x.key===ge){if(ge=z.type,ge===K){if(x.tag===7){a(P,x.sibling),$=f(x,z.props.children),$.return=P,P=$;break e}}else if(x.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&ea(ge)===x.type){a(P,x.sibling),$=f(x,z.props),Kl($,z),$.return=P,P=$;break e}a(P,x);break}else i(P,x);x=x.sibling}z.type===K?($=Xs(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=Zc(z.type,z.key,z.props,null,P.mode,$),Kl($,z),$.return=P,P=$)}return _(P);case G:e:{for(ge=z.key;x!==null;){if(x.key===ge)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(P,x.sibling),$=f(x,z.children||[]),$.return=P,P=$;break e}else{a(P,x);break}else i(P,x);x=x.sibling}$=Gd(z,P.mode,$),$.return=P,P=$}return _(P);case I:return z=ea(z),it(P,x,z,$)}if(kt(z))return ce(P,x,z,$);if(k(z)){if(ge=k(z),typeof ge!="function")throw Error(r(150));return z=ge.call(z),ve(P,x,z,$)}if(typeof z.then=="function")return it(P,x,ah(z),$);if(z.$$typeof===ie)return it(P,x,nh(P,z),$);oh(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(P,x.sibling),$=f(x,z),$.return=P,P=$):(a(P,x),$=Hd(z,P.mode,$),$.return=P,P=$),_(P)):a(P,x)}return function(P,x,z,$){try{Gl=0;var ge=it(P,x,z,$);return ao=null,ge}catch(de){if(de===so||de===rh)throw de;var qe=bn(29,de,null,P.mode);return qe.lanes=$,qe.return=P,qe}}}var na=S_(!0),b_=S_(!1),Br=!1;function im(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qr(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Wc(n),o_(n,null,a),i}return Jc(n,l,i,a),Wc(n)}function Ql(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,El(n,a)}}function sm(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var am=!1;function Yl(){if(am){var n=ro;if(n!==null)throw n}}function Xl(n,i,a,l){am=!1;var f=n.updateQueue;Br=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==_&&(A===null?Q.firstBaseUpdate=B:A.next=B,Q.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;_=0,Q=B=C=null,A=d;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(Me&q)===q:(l&q)===q){q!==0&&q===io&&(am=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=n,ve=A;q=i;var it=a;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){J=ce.call(it,J,q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,q=typeof ce=="function"?ce.call(it,J,q):ce,q==null)break e;J=T({},J,q);break e;case 2:Br=!0}}q=A.callback,q!==null&&(n.flags|=64,H&&(n.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(B=Q=H,C=J):Q=Q.next=H,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(C=J),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Qr|=_,n.lanes=_,n.memoizedState=J}}function I_(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function w_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)I_(a[n],i)}var oo=V(null),lh=V(0);function R_(n,i){n=ar,ae(lh,n),ae(oo,i),ar=n|i.baseLanes}function om(){ae(lh,ar),ae(oo,oo.current)}function lm(){ar=lh.current,W(oo),W(lh)}var In=V(null),Gn=null;function Fr(n){var i=n.alternate;ae(vt,vt.current&1),ae(In,n),Gn===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Gn=n)}function um(n){ae(vt,vt.current),ae(In,n),Gn===null&&(Gn=n)}function C_(n){n.tag===22?(ae(vt,vt.current),ae(In,n),Gn===null&&(Gn=n)):Hr()}function Hr(){ae(vt,vt.current),ae(In,In.current)}function wn(n){W(In),Gn===n&&(Gn=null),W(vt)}var vt=V(0);function uh(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gg(a)||pg(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Re=null,tt=null,Nt=null,ch=!1,lo=!1,ia=!1,hh=0,$l=0,uo=null,AI=0;function mt(){throw Error(r(321))}function cm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Sn(n[a],i[a]))return!1;return!0}function hm(n,i,a,l,f,d){return Wi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?hv:wm,ia=!1,d=a(l,f),ia=!1,lo&&(d=x_(i,a,l,f)),D_(n),d}function D_(n){X.H=Zl;var i=tt!==null&&tt.next!==null;if(Wi=0,Nt=tt=Re=null,ch=!1,$l=0,uo=null,i)throw Error(r(300));n===null||Vt||(n=n.dependencies,n!==null&&th(n)&&(Vt=!0))}function x_(n,i,a,l){Re=n;var f=0;do{if(lo&&(uo=null),$l=0,lo=!1,25<=f)throw Error(r(301));if(f+=1,Nt=tt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=fv,d=i(a,l)}while(lo);return d}function SI(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Jl(i):i,n=n.useState()[0],(tt!==null?tt.memoizedState:null)!==n&&(Re.flags|=1024),i}function fm(){var n=hh!==0;return hh=0,n}function dm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function mm(n){if(ch){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ch=!1}Wi=0,Nt=tt=Re=null,lo=!1,$l=hh=0,uo=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Et(){if(tt===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var i=Nt===null?Re.memoizedState:Nt.next;if(i!==null)Nt=i,tt=n;else{if(n===null)throw Re.alternate===null?Error(r(467)):Error(r(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Re.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(n){var i=$l;return $l+=1,uo===null&&(uo=[]),n=E_(uo,n,i),i=Re,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?hv:wm),n}function dh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Jl(n);if(n.$$typeof===ie)return $t(n)}throw Error(r(438,String(n)))}function gm(n){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fh(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=O;return i.index++,a}function Zi(n,i){return typeof i=="function"?i(n):i}function mh(n){var i=Et();return pm(i,tt,n)}function pm(n,i,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var A=_=null,C=null,B=i,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Me&J)===J:(Wi&J)===J){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===io&&(Q=!0);else if((Wi&q)===q){B=B.next,q===io&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=J,_=d):C=C.next=J,Re.lanes|=q,Qr|=q;J=B.action,ia&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=q,_=d):C=C.next=q,Re.lanes|=J,Qr|=J;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=A,!Sn(d,n.memoizedState)&&(Vt=!0,Q&&(a=ro,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ym(n){var i=Et(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Sn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function N_(n,i,a){var l=Re,f=Et(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Sn((tt||f).memoizedState,a);if(_&&(f.memoizedState=a,Vt=!0),f=f.queue,Em(M_.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},O_.bind(null,l,f,a,i),null),rt===null)throw Error(r(349));d||(Wi&127)!==0||V_(l,i,a)}return a}function V_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=fh(),Re.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function O_(n,i,a,l){i.value=a,i.getSnapshot=l,P_(i)&&k_(n)}function M_(n,i,a){return a(function(){P_(i)&&k_(n)})}function P_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Sn(n,a)}catch{return!0}}function k_(n){var i=Ys(n,2);i!==null&&_n(i,n,2)}function _m(n){var i=cn();if(typeof n=="function"){var a=n;if(n=a(),ia){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},i}function L_(n,i,a,l){return n.baseState=a,pm(n,tt,typeof l=="function"?l:Zi)}function bI(n,i,a,l,f){if(yh(n))throw Error(r(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,U_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function U_(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var A=a(f,l),C=X.S;C!==null&&C(_,A),z_(n,i,A)}catch(B){vm(n,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),z_(n,i,d)}catch(B){vm(n,i,B)}}function z_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){B_(n,i,l)},function(l){return vm(n,i,l)}):B_(n,i,a)}function B_(n,i,a){i.status="fulfilled",i.value=a,j_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,U_(n,a)))}function vm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,j_(i),i=i.next;while(i!==l)}n.action=null}function j_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function q_(n,i){return i}function F_(n,i){if(Ue){var a=rt.formState;if(a!==null){e:{var l=Re;if(Ue){if(at){t:{for(var f=at,d=Hn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=Kn(f.nextSibling),l=f.data==="F!";break e}}Ur(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:i},a.queue=l,a=lv.bind(null,Re,l),l.dispatch=a,l=_m(!1),d=Im.bind(null,Re,!1,l.queue),l=cn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=bI.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function H_(n){var i=Et();return G_(i,tt,n)}function G_(n,i,a){if(i=pm(n,i,q_)[0],n=mh(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jl(i)}catch(_){throw _===so?rh:_}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,co(9,{destroy:void 0},II.bind(null,f,a),null)),[l,d,n]}function II(n,i){n.action=i}function K_(n){var i=Et(),a=tt;if(a!==null)return G_(i,a,n);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function co(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=fh(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Q_(){return Et().memoizedState}function gh(n,i,a,l){var f=cn();Re.flags|=n,f.memoizedState=co(1|i,{destroy:void 0},a,l===void 0?null:l)}function ph(n,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;tt!==null&&l!==null&&cm(l,tt.memoizedState.deps)?f.memoizedState=co(i,d,a,l):(Re.flags|=n,f.memoizedState=co(1|i,d,a,l))}function Y_(n,i){gh(8390656,8,n,i)}function Em(n,i){ph(2048,8,n,i)}function wI(n){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=fh(),Re.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function X_(n){var i=Et().memoizedState;return wI({ref:i,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function $_(n,i){return ph(4,2,n,i)}function J_(n,i){return ph(4,4,n,i)}function W_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Z_(n,i,a){a=a!=null?a.concat([n]):null,ph(4,4,W_.bind(null,i,n),a)}function Tm(){}function ev(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function tv(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cm(i,l[1]))return l[0];if(l=n(),ia){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function Am(n,i,a){return a===void 0||(Wi&1073741824)!==0&&(Me&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=nE(),Re.lanes|=n,Qr|=n,a)}function nv(n,i,a,l){return Sn(a,i)?a:oo.current!==null?(n=Am(n,a,l),Sn(n,i)||(Vt=!0),n):(Wi&42)===0||(Wi&1073741824)!==0&&(Me&261930)===0?(Vt=!0,n.memoizedState=a):(n=nE(),Re.lanes|=n,Qr|=n,i)}function iv(n,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,A={};X.T=A,Im(n,!1,i,a);try{var C=f(),B=X.S;if(B!==null&&B(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=TI(C,l);Wl(n,i,Q,Dn(n))}else Wl(n,i,l,Dn(n))}catch(J){Wl(n,i,{then:function(){},status:"rejected",reason:J},Dn())}finally{se.p=d,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function RI(){}function Sm(n,i,a,l){if(n.tag!==5)throw Error(r(476));var f=rv(n).queue;iv(n,f,i,ye,a===null?RI:function(){return sv(n),a(l)})}function rv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function sv(n){var i=rv(n);i.next===null&&(i=n.alternate.memoizedState),Wl(n,i.next.queue,{},Dn())}function bm(){return $t(gu)}function av(){return Et().memoizedState}function ov(){return Et().memoizedState}function CI(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();n=jr(a);var l=qr(i,n,a);l!==null&&(_n(l,i,a),Ql(l,i,a)),i={cache:Zd()},n.payload=i;return}i=i.return}}function DI(n,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yh(n)?uv(i,a):(a=qd(n,i,a,l),a!==null&&(_n(a,n,l),cv(a,i,l)))}function lv(n,i,a){var l=Dn();Wl(n,i,a,l)}function Wl(n,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yh(n))uv(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,_))return Jc(n,i,f,0),rt===null&&$c(),!1}catch{}if(a=qd(n,i,f,l),a!==null)return _n(a,n,l),cv(a,i,l),!0}return!1}function Im(n,i,a,l){if(l={lane:2,revertLane:ig(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yh(n)){if(i)throw Error(r(479))}else i=qd(n,a,l,2),i!==null&&_n(i,n,2)}function yh(n){var i=n.alternate;return n===Re||i!==null&&i===Re}function uv(n,i){lo=ch=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function cv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,El(n,a)}}var Zl={readContext:$t,use:dh,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Zl.useEffectEvent=mt;var hv={readContext:$t,use:dh,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:$t,useEffect:Y_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,gh(4194308,4,W_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return gh(4194308,4,n,i)},useInsertionEffect:function(n,i){gh(4,2,n,i)},useMemo:function(n,i){var a=cn();i=i===void 0?null:i;var l=n();if(ia){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=cn();if(a!==void 0){var f=a(i);if(ia){Pn(!0);try{a(i)}finally{Pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=DI.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=_m(n);var i=n.queue,a=lv.bind(null,Re,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Tm,useDeferredValue:function(n,i){var a=cn();return Am(a,n,i)},useTransition:function(){var n=_m(!1);return n=iv.bind(null,Re,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Re,f=cn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),rt===null)throw Error(r(349));(Me&127)!==0||V_(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Y_(M_.bind(null,l,d,n),[n]),l.flags|=2048,co(9,{destroy:void 0},O_.bind(null,l,d,a,i),null),a},useId:function(){var n=cn(),i=rt.identifierPrefix;if(Ue){var a=xi,l=Di;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hh++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=AI++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:bm,useFormState:F_,useActionState:F_,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Im.bind(null,Re,!0,a),a.dispatch=i,[n,i]},useMemoCache:gm,useCacheRefresh:function(){return cn().memoizedState=CI.bind(null,Re)},useEffectEvent:function(n){var i=cn(),a={impl:n};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},wm={readContext:$t,use:dh,useCallback:ev,useContext:$t,useEffect:Em,useImperativeHandle:Z_,useInsertionEffect:$_,useLayoutEffect:J_,useMemo:tv,useReducer:mh,useRef:Q_,useState:function(){return mh(Zi)},useDebugValue:Tm,useDeferredValue:function(n,i){var a=Et();return nv(a,tt.memoizedState,n,i)},useTransition:function(){var n=mh(Zi)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:Jl(n),i]},useSyncExternalStore:N_,useId:av,useHostTransitionStatus:bm,useFormState:H_,useActionState:H_,useOptimistic:function(n,i){var a=Et();return L_(a,tt,n,i)},useMemoCache:gm,useCacheRefresh:ov};wm.useEffectEvent=X_;var fv={readContext:$t,use:dh,useCallback:ev,useContext:$t,useEffect:Em,useImperativeHandle:Z_,useInsertionEffect:$_,useLayoutEffect:J_,useMemo:tv,useReducer:ym,useRef:Q_,useState:function(){return ym(Zi)},useDebugValue:Tm,useDeferredValue:function(n,i){var a=Et();return tt===null?Am(a,n,i):nv(a,tt.memoizedState,n,i)},useTransition:function(){var n=ym(Zi)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:Jl(n),i]},useSyncExternalStore:N_,useId:av,useHostTransitionStatus:bm,useFormState:K_,useActionState:K_,useOptimistic:function(n,i){var a=Et();return tt!==null?L_(a,tt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gm,useCacheRefresh:ov};fv.useEffectEvent=X_;function Rm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cm={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Dn(),f=jr(l);f.payload=i,a!=null&&(f.callback=a),i=qr(n,f,l),i!==null&&(_n(i,n,l),Ql(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Dn(),f=jr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=qr(n,f,l),i!==null&&(_n(i,n,l),Ql(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Dn(),l=jr(a);l.tag=2,i!=null&&(l.callback=i),i=qr(n,l,a),i!==null&&(_n(i,n,a),Ql(i,n,a))}};function dv(n,i,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!zl(a,l)||!zl(f,d):!0}function mv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Cm.enqueueReplaceState(i,i.state,null)}function ra(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function gv(n){Xc(n)}function pv(n){console.error(n)}function yv(n){Xc(n)}function _h(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _v(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dm(n,i,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){_h(n,i)},a}function vv(n){return n=jr(n),n.tag=3,n}function Ev(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){_v(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){_v(i,a,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function xI(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&no(i,a,f,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?xh():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===sh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),eg(n,l,f)),!1;case 22:return a.flags|=65536,l===sh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),eg(n,l,f)),!1}throw Error(r(435,a.tag))}return eg(n,l,f),xh(),!1}if(Ue)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Yd&&(n=Error(r(422),{cause:l}),ql(jn(n,a)))):(l!==Yd&&(i=Error(r(423),{cause:l}),ql(jn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=jn(l,a),f=Dm(n.stateNode,l,f),sm(n,f),gt!==4&&(gt=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),ou===null?ou=[d]:ou.push(d),gt!==4&&(gt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Dm(a.stateNode,l,n),sm(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),Ev(f,n,a,l),sm(a,f),!1}a=a.return}while(a!==null);return!1}var xm=Error(r(461)),Vt=!1;function Jt(n,i,a,l){i.child=n===null?b_(i,null,a,l):na(i,n.child,a,l)}function Tv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ws(i),l=hm(n,i,a,_,d,f),A=fm(),n!==null&&!Vt?(dm(n,i,f),er(n,i,f)):(Ue&&A&&Kd(i),i.flags|=1,Jt(n,i,l,f),i.child)}function Av(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Fd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sv(n,i,d,l,f)):(n=Zc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Um(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zl,a(_,l)&&n.ref===i.ref)return er(n,i,f)}return i.flags|=1,n=Yi(d,l),n.ref=i.ref,n.return=i,i.child=n}function Sv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(zl(d,l)&&n.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,Um(n,f))(n.flags&131072)!==0&&(Vt=!0);else return i.lanes=n.lanes,er(n,i,f)}return Nm(n,i,a,l,f)}function bv(n,i,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Iv(n,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ih(i,d!==null?d.cachePool:null),d!==null?R_(i,d):om(),C_(i);else return l=i.lanes=536870912,Iv(n,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ih(i,d.cachePool),R_(i,d),Hr(),i.memoizedState=null):(n!==null&&ih(i,null),om(),Hr());return Jt(n,i,f,a),i.child}function eu(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iv(n,i,a,l,f){var d=tm();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&ih(i,null),om(),C_(i),n!==null&&no(n,i,l,!0),i.childLanes=f,null}function vh(n,i){return i=Th({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function wv(n,i,a){return na(i,n.child,null,a),n=vh(i,i.pendingProps),n.flags|=2,wn(i),i.memoizedState=null,n}function NI(n,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ue){if(l.mode==="hidden")return n=vh(i,l),i.lanes=536870912,eu(null,n);if(um(i),(n=at)?(n=UE(n,Hn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:kr!==null?{id:Di,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=u_(n),a.return=i,i.child=a,Xt=i,at=null)):n=null,n===null)throw Ur(i);return i.lanes=536870912,null}return vh(i,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(um(i),f)if(i.flags&256)i.flags&=-257,i=wv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(Vt||no(n,i,a,!1),f=(a&n.childLanes)!==0,Vt||f){if(l=rt,l!==null&&(_=Tl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(n,_),_n(l,n,_),xm;xh(),i=wv(n,i,a)}else n=d.treeContext,at=Kn(_.nextSibling),Xt=i,Ue=!0,Lr=null,Hn=!1,n!==null&&f_(i,n),i=vh(i,l),i.flags|=4096;return i}return n=Yi(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Eh(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Nm(n,i,a,l,f){return Ws(i),a=hm(n,i,a,l,void 0,f),l=fm(),n!==null&&!Vt?(dm(n,i,f),er(n,i,f)):(Ue&&l&&Kd(i),i.flags|=1,Jt(n,i,a,f),i.child)}function Rv(n,i,a,l,f,d){return Ws(i),i.updateQueue=null,a=x_(i,l,a,f),D_(n),l=fm(),n!==null&&!Vt?(dm(n,i,d),er(n,i,d)):(Ue&&l&&Kd(i),i.flags|=1,Jt(n,i,a,d),i.child)}function Cv(n,i,a,l,f){if(Ws(i),i.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},im(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rm(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Cm.enqueueReplaceState(d,d.state,null),Xl(i,l,d,f),Yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var A=i.memoizedProps,C=ra(a,A);d.props=C;var B=d.context,Q=a.contextType;_=Wa,typeof Q=="object"&&Q!==null&&(_=$t(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&mv(i,d,l,_),Br=!1;var q=i.memoizedState;d.state=q,Xl(i,l,d,f),Yl(),B=i.memoizedState,A||q!==B||Br?(typeof J=="function"&&(Rm(i,a,J,l),B=i.memoizedState),(C=Br||dv(i,a,C,l,q,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,rm(n,i),_=i.memoizedProps,Q=ra(a,_),d.props=Q,J=i.pendingProps,q=d.context,B=a.contextType,C=Wa,typeof B=="object"&&B!==null&&(C=$t(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==C)&&mv(i,d,l,C),Br=!1,q=i.memoizedState,d.state=q,Xl(i,l,d,f),Yl();var H=i.memoizedState;_!==J||q!==H||Br||n!==null&&n.dependencies!==null&&th(n.dependencies)?(typeof A=="function"&&(Rm(i,a,A,l),H=i.memoizedState),(Q=Br||dv(i,a,Q,l,q,H,C)||n!==null&&n.dependencies!==null&&th(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Eh(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=na(i,n.child,null,f),i.child=na(i,null,a,f)):Jt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=er(n,i,f),n}function Dv(n,i,a,l){return $s(),i.flags|=256,Jt(n,i,a,l),i.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(n){return{baseLanes:n,cachePool:__()}}function Mm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Cn),n}function xv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ue){if(f?Fr(i):Hr(),(n=at)?(n=UE(n,Hn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:kr!==null?{id:Di,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=u_(n),a.return=i,i.child=a,Xt=i,at=null)):n=null,n===null)throw Ur(i);return pg(n)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Hr(),f=i.mode,A=Th({mode:"hidden",children:A},f),l=Xs(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Om(a),l.childLanes=Mm(n,_,a),i.memoizedState=Vm,eu(null,l)):(Fr(i),Pm(i,A))}var C=n.memoizedState;if(C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(Fr(i),i.flags&=-257,i=km(n,i,a)):i.memoizedState!==null?(Hr(),i.child=n.child,i.flags|=128,i=null):(Hr(),A=l.fallback,f=i.mode,l=Th({mode:"visible",children:l.children},f),A=Xs(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,na(i,n.child,null,a),l=i.child,l.memoizedState=Om(a),l.childLanes=Mm(n,_,a),i.memoizedState=Vm,i=eu(null,l));else if(Fr(i),pg(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,ql({value:l,source:null,stack:null}),i=km(n,i,a)}else if(Vt||no(n,i,a,!1),_=(a&n.childLanes)!==0,Vt||_){if(_=rt,_!==null&&(l=Tl(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ys(n,l),_n(_,n,l),xm;gg(A)||xh(),i=km(n,i,a)}else gg(A)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,at=Kn(A.nextSibling),Xt=i,Ue=!0,Lr=null,Hn=!1,n!==null&&f_(i,n),i=Pm(i,l.children),i.flags|=4096);return i}return f?(Hr(),A=l.fallback,f=i.mode,C=n.child,B=C.sibling,l=Yi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?A=Yi(B,A):(A=Xs(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,eu(null,l),l=i.child,A=n.child.memoizedState,A===null?A=Om(a):(f=A.cachePool,f!==null?(C=xt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=__(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Mm(n,_,a),i.memoizedState=Vm,eu(n.child,l)):(Fr(i),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function Pm(n,i){return i=Th({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Th(n,i){return n=bn(22,n,null,i),n.lanes=0,n}function km(n,i,a){return na(i,n.child,null,a),n=Pm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Nv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Jd(n.return,i,a)}function Lm(n,i,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Vv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ae(vt,_),Jt(n,i,l,a),l=Ue?jl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Nv(n,a,i);else if(n.tag===19)Nv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&uh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Lm(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&uh(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Lm(i,!0,a,null,d,l);break;case"together":Lm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(no(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=Yi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Um(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&th(n)))}function VI(n,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),zr(i,xt,n.memoizedState.cache),$s();break;case 27:case 5:xs(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,um(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xv(n,i,a):(Fr(i),n=er(n,i,a),n!==null?n.sibling:null);Fr(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(no(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Vv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(vt,vt.current),l)break;return null;case 22:return i.lanes=0,bv(n,i,a,i.pendingProps);case 24:zr(i,xt,n.memoizedState.cache)}return er(n,i,a)}function Ov(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Um(n,a)&&(i.flags&128)===0)return Vt=!1,VI(n,i,a);Vt=(n.flags&131072)!==0}else Vt=!1,Ue&&(i.flags&1048576)!==0&&h_(i,jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=ea(i.elementType),i.type=n,typeof n=="function")Fd(n)?(l=ra(n,l),i.tag=1,i=Cv(null,i,n,l,a)):(i.tag=0,i=Nm(null,i,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===_e){i.tag=11,i=Tv(null,i,n,l,a);break e}else if(f===w){i.tag=14,i=Av(null,i,n,l,a);break e}}throw i=lt(n)||n,Error(r(306,i,""))}}return i;case 0:return Nm(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ra(l,i.pendingProps),Cv(n,i,l,f,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),n===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,rm(n,i),Xl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,zr(i,xt,l),l!==d.cache&&Wd(i,[xt],a,!0),Yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dv(n,i,l,a);break e}else if(l!==f){f=jn(Error(r(424)),i),ql(f),i=Dv(n,i,l,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,at=Kn(n.firstChild),Xt=i,Ue=!0,Lr=null,Hn=!0,a=b_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($s(),l===f){i=er(n,i,a);break e}Jt(n,i,l,a)}i=i.child}return i;case 26:return Eh(n,i),n===null?(a=HE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,n=i.pendingProps,l=Lh(Ce.current).createElement(a),l[Rt]=i,l[qt]=n,Wt(l,a,n),Ct(l),i.stateNode=l):i.memoizedState=HE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return xs(i),n===null&&Ue&&(l=i.stateNode=jE(i.type,i.pendingProps,Ce.current),Xt=i,Hn=!0,f=at,Wr(i.type)?(yg=f,at=Kn(l.firstChild)):at=f),Jt(n,i,i.pendingProps.children,a),Eh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ue&&((f=l=at)&&(l=lw(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Xt=i,at=Kn(l.firstChild),Hn=!1,f=!0):f=!1),f||Ur(i)),xs(i),f=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,fg(f,d)?l=null:_!==null&&fg(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=hm(n,i,SI,null,null,a),gu._currentValue=f),Eh(n,i),Jt(n,i,l,a),i.child;case 6:return n===null&&Ue&&((n=a=at)&&(a=uw(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Xt=i,at=null,n=!0):n=!1),n||Ur(i)),null;case 13:return xv(n,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=na(i,null,l,a):Jt(n,i,l,a),i.child;case 11:return Tv(n,i,i.type,i.pendingProps,a);case 7:return Jt(n,i,i.pendingProps,a),i.child;case 8:return Jt(n,i,i.pendingProps.children,a),i.child;case 12:return Jt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,zr(i,i.type,l.value),Jt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ws(i),f=$t(f),l=l(f),i.flags|=1,Jt(n,i,l,a),i.child;case 14:return Av(n,i,i.type,i.pendingProps,a);case 15:return Sv(n,i,i.type,i.pendingProps,a);case 19:return Vv(n,i,a);case 31:return NI(n,i,a);case 22:return bv(n,i,a,i.pendingProps);case 24:return Ws(i),l=$t(xt),n===null?(f=tm(),f===null&&(f=rt,d=Zd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},im(i),zr(i,xt,f)):((n.lanes&a)!==0&&(rm(n,i),Xl(i,null,null,a),Yl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),zr(i,xt,l)):(l=d.cache,zr(i,xt,l),l!==f.cache&&Wd(i,[xt],a,!0))),Jt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function tr(n){n.flags|=4}function zm(n,i,a,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(aE())n.flags|=8192;else throw ta=sh,nm}else n.flags&=-16777217}function Mv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!XE(i))if(aE())n.flags|=8192;else throw ta=sh,nm}function Ah(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Cc():536870912,n.lanes|=i,go|=i)}function tu(n,i){if(!Ue)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function OI(n,i,a){var l=i.pendingProps;switch(Qd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(xt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(to(i)?tr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xd())),ot(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(tr(i),d!==null?(ot(i),Mv(i,d)):(ot(i),zm(i,f,null,l,a))):d?d!==n.memoizedState?(tr(i),ot(i),Mv(i,d)):(ot(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&tr(i),ot(i),zm(i,f,n,l,a)),null;case 27:if(Oa(i),a=Ce.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}n=le.current,to(i)?d_(i):(n=jE(f,l,a),i.stateNode=n,tr(i))}return ot(i),null;case 5:if(Oa(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}if(d=le.current,to(i))d_(i);else{var _=Lh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Rt]=i,d[qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Wt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return ot(i),zm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(n=Ce.current,to(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Rt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xE(n.nodeValue,a)),n||Ur(i,!0)}else n=Lh(n).createTextNode(l),n[Rt]=i,i.stateNode=n}return ot(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=to(i),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Rt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),n=!1}else a=Xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ot(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=to(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=Xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Ah(i,i.updateQueue),ot(i),null);case 4:return ut(),n===null&&og(i.stateNode.containerInfo),ot(i),null;case 10:return Ji(i.type),ot(i),null;case 19:if(W(vt),l=i.memoizedState,l===null)return ot(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)tu(l,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=uh(n),d!==null){for(i.flags|=128,tu(l,!1),n=d.updateQueue,i.updateQueue=n,Ah(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)l_(a,n),a=a.sibling;return ae(vt,vt.current&1|2),Ue&&Xi(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&ln()>Rh&&(i.flags|=128,f=!0,tu(l,!1),i.lanes=4194304)}else{if(!f)if(n=uh(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Ah(i,n),tu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return ot(i),null}else 2*ln()-l.renderingStartTime>Rh&&a!==536870912&&(i.flags|=128,f=!0,tu(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ln(),n.sibling=null,a=vt.current,ae(vt,f?a&1|2:a&1),Ue&&Xi(i,l.treeForkCount),n):(ot(i),null);case 22:case 23:return wn(i),lm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Ah(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&W(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(xt),ot(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function MI(n,i){switch(Qd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ji(xt),ut(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Oa(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(r(340));$s()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(wn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));$s()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(vt),null;case 4:return ut(),null;case 10:return Ji(i.type),null;case 22:case 23:return wn(i),lm(),n!==null&&W(Zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ji(xt),null;case 25:return null;default:return null}}function Pv(n,i){switch(Qd(i),i.tag){case 3:Ji(xt),ut();break;case 26:case 27:case 5:Oa(i);break;case 4:ut();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:W(vt);break;case 10:Ji(i.type);break;case 22:case 23:wn(i),lm(),n!==null&&W(Zs);break;case 24:Ji(xt)}}function nu(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){$e(i,i.return,A)}}function Gr(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var C=a,B=A;try{B()}catch(Q){$e(f,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){$e(i,i.return,Q)}}function kv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{w_(i,a)}catch(l){$e(n,n.return,l)}}}function Lv(n,i,a){a.props=ra(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){$e(n,i,l)}}function iu(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){$e(n,i,f)}}function Ni(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(n,i,f)}else a.current=null}function Uv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(n,n.return,f)}}function Bm(n,i,a){try{var l=n.stateNode;nw(l,n.type,a,i),l[qt]=i}catch(f){$e(n,n.return,f)}}function zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wr(n.type)||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Wr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(qm(n,i,a),n=n.sibling;n!==null;)qm(n,i,a),n=n.sibling}function Sh(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Wr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sh(n,i,a),n=n.sibling;n!==null;)Sh(n,i,a),n=n.sibling}function Bv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wt(i,l,a),i[Rt]=n,i[qt]=a}catch(d){$e(n,n.return,d)}}var nr=!1,Ot=!1,Fm=!1,jv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function PI(n,i){if(n=n.containerInfo,cg=Hh,n=Zy(n),kd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,C=-1,B=0,Q=0,J=n,q=null;t:for(;;){for(var H;J!==a||f!==0&&J.nodeType!==3||(A=_+f),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===n)break t;if(q===a&&++B===f&&(A=_),q===d&&++Q===l&&(C=_),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(hg={focusedElem:n,selectionRange:a},Hh=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=ra(a.type,f);n=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){$e(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)mg(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function qv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(n,a),l&4&&nu(5,a);break;case 1:if(rr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ra(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&kv(a),l&512&&iu(a,a.return);break;case 3:if(rr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{w_(n,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&Bv(a);case 26:case 5:rr(n,a),i===null&&l&4&&Uv(a),l&512&&iu(a,a.return);break;case 12:rr(n,a);break;case 31:rr(n,a),l&4&&Gv(n,a);break;case 13:rr(n,a),l&4&&Kv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=HI.bind(null,a),cw(n,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Ot,f=nr;var d=Ot;nr=l,(Ot=i)&&!d?sr(n,a,(a.subtreeFlags&8772)!==0):rr(n,a),nr=f,Ot=d}break;case 30:break;default:rr(n,a)}}function Fv(n){var i=n.alternate;i!==null&&(n.alternate=null,Fv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ua(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,mn=!1;function ir(n,i,a){for(a=a.child;a!==null;)Hv(n,i,a),a=a.sibling}function Hv(n,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ot||Ni(a,i),ir(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Ni(a,i);var l=ht,f=mn;Wr(a.type)&&(ht=a.stateNode,mn=!1),ir(n,i,a),fu(a.stateNode),ht=l,mn=f;break;case 5:Ot||Ni(a,i);case 6:if(l=ht,f=mn,ht=null,ir(n,i,a),ht=l,mn=f,ht!==null)if(mn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ht!==null&&(mn?(n=ht,kE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),So(n)):kE(ht,a.stateNode));break;case 4:l=ht,f=mn,ht=a.stateNode.containerInfo,mn=!0,ir(n,i,a),ht=l,mn=f;break;case 0:case 11:case 14:case 15:Gr(2,a,i),Ot||Gr(4,a,i),ir(n,i,a);break;case 1:Ot||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,i,l)),ir(n,i,a);break;case 21:ir(n,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,ir(n,i,a),Ot=l;break;default:ir(n,i,a)}}function Gv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{So(n)}catch(a){$e(i,i.return,a)}}}function Kv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{So(n)}catch(a){$e(i,i.return,a)}}function kI(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new jv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new jv),i;default:throw Error(r(435,n.tag))}}function bh(n,i){var a=kI(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=GI.bind(null,n,l);l.then(f,f)}})}function gn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Wr(A.type)){ht=A.stateNode,mn=!1;break e}break;case 5:ht=A.stateNode,mn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(ht===null)throw Error(r(160));Hv(d,_,f),ht=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qv(i,n),i=i.sibling}var si=null;function Qv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gn(i,n),pn(n),l&4&&(Gr(3,n,n.return),nu(3,n),Gr(5,n,n.return));break;case 1:gn(i,n),pn(n),l&512&&(Ot||a===null||Ni(a,a.return)),l&64&&nr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(gn(i,n),pn(n),l&512&&(Ot||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Wt(d,l,a),d[Rt]=n,Ct(d),l=d;break e;case"link":var _=QE("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),Wt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=QE("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),Wt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Rt]=n,Ct(d),l=d}n.stateNode=l}else YE(f,n.type,n.stateNode);else n.stateNode=KE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?YE(f,n.type,n.stateNode):KE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Bm(n,n.memoizedProps,a.memoizedProps)}break;case 27:gn(i,n),pn(n),l&512&&(Ot||a===null||Ni(a,a.return)),a!==null&&l&4&&Bm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,n),pn(n),l&512&&(Ot||a===null||Ni(a,a.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(ce){$e(n,n.return,ce)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Bm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Fm=!0);break;case 6:if(gn(i,n),pn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ce){$e(n,n.return,ce)}}break;case 3:if(Bh=null,f=si,si=Uh(i.containerInfo),gn(i,n),si=f,pn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(ce){$e(n,n.return,ce)}Fm&&(Fm=!1,Yv(n));break;case 4:l=si,si=Uh(n.stateNode.containerInfo),gn(i,n),pn(n),si=l;break;case 12:gn(i,n),pn(n);break;case 31:gn(i,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 13:gn(i,n),pn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wh=ln()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=nr,Q=Ot;if(nr=B||f,Ot=Q||C,gn(i,n),Ot=Q,nr=B,pn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||nr||Ot||sa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){$e(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ce){$e(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;f?LE(H,!0):LE(C.stateNode,!1)}catch(ce){$e(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bh(n,a))));break;case 19:gn(i,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 30:break;case 21:break;default:gn(i,n),pn(n)}}function pn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=jm(n);Sh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var A=jm(n);Sh(n,A,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=jm(n);qm(n,B,C);break;default:throw Error(r(161))}}catch(Q){$e(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Yv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Yv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function rr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qv(n,i.alternate,i),i=i.sibling}function sa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),sa(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Lv(i,i.return,a),sa(i);break;case 27:fu(i.stateNode);case 26:case 5:Ni(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}n=n.sibling}}function sr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),nu(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){$e(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)I_(C[f],A)}catch(B){$e(l,l.return,B)}}a&&_&64&&kv(d),iu(d,d.return);break;case 27:Bv(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&Uv(d),iu(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&Gv(f,d);break;case 13:sr(f,d,a),a&&_&4&&Kv(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),iu(d,d.return);break;case 30:break;default:sr(f,d,a)}i=i.sibling}}function Hm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Fl(a))}function Gm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fl(n))}function ai(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xv(n,i,a,l),i=i.sibling}function Xv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(n,i,a,l),f&2048&&nu(9,i);break;case 1:ai(n,i,a,l);break;case 3:ai(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fl(n)));break;case 12:if(f&2048){ai(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else ai(n,i,a,l);break;case 31:ai(n,i,a,l);break;case 13:ai(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(n,i,a,l):ru(n,i):d._visibility&2?ai(n,i,a,l):(d._visibility|=2,ho(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Hm(_,i);break;case 24:ai(n,i,a,l),f&2048&&Gm(i.alternate,i);break;default:ai(n,i,a,l)}}function ho(n,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,_=i,A=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ho(d,_,A,C,f),nu(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?ho(d,_,A,C,f):ru(d,_):(Q._visibility|=2,ho(d,_,A,C,f)),f&&B&2048&&Hm(_.alternate,_);break;case 24:ho(d,_,A,C,f),f&&B&2048&&Gm(_.alternate,_);break;default:ho(d,_,A,C,f)}i=i.sibling}}function ru(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:ru(a,l),f&2048&&Hm(l.alternate,l);break;case 24:ru(a,l),f&2048&&Gm(l.alternate,l);break;default:ru(a,l)}i=i.sibling}}var su=8192;function fo(n,i,a){if(n.subtreeFlags&su)for(n=n.child;n!==null;)$v(n,i,a),n=n.sibling}function $v(n,i,a){switch(n.tag){case 26:fo(n,i,a),n.flags&su&&n.memoizedState!==null&&Aw(a,si,n.memoizedState,n.memoizedProps);break;case 5:fo(n,i,a);break;case 3:case 4:var l=si;si=Uh(n.stateNode.containerInfo),fo(n,i,a),si=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=su,su=16777216,fo(n,i,a),su=l):fo(n,i,a));break;default:fo(n,i,a)}}function Jv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function au(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Zv(l,n)}Jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wv(n),n=n.sibling}function Wv(n){switch(n.tag){case 0:case 11:case 15:au(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:au(n);break;case 12:au(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ih(n)):au(n);break;default:au(n)}}function Ih(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Zv(l,n)}Jv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),Ih(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ih(i));break;default:Ih(i)}n=n.sibling}}function Zv(n,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=n;Ht!==null;){l=Ht;var f=l.sibling,d=l.return;if(Fv(l),l===a){Ht=null;break e}if(f!==null){f.return=d,Ht=f;break e}Ht=d}}}var LI={getCacheForType:function(n){var i=$t(xt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return $t(xt).controller.signal}},UI=typeof WeakMap=="function"?WeakMap:Map,Ge=0,rt=null,Ve=null,Me=0,Xe=0,Rn=null,Kr=!1,mo=!1,Km=!1,ar=0,gt=0,Qr=0,aa=0,Qm=0,Cn=0,go=0,ou=null,yn=null,Ym=!1,wh=0,eE=0,Rh=1/0,Ch=null,Yr=null,zt=0,Xr=null,po=null,or=0,Xm=0,$m=null,tE=null,lu=0,Jm=null;function Dn(){return(Ge&2)!==0&&Me!==0?Me&-Me:X.T!==null?ig():Dc()}function nE(){if(Cn===0)if((Me&536870912)===0||Ue){var n=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),Cn=n}else Cn=536870912;return n=In.current,n!==null&&(n.flags|=32),Cn}function _n(n,i,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(yo(n,0),$r(n,Me,Cn,!1)),Ms(n,a),((Ge&2)===0||n!==rt)&&(n===rt&&((Ge&2)===0&&(aa|=a),gt===4&&$r(n,Me,Cn,!1)),Vi(n))}function iE(n,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||$n(n,i),f=l?jI(n,i):Zm(n,i,!0),d=l;do{if(f===0){mo&&!l&&$r(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!zI(a)){f=Zm(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=n;f=ou;var C=A.current.memoizedState.isDehydrated;if(C&&(yo(A,_).flags|=256),_=Zm(A,_,!1),_!==2){if(Km&&!C){A.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){yo(n,0),$r(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:$r(l,i,Cn,!Kr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=wh+300-ln(),10<f)){if($r(l,i,Cn,!Kr),mi(l,0,!0)!==0)break e;or=i,l.timeoutHandle=ME(rE.bind(null,l,a,yn,Ch,Ym,i,Cn,aa,go,Kr,d,"Throttled",-0,0),f);break e}rE(l,a,yn,Ch,Ym,i,Cn,aa,go,Kr,d,null,-0,0)}}break}while(!0);Vi(n)}function rE(n,i,a,l,f,d,_,A,C,B,Q,J,q,H){if(n.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},$v(i,d,J);var ce=(d&62914560)===d?wh-ln():(d&4194048)===d?eE-ln():0;if(ce=Sw(J,ce),ce!==null){or=d,n.cancelPendingCommit=ce(fE.bind(null,n,i,d,a,l,f,_,A,C,Q,J,null,q,H)),$r(n,d,_,!B);return}}fE(n,i,d,a,l,f,_,A,C)}function zI(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(n,i,a,l){i&=~Qm,i&=~aa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ps(n,a,i)}function Dh(){return(Ge&6)===0?(uu(0),!1):!0}function Wm(){if(Ve!==null){if(Xe===0)var n=Ve.return;else n=Ve,$i=Js=null,mm(n),ao=null,Gl=0,n=Ve;for(;n!==null;)Pv(n.alternate,n),n=n.return;Ve=null}}function yo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,sw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),or=0,Wm(),rt=n,Ve=a=Yi(n.current,null),Me=i,Xe=0,Rn=null,Kr=!1,mo=$n(n,i),Km=!1,go=Cn=Qm=aa=Qr=gt=0,yn=ou=null,Ym=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=n[f],l&=~d}return ar=i,$c(),a}function sE(n,i){Re=null,X.H=Zl,i===so||i===rh?(i=T_(),Xe=3):i===nm?(i=T_(),Xe=4):Xe=i===xm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ve===null&&(gt=1,_h(n,jn(i,n.current)))}function aE(){var n=In.current;return n===null?!0:(Me&4194048)===Me?Gn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===Gn:!1}function oE(){var n=X.H;return X.H=Zl,n===null?Zl:n}function lE(){var n=X.A;return X.A=LI,n}function xh(){gt=4,Kr||(Me&4194048)!==Me&&In.current!==null||(mo=!0),(Qr&134217727)===0&&(aa&134217727)===0||rt===null||$r(rt,Me,Cn,!1)}function Zm(n,i,a){var l=Ge;Ge|=2;var f=oE(),d=lE();(rt!==n||Me!==i)&&(Ch=null,yo(n,i)),i=!1;var _=gt;e:do try{if(Xe!==0&&Ve!==null){var A=Ve,C=Rn;switch(Xe){case 8:Wm(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var B=Xe;if(Xe=0,Rn=null,_o(n,A,C,B),a&&mo){_=0;break e}break;default:B=Xe,Xe=0,Rn=null,_o(n,A,C,B)}}BI(),_=gt;break}catch(Q){sE(n,Q)}while(!0);return i&&n.shellSuspendCounter++,$i=Js=null,Ge=l,X.H=f,X.A=d,Ve===null&&(rt=null,Me=0,$c()),_}function BI(){for(;Ve!==null;)uE(Ve)}function jI(n,i){var a=Ge;Ge|=2;var l=oE(),f=lE();rt!==n||Me!==i?(Ch=null,Rh=ln()+500,yo(n,i)):mo=$n(n,i);e:do try{if(Xe!==0&&Ve!==null){i=Ve;var d=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,_o(n,i,d,1);break;case 2:case 9:if(v_(d)){Xe=0,Rn=null,cE(i);break}i=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Vi(n)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:v_(d)?(Xe=0,Rn=null,cE(i)):(Xe=0,Rn=null,_o(n,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?XE(_):A.stateNode.complete){Xe=0,Rn=null;var C=A.sibling;if(C!==null)Ve=C;else{var B=A.return;B!==null?(Ve=B,Nh(B)):Ve=null}break t}}Xe=0,Rn=null,_o(n,i,d,5);break;case 6:Xe=0,Rn=null,_o(n,i,d,6);break;case 8:Wm(),gt=6;break e;default:throw Error(r(462))}}qI();break}catch(Q){sE(n,Q)}while(!0);return $i=Js=null,X.H=l,X.A=f,Ge=a,Ve!==null?0:(rt=null,Me=0,$c(),gt)}function qI(){for(;Ve!==null&&!Dd();)uE(Ve)}function uE(n){var i=Ov(n.alternate,n,ar);n.memoizedProps=n.pendingProps,i===null?Nh(n):Ve=i}function cE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Rv(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Rv(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:mm(i);default:Pv(a,i),i=Ve=l_(i,ar),i=Ov(a,i,ar)}n.memoizedProps=n.pendingProps,i===null?Nh(n):Ve=i}function _o(n,i,a,l){$i=Js=null,mm(i),ao=null,Gl=0;var f=i.return;try{if(xI(n,f,i,a,Me)){gt=1,_h(n,jn(a,n.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;gt=1,_h(n,jn(a,n.current)),Ve=null;return}i.flags&32768?(Ue||l===1?n=!0:mo||(Me&536870912)!==0?n=!1:(Kr=n=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),hE(i,n)):Nh(i)}function Nh(n){var i=n;do{if((i.flags&32768)!==0){hE(i,Kr);return}n=i.return;var a=OI(i.alternate,i,ar);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=n}while(i!==null);gt===0&&(gt=5)}function hE(n,i){do{var a=MI(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);gt=6,Ve=null}function fE(n,i,a,l,f,d,_,A,C){n.cancelPendingCommit=null;do Vh();while(zt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=jd,Vd(n,a,d,_,A,C),n===rt&&(Ve=rt=null,Me=0),po=i,Xr=n,or=a,Xm=d,$m=f,tE=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KI(wr,function(){return yE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=Ge,Ge|=4;try{PI(n,i,a)}finally{Ge=_,se.p=f,X.T=l}}zt=1,dE(),mE(),gE()}}function dE(){if(zt===1){zt=0;var n=Xr,i=po,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ge;Ge|=4;try{Qv(i,n);var d=hg,_=Zy(n.containerInfo),A=d.focusedElem,C=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Wy(A.ownerDocument.documentElement,A)){if(C!==null&&kd(A)){var B=C.start,Q=C.end;if(Q===void 0&&(Q=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(Q,A.value.length);else{var J=A.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),ce=A.textContent.length,ve=Math.min(C.start,ce),it=C.end===void 0?ve:Math.min(C.end,ce);!H.extend&&ve>it&&(_=it,it=ve,ve=_);var P=Jy(A,ve),x=Jy(A,it);if(P&&x&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var z=J.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),ve>it?(H.addRange(z),H.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),H.addRange(z))}}}}for(J=[],H=A;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var $=J[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Hh=!!cg,hg=cg=null}finally{Ge=f,se.p=l,X.T=a}}n.current=i,zt=2}}function mE(){if(zt===2){zt=0;var n=Xr,i=po,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ge;Ge|=4;try{qv(n,i.alternate,i)}finally{Ge=f,se.p=l,X.T=a}}zt=3}}function gE(){if(zt===4||zt===3){zt=0,Ac();var n=Xr,i=po,a=or,l=tE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,po=Xr=null,pE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Yr=null),Hi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{X.T=i,se.p=f}}(or&3)!==0&&Vh(),Vi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Jm?lu++:(lu=0,Jm=n):lu=0,uu(0)}}function pE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Fl(i)))}function Vh(){return dE(),mE(),gE(),yE()}function yE(){if(zt!==5)return!1;var n=Xr,i=Xm;Xm=0;var a=Hi(or),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=$m,$m=null;var d=Xr,_=or;if(zt=0,po=Xr=null,or=0,(Ge&6)!==0)throw Error(r(331));var A=Ge;if(Ge|=4,Wv(d.current),Xv(d,d.current,_,a),Ge=A,uu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{se.p=f,X.T=l,pE(n,i)}}function _E(n,i,a){i=jn(a,i),i=Dm(n.stateNode,i,2),n=qr(n,i,2),n!==null&&(Ms(n,2),Vi(n))}function $e(n,i,a){if(n.tag===3)_E(n,n,a);else for(;i!==null;){if(i.tag===3){_E(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){n=jn(a,n),a=vv(2),l=qr(i,a,2),l!==null&&(Ev(a,l,i,n),Ms(l,2),Vi(l));break}}i=i.return}}function eg(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new UI;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Km=!0,f.add(a),n=FI.bind(null,n,i,a),i.then(n,n))}function FI(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Me&a)===a&&(gt===4||gt===3&&(Me&62914560)===Me&&300>ln()-wh?(Ge&2)===0&&yo(n,0):Qm|=a,go===Me&&(go=0)),Vi(n)}function vE(n,i){i===0&&(i=Cc()),n=Ys(n,i),n!==null&&(Ms(n,i),Vi(n))}function HI(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),vE(n,a)}function GI(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),vE(n,a)}function KI(n,i){return Ut(n,i)}var Oh=null,vo=null,tg=!1,Mh=!1,ng=!1,Jr=0;function Vi(n){n!==vo&&n.next===null&&(vo===null?Oh=vo=n:vo=vo.next=n),Mh=!0,tg||(tg=!0,YI())}function uu(n,i){if(!ng&&Mh){ng=!0;do for(var a=!1,l=Oh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-yt(42|n)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,SE(l,d))}else d=Me,d=mi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,SE(l,d));l=l.next}while(a);ng=!1}}function QI(){EE()}function EE(){Mh=tg=!1;var n=0;Jr!==0&&rw()&&(n=Jr);for(var i=ln(),a=null,l=Oh;l!==null;){var f=l.next,d=TE(l,i);d===0?(l.next=null,a===null?Oh=f:a.next=f,f===null&&(vo=a)):(a=l,(n!==0||(d&3)!==0)&&(Mh=!0)),l=f}zt!==0&&zt!==5||uu(n),Jr!==0&&(Jr=0)}function TE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-yt(d),A=1<<_,C=f[_];C===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Nd(A,i)):C<=i&&(n.expiredLanes|=A),d&=~A}if(i=rt,a=Me,a=mi(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ir(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||$n(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ir(l),Hi(a)){case 2:case 8:a=vl;break;case 32:a=wr;break;case 268435456:a=Sc;break;default:a=wr}return l=AE.bind(null,n),a=Ut(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ir(l),n.callbackPriority=2,n.callbackNode=null,2}function AE(n,i){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Vh()&&n.callbackNode!==a)return null;var l=Me;return l=mi(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(iE(n,l,i),TE(n,ln()),n.callbackNode!=null&&n.callbackNode===a?AE.bind(null,n):null)}function SE(n,i){if(Vh())return null;iE(n,i,!0)}function YI(){aw(function(){(Ge&6)!==0?Ut(_l,QI):EE()})}function ig(){if(Jr===0){var n=io;n===0&&(n=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Jr=n}return Jr}function bE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qa(""+n)}function IE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function XI(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=bE((f[qt]||null).action),_=l.submitter;_&&(i=(i=_[qt]||null)?bE(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Ii("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var C=_?IE(f,_):new FormData(f);Sm(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=_?IE(f,_):new FormData(f),Sm(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var rg=0;rg<Bd.length;rg++){var sg=Bd[rg],$I=sg.toLowerCase(),JI=sg[0].toUpperCase()+sg.slice(1);ri($I,"on"+JI)}ri(n_,"onAnimationEnd"),ri(i_,"onAnimationIteration"),ri(r_,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(dI,"onTransitionRun"),ri(mI,"onTransitionStart"),ri(gI,"onTransitionCancel"),ri(s_,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function wE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],C=A.instance,B=A.currentTarget;if(A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=B;try{d(f)}catch(Q){Xc(Q)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(A=l[_],C=A.instance,B=A.currentTarget,A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=B;try{d(f)}catch(Q){Xc(Q)}f.currentTarget=null,d=C}}}}function Oe(n,i){var a=i[La];a===void 0&&(a=i[La]=new Set);var l=n+"__bubble";a.has(l)||(RE(i,n,2,!1),a.add(l))}function ag(n,i,a){var l=0;i&&(l|=4),RE(a,n,l,i)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function og(n){if(!n[Ph]){n[Ph]=!0,Al.forEach(function(a){a!=="selectionchange"&&(WI.has(a)||ag(a,!1,n),ag(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ph]||(i[Ph]=!0,ag("selectionchange",!1,i))}}function RE(n,i,a,l){switch(nT(i)){case 2:var f=ww;break;case 8:f=Rw;break;default:f=Ag}a=f.bind(null,i,a,n),f=void 0,!Bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function lg(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=_i(A),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Vr(function(){var B=d,Q=Ln(a),J=[];e:{var q=a_.get(n);if(q!==void 0){var H=Ii,ce=n;switch(n){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":H=Kc;break;case"focusin":ce="focus",H=Hs;break;case"focusout":ce="blur",H=Hs;break;case"beforeblur":case"afterblur":H=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case n_:case i_:case r_:H=zc;break;case s_:H=S;break;case"scroll":case"scrollend":H=Ml;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=we}var ve=(i&4)!==0,it=!ve&&(n==="scroll"||n==="scrollend"),P=ve?q!==null?q+"Capture":null:q;ve=[];for(var x=B,z;x!==null;){var $=x;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=ei(x,P),$!=null&&ve.push(hu(x,$,z))),it)break;x=x.return}0<ve.length&&(q=new H(q,ce,null,a,Q),J.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",q&&a!==Nl&&(ce=a.relatedTarget||a.fromElement)&&(_i(ce)||ce[pi]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=B,ce=ce?_i(ce):null,ce!==null&&(it=u(ce),ve=ce.tag,ce!==it||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(H=null,ce=B),H!==ce)){if(ve=Pl,$="onMouseLeave",P="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Qi,$="onPointerLeave",P="onPointerEnter",x="pointer"),it=H==null?q:Tn(H),z=ce==null?q:Tn(ce),q=new ve($,x+"leave",H,a,Q),q.target=it,q.relatedTarget=z,$=null,_i(Q)===B&&(ve=new ve(P,x+"enter",ce,a,Q),ve.target=z,ve.relatedTarget=it,$=ve),it=$,H&&ce)t:{for(ve=ZI,P=H,x=ce,z=0,$=P;$;$=ve($))z++;$=0;for(var ge=x;ge;ge=ve(ge))$++;for(;0<z-$;)P=ve(P),z--;for(;0<$-z;)x=ve(x),$--;for(;z--;){if(P===x||x!==null&&P===x.alternate){ve=P;break t}P=ve(P),x=ve(x)}ve=null}else ve=null;H!==null&&CE(J,q,H,ve,!1),ce!==null&&it!==null&&CE(J,it,ce,ve,!0)}}e:{if(q=B?Tn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var qe=Gy;else if(Fy(q))if(Ky)qe=cI;else{qe=lI;var de=oI}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ja(B.elementType)&&(qe=Gy):qe=uI;if(qe&&(qe=qe(n,B))){Hy(J,qe,a,Q);break e}de&&de(n,q,B),n==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Cl(q,"number",q.value)}switch(de=B?Tn(B):window,n){case"focusin":(Fy(de)||de.contentEditable==="true")&&(Xa=de,Ld=B,Bl=null);break;case"focusout":Bl=Ld=Xa=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,e_(J,a,Q);break;case"selectionchange":if(fI)break;case"keydown":case"keyup":e_(J,a,Q)}var De;if(He)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ya?Gs(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ci&&a.locale!=="ko"&&(Ya||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ya&&(De=Ol()):(bi=Q,Vl="value"in bi?bi.value:bi.textContent,Ya=!0)),de=kh(B,Pe),0<de.length&&(Pe=new Ri(Pe,n,null,a,Q),J.push({event:Pe,listeners:de}),De?Pe.data=De:(De=Qa(a),De!==null&&(Pe.data=De)))),(De=zn?iI(n,a):rI(n,a))&&(Pe=kh(B,"onBeforeInput"),0<Pe.length&&(de=new Ri("onBeforeInput","beforeinput",null,a,Q),J.push({event:de,listeners:Pe}),de.data=De)),XI(J,n,B,a,Q)}wE(J,i)})}function hu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function kh(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(n,a),f!=null&&l.unshift(hu(n,f,d)),f=ei(n,i),f!=null&&l.push(hu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function ZI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function CE(n,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,C=A.alternate,B=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||B===null||(C=B,f?(B=ei(a,d),B!=null&&_.unshift(hu(a,B,C))):f||(B=ei(a,d),B!=null&&_.push(hu(a,B,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var ew=/\r\n?/g,tw=/\u0000|\uFFFD/g;function DE(n){return(typeof n=="string"?n:""+n).replace(ew,`
`).replace(tw,"")}function xE(n,i){return i=DE(i),DE(n)===i}function nt(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(n,""+l);break;case"className":An(n,"class",l);break;case"tabIndex":An(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,a,l);break;case"style":xl(n,l,d);break;case"data":if(i!=="object"){An(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(n,i,"name",f.name,f,null),nt(n,i,"formEncType",f.formEncType,f,null),nt(n,i,"formMethod",f.formMethod,f,null),nt(n,i,"formTarget",f.formTarget,f,null)):(nt(n,i,"encType",f.encType,f,null),nt(n,i,"method",f.method,f,null),nt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Zn);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=qa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),za(n,"popover",l);break;case"xlinkActuate":Dt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kc.get(a)||a,za(n,a,l))}}function ug(n,i,a,l,f,d){switch(a){case"style":xl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?dn(n,l):(typeof l=="number"||typeof l=="bigint")&&dn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):za(n,a,l)}}}function Wt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:nt(n,i,d,_,a,null)}}f&&nt(n,i,"srcSet",a.srcSet,a,null),l&&nt(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var A=d=_=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:nt(n,i,l,Q,a,null)}}Oc(n,d,A,C,B,_,f,!1);return;case"select":Oe("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:nt(n,i,f,A,a,null)}i=d,a=_,n.multiple=!!l,i!=null?Cr(n,!!l,i,!1):a!=null&&Cr(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:nt(n,i,_,A,a,null)}Dr(n,l,f,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(n,i,C,l,a,null));return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<cu.length;l++)Oe(cu[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:nt(n,i,B,l,a,null)}return;default:if(ja(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&ug(n,i,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&nt(n,i,A,l,a,null))}function nw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,C=null,B=null,Q=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||nt(n,i,H,null,l,J)}}for(var q in l){var H=l[q];if(J=a[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&nt(n,i,q,H,l,J)}}Ba(n,_,A,C,B,Q,d,f);return;case"select":H=_=A=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||nt(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==C&&nt(n,i,f,d,l,C)}i=A,a=_,l=H,q!=null?Cr(n,!!a,q,!1):!!l!=!!a&&(i!=null?Cr(n,!!a,i,!0):Cr(n,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(n,i,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&nt(n,i,_,f,l,d)}Mc(n,q,H);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?n.selected=!1:nt(n,i,ce,null,l,q));for(C in l)q=l[C],H=a[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null)&&(C==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":nt(n,i,C,q,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&nt(n,i,ve,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:nt(n,i,B,q,l,H)}return;default:if(ja(i)){for(var it in a)q=a[it],a.hasOwnProperty(it)&&q!==void 0&&!l.hasOwnProperty(it)&&ug(n,i,it,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||ug(n,i,Q,q,l,H);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&nt(n,i,P,null,l,q);for(J in l)q=l[J],H=a[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||nt(n,i,J,q,l,H)}function NE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&NE(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>A)break;var Q=C.transferSize,J=C.initiatorType;Q&&NE(J)&&(C=C.responseEnd,_+=Q*(C<A?1:(A-B)/(C-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var cg=null,hg=null;function Lh(n){return n.nodeType===9?n:n.ownerDocument}function VE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function fg(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dg=null;function rw(){var n=window.event;return n&&n.type==="popstate"?n===dg?!1:(dg=n,!0):(dg=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(n){return PE.resolve(null).then(n).catch(ow)}:ME;function ow(n){setTimeout(function(){throw n})}function Wr(n){return n==="head"}function kE(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,fu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&fu(n.ownerDocument.body);a=f}while(a);So(i)}function LE(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function mg(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mg(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function lw(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[yi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function uw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function UE(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Kn(n.nextSibling),n===null))return null;return n}function gg(n){return n.data==="$?"||n.data==="$~"}function pg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function cw(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Kn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var yg=null;function zE(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function BE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function jE(n,i,a){switch(i=Lh(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function fu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ua(n)}var Qn=new Map,qE=new Set;function Uh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var lr=se.d;se.d={f:hw,r:fw,D:dw,C:mw,L:gw,m:pw,X:_w,S:yw,M:vw};function hw(){var n=lr.f(),i=Dh();return n||i}function fw(n){var i=kn(n);i!==null&&i.tag===5&&i.type==="form"?sv(i):lr.r(n)}var Eo=typeof document>"u"?null:document;function FE(n,i,a){var l=Eo;if(l&&typeof i=="string"&&i){var f=fn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qE.has(f)||(qE.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Wt(i,"link",n),Ct(i),l.head.appendChild(i)))}}function dw(n){lr.D(n),FE("dns-prefetch",n,null)}function mw(n,i){lr.C(n,i),FE("preconnect",n,i)}function gw(n,i,a){lr.L(n,i,a);var l=Eo;if(l&&n&&i){var f='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(i){case"style":d=To(n);break;case"script":d=Ao(n)}Qn.has(d)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Qn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(du(d))||i==="script"&&l.querySelector(mu(d))||(i=l.createElement("link"),Wt(i,"link",n),Ct(i),l.head.appendChild(i)))}}function pw(n,i){lr.m(n,i);var a=Eo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(n)}if(!Qn.has(d)&&(n=T({rel:"modulepreload",href:n},i),Qn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mu(d)))return}l=a.createElement("link"),Wt(l,"link",n),Ct(l),a.head.appendChild(l)}}}function yw(n,i,a){lr.S(n,i,a);var l=Eo;if(l&&n){var f=vi(l).hoistableStyles,d=To(n);i=i||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(du(d)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Qn.get(d))&&_g(n,a);var C=_=l.createElement("link");Ct(C),Wt(C,"link",n),C._p=new Promise(function(B,Q){C.onload=B,C.onerror=Q}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function _w(n,i){lr.X(n,i);var a=Eo;if(a&&n){var l=vi(a).hoistableScripts,f=Ao(n),d=l.get(f);d||(d=a.querySelector(mu(f)),d||(n=T({src:n,async:!0},i),(i=Qn.get(f))&&vg(n,i),d=a.createElement("script"),Ct(d),Wt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function vw(n,i){lr.M(n,i);var a=Eo;if(a&&n){var l=vi(a).hoistableScripts,f=Ao(n),d=l.get(f);d||(d=a.querySelector(mu(f)),d||(n=T({src:n,async:!0,type:"module"},i),(i=Qn.get(f))&&vg(n,i),d=a.createElement("script"),Ct(d),Wt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HE(n,i,a,l){var f=(f=Ce.current)?Uh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=To(a.href);var d=vi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(du(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),d||Ew(f,n,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ao(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function To(n){return'href="'+fn(n)+'"'}function du(n){return'link[rel="stylesheet"]['+n+"]"}function GE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function Ew(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Wt(i,"link",a),Ct(i),n.head.appendChild(i))}function Ao(n){return'[src="'+fn(n)+'"]'}function mu(n){return"script[async]"+n}function KE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ct(l),Wt(l,"style",f),zh(l,a.precedence,n),i.instance=l;case"stylesheet":f=To(a.href);var d=n.querySelector(du(f));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=GE(a),(f=Qn.get(f))&&_g(l,f),d=(n.ownerDocument||n).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Wt(d,"link",l),i.state.loading|=4,zh(d,a.precedence,n),i.instance=d;case"script":return d=Ao(a.src),(f=n.querySelector(mu(d)))?(i.instance=f,Ct(f),f):(l=a,(f=Qn.get(d))&&(l=T({},a),vg(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ct(f),Wt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zh(l,a.precedence,n));return i.instance}function zh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function _g(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function vg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bh=null;function QE(n,i,a){if(Bh===null){var l=new Map,f=Bh=new Map;f.set(a,l)}else f=Bh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Rt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function YE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Tw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function XE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Aw(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=To(l.href),d=i.querySelector(du(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=jh.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=GE(l),(f=Qn.get(f))&&_g(l,f),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Wt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=jh.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Eg=0;function Sw(n,i){return n.stylesheets&&n.count===0&&Fh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Fh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&Eg===0&&(Eg=62500*iw());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Fh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Eg?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qh=null;function Fh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qh=new Map,i.forEach(bw,n),qh=null,jh.call(n))}function bw(n,i){if(!(i.state.loading&4)){var a=qh.get(n);if(a)var l=a.get(null);else{a=new Map,qh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=jh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var gu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Iw(n,i,a,l,f,d,_,A,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function $E(n,i,a,l,f,d,_,A,C,B,Q,J){return n=new Iw(n,i,a,_,C,B,Q,J,A),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),n.current=d,d.stateNode=n,i=Zd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},im(d),n}function JE(n){return n?(n=Wa,n):Wa}function WE(n,i,a,l,f,d){f=JE(f),l.context===null?l.context=f:l.pendingContext=f,l=jr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qr(n,l,i),a!==null&&(_n(a,n,i),Ql(a,n,i))}function ZE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Tg(n,i){ZE(n,i),(n=n.alternate)&&ZE(n,i)}function eT(n){if(n.tag===13||n.tag===31){var i=Ys(n,67108864);i!==null&&_n(i,n,67108864),Tg(n,67108864)}}function tT(n){if(n.tag===13||n.tag===31){var i=Dn();i=ks(i);var a=Ys(n,i);a!==null&&_n(a,n,i),Tg(n,i)}}var Hh=!0;function ww(n,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,Ag(n,i,a,l)}finally{se.p=d,X.T=f}}function Rw(n,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,Ag(n,i,a,l)}finally{se.p=d,X.T=f}}function Ag(n,i,a,l){if(Hh){var f=Sg(l);if(f===null)lg(n,i,l,Gh,a),iT(n,l);else if(Dw(f,n,i,a,l))l.stopPropagation();else if(iT(n,l),i&4&&-1<Cw.indexOf(n)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var C=1<<31-yt(_);A.entanglements[1]|=C,_&=~C}Vi(d),(Ge&6)===0&&(Rh=ln()+500,uu(0))}}break;case 31:case 13:A=Ys(d,2),A!==null&&_n(A,d,2),Dh(),Tg(d,2)}if(d=Sg(l),d===null&&lg(n,i,l,Gh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lg(n,i,l,null,a)}}function Sg(n){return n=Ln(n),bg(n)}var Gh=null;function bg(n){if(Gh=null,n=_i(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gh=n,null}function nT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case _l:return 2;case vl:return 8;case wr:case xd:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var Ig=!1,Zr=null,es=null,ts=null,pu=new Map,yu=new Map,ns=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(n,i){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":pu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(i.pointerId)}}function _u(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&eT(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Dw(n,i,a,l,f){switch(i){case"focusin":return Zr=_u(Zr,n,i,a,l,f),!0;case"dragenter":return es=_u(es,n,i,a,l,f),!0;case"mouseover":return ts=_u(ts,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return pu.set(d,_u(pu.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,yu.set(d,_u(yu.get(d)||null,n,i,a,l,f)),!0}return!1}function rT(n){var i=_i(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Jn(n.priority,function(){tT(a)});return}}else if(i===31){if(i=m(a),i!==null){n.blockedOn=i,Jn(n.priority,function(){tT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Sg(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return i=kn(a),i!==null&&eT(i),n.blockedOn=a,!1;i.shift()}return!0}function sT(n,i,a){Kh(n)&&a.delete(i)}function xw(){Ig=!1,Zr!==null&&Kh(Zr)&&(Zr=null),es!==null&&Kh(es)&&(es=null),ts!==null&&Kh(ts)&&(ts=null),pu.forEach(sT),yu.forEach(sT)}function Qh(n,i){n.blockedOn===i&&(n.blockedOn=null,Ig||(Ig=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xw)))}var Yh=null;function aT(n){Yh!==n&&(Yh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Yh===n&&(Yh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(bg(l||a)===null)continue;break}var d=kn(a);d!==null&&(n.splice(i,3),i-=3,Sm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function So(n){function i(C){return Qh(C,n)}Zr!==null&&Qh(Zr,n),es!==null&&Qh(es,n),ts!==null&&Qh(ts,n),pu.forEach(i),yu.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)rT(a),a.blockedOn===null&&ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[qt]||null;if(typeof d=="function")_||aT(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[qt]||null)A=_.formAction;else if(bg(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),aT(a)}}}function oT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function wg(n){this._internalRoot=n}Xh.prototype.render=wg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Dn();WE(a,l,n,i,null,null)},Xh.prototype.unmount=wg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;WE(n.current,2,null,n,null,null),Dh(),i[pi]=null}};function Xh(n){this._internalRoot=n}Xh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,n),a===0&&rT(n)}};var lT=e.version;if(lT!=="19.2.3")throw Error(r(527,lT,"19.2.3"));se.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(i),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var Nw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Xn=$h.inject(Nw),Qt=$h}catch{}}return Eu.createRoot=function(n,i){if(!o(n))throw Error(r(299));var a=!1,l="",f=gv,d=pv,_=yv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$E(n,1,!1,null,null,a,l,null,f,d,_,oT),n[pi]=i.current,og(n),new wg(i)},Eu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=gv,_=pv,A=yv,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=$E(n,1,!0,i,a??null,l,f,C,d,_,A,oT),i.context=JE(null),a=i.current,l=Dn(),l=ks(l),f=jr(l),f.callback=null,qr(a,f,l),a=l,i.current.lanes=a,Ms(i,a),Vi(i),n[pi]=i.current,og(n),new Xh(i)},Eu.version="19.2.3",Eu}var _T;function qw(){if(_T)return Dg.exports;_T=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Dg.exports=jw(),Dg.exports}var Fw=qw();const Hw="modulepreload",Gw=function(s,e){return new URL(s,e).href},vT={},Jf=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let p=function(E){return Promise.all(E.map(T=>Promise.resolve(T).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const c=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=p(t.map(E=>{if(E=Gw(E,r),E in vT)return;vT[E]=!0;const T=E.endsWith(".css"),b=T?'[rel="stylesheet"]':"";if(r)for(let G=c.length-1;G>=0;G--){const K=c[G];if(K.href===E&&(!T||K.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${E}"]${b}`))return;const M=document.createElement("link");if(M.rel=T?"stylesheet":Hw,T||(M.as="script"),M.crossOrigin="",M.href=E,g&&M.setAttribute("nonce",g),document.head.appendChild(M),T)return new Promise((G,K)=>{M.addEventListener("load",G),M.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};const Kw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),ET=s=>{const e=Qw(s);return e.charAt(0).toUpperCase()+e.slice(1)},bA=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Yw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Xw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $w=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},g)=>xe.createElement("svg",{ref:g,...Xw,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:bA("lucide",o),...!u&&!Yw(m)&&{"aria-hidden":"true"},...m},[...c.map(([p,E])=>xe.createElement(p,E)),...Array.isArray(u)?u:[u]]));const bt=(s,e)=>{const t=xe.forwardRef(({className:r,...o},u)=>xe.createElement($w,{ref:u,iconNode:e,className:bA(`lucide-${Kw(ET(s))}`,`lucide-${s}`,r),...o}));return t.displayName=ET(s),t};const Jw=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Ww=bt("chef-hat",Jw);const Zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eR=bt("circle-alert",Zw);const tR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nR=bt("circle-check-big",tR);const iR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rR=bt("download",iR);const sR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aR=bt("eye-off",sR);const oR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lR=bt("eye",oR);const uR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cR=bt("info",uR);const hR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xg=bt("loader-circle",hR);const fR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],dR=bt("log-in",fR);const mR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IA=bt("log-out",mR);const gR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pR=bt("mail",gR);const yR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_R=bt("moon",yR);const vR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],TT=bt("package",vR);const ER=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],TR=bt("plus",ER);const AR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],SR=bt("refresh-cw",AR);const bR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AT=bt("settings",bR);const IR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ST=bt("shopping-cart",IR);const wR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RR=bt("sun",wR);const CR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DR=bt("trash-2",CR);const xR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NR=bt("user-plus",xR);const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OR=bt("x",VR),MR=()=>{};var bT={};const wA=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},PR=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const o=s[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[t++],c=s[t++],m=s[t++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[t++],c=s[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},RA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,M=p&63;g||(M=64,c||(b=64)),r.push(t[E],t[T],t[b],t[M])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(wA(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):PR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=t[s.charAt(o++)],m=o<s.length?t[s.charAt(o)]:0;++o;const p=o<s.length?t[s.charAt(o)]:64;++o;const T=o<s.length?t[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new kR;const b=u<<2|m>>4;if(r.push(b),p!==64){const M=m<<4&240|p>>2;if(r.push(M),T!==64){const G=p<<6&192|T;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(s){const e=wA(s);return RA.encodeByteArray(e,!0)},CA=function(s){return LR(s).replace(/\./g,"")},DA=function(s){try{return RA.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UR=()=>xA().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof bT>"u")return;const s=bT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&DA(s[1]);return e&&JSON.parse(e)},Wf=()=>{try{return MR()||UR()||zR()||BR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jR=s=>Wf()?.emulatorHosts?.[s],NA=()=>Wf()?.config,VA=s=>Wf()?.[`_${s}`];class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OA(s){return(await fetch(s,{credentials:"include"})).ok}const Ou={};function FR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?s.emulator.push(e):s.prod.push(e);return s}function HR(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let IT=!1;function GR(s,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Ou[s]===e||Ou[s]||IT)return;Ou[s]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=FR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{IT=!0,c()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=HR(r),M=t("text"),G=document.getElementById(M)||document.createElement("span"),K=t("learnmore"),Z=document.getElementById(K)||document.createElement("a"),fe=t("preprendIcon"),oe=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;m(ie),E(Z,K);const _e=p();g(oe,fe),ie.append(oe,G,Z,_e),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function MA(){const s=Wf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const s=Bt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function PA(){return!MA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){return!MA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function JR(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const WR="FirebaseError";class _r extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?ZR(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new _r(o,m,r)}}function ZR(s,e){return s.replace(e2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const e2=/\{\$([^}]+)}/g;function t2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Aa(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=s[o],c=e[o];if(wT(u)&&wT(c)){if(!Aa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function wT(s){return s!==null&&typeof s=="object"}function uc(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ru(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function n2(s,e){const t=new i2(s,e);return t.subscribe.bind(t)}class i2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");r2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Og),o.error===void 0&&(o.error=Og),o.complete===void 0&&(o.complete=Og);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r2(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Og(){}function Kt(s){return s&&s._delegate?s._delegate:s}class Sa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class s2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o2(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a2(s){return s===la?void 0:s}function o2(s){return s.instantiationMode==="EAGER"}class l2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const u2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},c2=ke.INFO,h2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},f2=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=h2[e];if(o)console[o](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=c2,this._logHandler=f2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const d2=(s,e)=>e.some(t=>s instanceof t);let RT,CT;function m2(){return RT||(RT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return CT||(CT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,$g=new WeakMap,zA=new WeakMap,Mg=new WeakMap,Pp=new WeakMap;function p2(s){const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{t(gs(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&UA.set(t,s)}).catch(()=>{}),Pp.set(e,s),e}function y2(s){if($g.has(s))return;const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});$g.set(s,e)}let Jg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return $g.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zA.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _2(s){Jg=s(Jg)}function v2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(Pg(this),e,...t);return zA.set(r,e.sort?e.sort():[e]),gs(r)}:g2().includes(s)?function(...e){return s.apply(Pg(this),e),gs(UA.get(this))}:function(...e){return gs(s.apply(Pg(this),e))}}function E2(s){return typeof s=="function"?v2(s):(s instanceof IDBTransaction&&y2(s),d2(s,m2())?new Proxy(s,Jg):s)}function gs(s){if(s instanceof IDBRequest)return p2(s);if(Mg.has(s))return Mg.get(s);const e=E2(s);return e!==s&&(Mg.set(s,e),Pp.set(e,s)),e}const Pg=s=>Pp.get(s);function T2(s,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,e),m=gs(c);return r&&c.addEventListener("upgradeneeded",g=>{r(gs(c.result),g.oldVersion,g.newVersion,gs(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const A2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],kg=new Map;function DT(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=S2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||A2.includes(t)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return kg.set(e,u),u}_2(s=>({...s,get:(e,t,r)=>DT(e,t)||s.get(e,t,r),has:(e,t)=>!!DT(e,t)||s.has(e,t)}));class b2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I2(s){return s.getComponent()?.type==="VERSION"}const Wg="@firebase/app",xT="0.14.6";const dr=new Mp("@firebase/app"),w2="@firebase/app-compat",R2="@firebase/analytics-compat",C2="@firebase/analytics",D2="@firebase/app-check-compat",x2="@firebase/app-check",N2="@firebase/auth",V2="@firebase/auth-compat",O2="@firebase/database",M2="@firebase/data-connect",P2="@firebase/database-compat",k2="@firebase/functions",L2="@firebase/functions-compat",U2="@firebase/installations",z2="@firebase/installations-compat",B2="@firebase/messaging",j2="@firebase/messaging-compat",q2="@firebase/performance",F2="@firebase/performance-compat",H2="@firebase/remote-config",G2="@firebase/remote-config-compat",K2="@firebase/storage",Q2="@firebase/storage-compat",Y2="@firebase/firestore",X2="@firebase/ai",$2="@firebase/firestore-compat",J2="firebase",W2="12.6.0";const Zg="[DEFAULT]",Z2={[Wg]:"fire-core",[w2]:"fire-core-compat",[C2]:"fire-analytics",[R2]:"fire-analytics-compat",[x2]:"fire-app-check",[D2]:"fire-app-check-compat",[N2]:"fire-auth",[V2]:"fire-auth-compat",[O2]:"fire-rtdb",[M2]:"fire-data-connect",[P2]:"fire-rtdb-compat",[k2]:"fire-fn",[L2]:"fire-fn-compat",[U2]:"fire-iid",[z2]:"fire-iid-compat",[B2]:"fire-fcm",[j2]:"fire-fcm-compat",[q2]:"fire-perf",[F2]:"fire-perf-compat",[H2]:"fire-rc",[G2]:"fire-rc-compat",[K2]:"fire-gcs",[Q2]:"fire-gcs-compat",[Y2]:"fire-fst",[$2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};const bf=new Map,eC=new Map,ep=new Map;function NT(s,e){try{s.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Bo(s){const e=s.name;if(ep.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,s);for(const t of bf.values())NT(t,s);for(const t of eC.values())NT(t,s);return!0}function kp(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Nn(s){return s==null?!1:s.settings!==void 0}const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new lc("app","Firebase",tC);class nC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const ol=W2;function BA(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r={name:Zg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(t||(t=NA()),!t)throw ps.create("no-options");const u=bf.get(o);if(u){if(Aa(t,u.options)&&Aa(r,u.config))return u;throw ps.create("duplicate-app",{appName:o})}const c=new l2(o);for(const g of ep.values())c.addComponent(g);const m=new nC(t,r,c);return bf.set(o,m),m}function iC(s=Zg){const e=bf.get(s);if(!e&&s===Zg&&NA())return BA();if(!e)throw ps.create("no-app",{appName:s});return e}function ys(s,e,t){let r=Z2[s]??s;t&&(r+=`-${t}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(c.join(" "));return}Bo(new Sa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const rC="firebase-heartbeat-database",sC=1,Gu="firebase-heartbeat-store";let Lg=null;function jA(){return Lg||(Lg=T2(rC,sC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(s=>{throw ps.create("idb-open",{originalErrorMessage:s.message})})),Lg}async function aC(s){try{const t=(await jA()).transaction(Gu),r=await t.objectStore(Gu).get(qA(s));return await t.done,r}catch(e){if(e instanceof _r)dr.warn(e.message);else{const t=ps.create("idb-get",{originalErrorMessage:e?.message});dr.warn(t.message)}}}async function VT(s,e){try{const r=(await jA()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,qA(s)),await r.done}catch(t){if(t instanceof _r)dr.warn(t.message);else{const r=ps.create("idb-set",{originalErrorMessage:t?.message});dr.warn(r.message)}}}function qA(s){return`${s.name}!${s.options.appId}`}const oC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>lC){const o=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OT(),{heartbeatsToSend:t,unsentEntries:r}=cC(this._heartbeatsCache.heartbeats),o=CA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function OT(){return new Date().toISOString().substring(0,10)}function cC(s,e=oC){const t=[];let r=s.slice();for(const o of s){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),MT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),MT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?JR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MT(s){return CA(JSON.stringify({version:2,heartbeats:s})).length}function fC(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}function dC(s){Bo(new Sa("platform-logger",e=>new b2(e),"PRIVATE")),Bo(new Sa("heartbeat",e=>new uC(e),"PRIVATE")),ys(Wg,xT,s),ys(Wg,xT,"esm2020"),ys("fire-js","")}dC("");var mC="firebase",gC="12.7.0";ys(mC,gC,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,FA;(function(){var s;function e(w,I){function D(){}D.prototype=I.prototype,w.F=I.prototype,w.prototype=new D,w.prototype.constructor=w,w.D=function(O,N,k){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return I.prototype[N].apply(O,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,I,D){D||(D=0);const O=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)O[N]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(N=0;N<16;++N)O[N]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=w.g[0],D=w.g[1],N=w.g[2];let k=w.g[3],R;R=I+(k^D&(N^k))+O[0]+3614090360&4294967295,I=D+(R<<7&4294967295|R>>>25),R=k+(N^I&(D^N))+O[1]+3905402710&4294967295,k=I+(R<<12&4294967295|R>>>20),R=N+(D^k&(I^D))+O[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=D+(I^N&(k^I))+O[3]+3250441966&4294967295,D=N+(R<<22&4294967295|R>>>10),R=I+(k^D&(N^k))+O[4]+4118548399&4294967295,I=D+(R<<7&4294967295|R>>>25),R=k+(N^I&(D^N))+O[5]+1200080426&4294967295,k=I+(R<<12&4294967295|R>>>20),R=N+(D^k&(I^D))+O[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=D+(I^N&(k^I))+O[7]+4249261313&4294967295,D=N+(R<<22&4294967295|R>>>10),R=I+(k^D&(N^k))+O[8]+1770035416&4294967295,I=D+(R<<7&4294967295|R>>>25),R=k+(N^I&(D^N))+O[9]+2336552879&4294967295,k=I+(R<<12&4294967295|R>>>20),R=N+(D^k&(I^D))+O[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=D+(I^N&(k^I))+O[11]+2304563134&4294967295,D=N+(R<<22&4294967295|R>>>10),R=I+(k^D&(N^k))+O[12]+1804603682&4294967295,I=D+(R<<7&4294967295|R>>>25),R=k+(N^I&(D^N))+O[13]+4254626195&4294967295,k=I+(R<<12&4294967295|R>>>20),R=N+(D^k&(I^D))+O[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=D+(I^N&(k^I))+O[15]+1236535329&4294967295,D=N+(R<<22&4294967295|R>>>10),R=I+(N^k&(D^N))+O[1]+4129170786&4294967295,I=D+(R<<5&4294967295|R>>>27),R=k+(D^N&(I^D))+O[6]+3225465664&4294967295,k=I+(R<<9&4294967295|R>>>23),R=N+(I^D&(k^I))+O[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=D+(k^I&(N^k))+O[0]+3921069994&4294967295,D=N+(R<<20&4294967295|R>>>12),R=I+(N^k&(D^N))+O[5]+3593408605&4294967295,I=D+(R<<5&4294967295|R>>>27),R=k+(D^N&(I^D))+O[10]+38016083&4294967295,k=I+(R<<9&4294967295|R>>>23),R=N+(I^D&(k^I))+O[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=D+(k^I&(N^k))+O[4]+3889429448&4294967295,D=N+(R<<20&4294967295|R>>>12),R=I+(N^k&(D^N))+O[9]+568446438&4294967295,I=D+(R<<5&4294967295|R>>>27),R=k+(D^N&(I^D))+O[14]+3275163606&4294967295,k=I+(R<<9&4294967295|R>>>23),R=N+(I^D&(k^I))+O[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=D+(k^I&(N^k))+O[8]+1163531501&4294967295,D=N+(R<<20&4294967295|R>>>12),R=I+(N^k&(D^N))+O[13]+2850285829&4294967295,I=D+(R<<5&4294967295|R>>>27),R=k+(D^N&(I^D))+O[2]+4243563512&4294967295,k=I+(R<<9&4294967295|R>>>23),R=N+(I^D&(k^I))+O[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=D+(k^I&(N^k))+O[12]+2368359562&4294967295,D=N+(R<<20&4294967295|R>>>12),R=I+(D^N^k)+O[5]+4294588738&4294967295,I=D+(R<<4&4294967295|R>>>28),R=k+(I^D^N)+O[8]+2272392833&4294967295,k=I+(R<<11&4294967295|R>>>21),R=N+(k^I^D)+O[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=D+(N^k^I)+O[14]+4259657740&4294967295,D=N+(R<<23&4294967295|R>>>9),R=I+(D^N^k)+O[1]+2763975236&4294967295,I=D+(R<<4&4294967295|R>>>28),R=k+(I^D^N)+O[4]+1272893353&4294967295,k=I+(R<<11&4294967295|R>>>21),R=N+(k^I^D)+O[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=D+(N^k^I)+O[10]+3200236656&4294967295,D=N+(R<<23&4294967295|R>>>9),R=I+(D^N^k)+O[13]+681279174&4294967295,I=D+(R<<4&4294967295|R>>>28),R=k+(I^D^N)+O[0]+3936430074&4294967295,k=I+(R<<11&4294967295|R>>>21),R=N+(k^I^D)+O[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=D+(N^k^I)+O[6]+76029189&4294967295,D=N+(R<<23&4294967295|R>>>9),R=I+(D^N^k)+O[9]+3654602809&4294967295,I=D+(R<<4&4294967295|R>>>28),R=k+(I^D^N)+O[12]+3873151461&4294967295,k=I+(R<<11&4294967295|R>>>21),R=N+(k^I^D)+O[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=D+(N^k^I)+O[2]+3299628645&4294967295,D=N+(R<<23&4294967295|R>>>9),R=I+(N^(D|~k))+O[0]+4096336452&4294967295,I=D+(R<<6&4294967295|R>>>26),R=k+(D^(I|~N))+O[7]+1126891415&4294967295,k=I+(R<<10&4294967295|R>>>22),R=N+(I^(k|~D))+O[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=D+(k^(N|~I))+O[5]+4237533241&4294967295,D=N+(R<<21&4294967295|R>>>11),R=I+(N^(D|~k))+O[12]+1700485571&4294967295,I=D+(R<<6&4294967295|R>>>26),R=k+(D^(I|~N))+O[3]+2399980690&4294967295,k=I+(R<<10&4294967295|R>>>22),R=N+(I^(k|~D))+O[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=D+(k^(N|~I))+O[1]+2240044497&4294967295,D=N+(R<<21&4294967295|R>>>11),R=I+(N^(D|~k))+O[8]+1873313359&4294967295,I=D+(R<<6&4294967295|R>>>26),R=k+(D^(I|~N))+O[15]+4264355552&4294967295,k=I+(R<<10&4294967295|R>>>22),R=N+(I^(k|~D))+O[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=D+(k^(N|~I))+O[13]+1309151649&4294967295,D=N+(R<<21&4294967295|R>>>11),R=I+(N^(D|~k))+O[4]+4149444226&4294967295,I=D+(R<<6&4294967295|R>>>26),R=k+(D^(I|~N))+O[11]+3174756917&4294967295,k=I+(R<<10&4294967295|R>>>22),R=N+(I^(k|~D))+O[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=D+(k^(N|~I))+O[9]+3951481745&4294967295,w.g[0]=w.g[0]+I&4294967295,w.g[1]=w.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.v=function(w,I){I===void 0&&(I=w.length);const D=I-this.blockSize,O=this.C;let N=this.h,k=0;for(;k<I;){if(N==0)for(;k<=D;)o(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<I;)if(O[N++]=w.charCodeAt(k++),N==this.blockSize){o(this,O),N=0;break}}else for(;k<I;)if(O[N++]=w[k++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=I},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var I=1;I<w.length-8;++I)w[I]=0;I=this.o*8;for(var D=w.length-8;D<w.length;++D)w[D]=I&255,I/=256;for(this.v(w),w=Array(16),I=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)w[I++]=this.g[D]>>>O&255;return w};function u(w,I){var D=m;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=I(w)}function c(w,I){this.h=I;const D=[];let O=!0;for(let N=w.length-1;N>=0;N--){const k=w[N]|0;O&&k==I||(D[N]=k,O=!1)}this.g=D}var m={};function g(w){return-128<=w&&w<128?u(w,function(I){return new c([I|0],I<0?-1:0)}):new c([w|0],w<0?-1:0)}function p(w){if(isNaN(w)||!isFinite(w))return T;if(w<0)return Z(p(-w));const I=[];let D=1;for(let O=0;w>=D;O++)I[O]=w/D|0,D*=4294967296;return new c(I,0)}function E(w,I){if(w.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(w.charAt(0)=="-")return Z(E(w.substring(1),I));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(I,8));let O=T;for(let k=0;k<w.length;k+=8){var N=Math.min(8,w.length-k);const R=parseInt(w.substring(k,k+N),I);N<8?(N=p(Math.pow(I,N)),O=O.j(N).add(p(R))):(O=O.j(D),O=O.add(p(R)))}return O}var T=g(0),b=g(1),M=g(16777216);s=c.prototype,s.m=function(){if(K(this))return-Z(this).m();let w=0,I=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);w+=(O>=0?O:4294967296+O)*I,I*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(G(this))return"0";if(K(this))return"-"+Z(this).toString(w);const I=p(Math.pow(w,6));var D=this;let O="";for(;;){const N=_e(D,I).g;D=fe(D,N.j(I));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(w);if(D=N,G(D))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function G(w){if(w.h!=0)return!1;for(let I=0;I<w.g.length;I++)if(w.g[I]!=0)return!1;return!0}function K(w){return w.h==-1}s.l=function(w){return w=fe(this,w),K(w)?-1:G(w)?0:1};function Z(w){const I=w.g.length,D=[];for(let O=0;O<I;O++)D[O]=~w.g[O];return new c(D,~w.h).add(b)}s.abs=function(){return K(this)?Z(this):this},s.add=function(w){const I=Math.max(this.g.length,w.g.length),D=[];let O=0;for(let N=0;N<=I;N++){let k=O+(this.i(N)&65535)+(w.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);O=R>>>16,k&=65535,R&=65535,D[N]=R<<16|k}return new c(D,D[D.length-1]&-2147483648?-1:0)};function fe(w,I){return w.add(Z(I))}s.j=function(w){if(G(this)||G(w))return T;if(K(this))return K(w)?Z(this).j(Z(w)):Z(Z(this).j(w));if(K(w))return Z(this.j(Z(w)));if(this.l(M)<0&&w.l(M)<0)return p(this.m()*w.m());const I=this.g.length+w.g.length,D=[];for(var O=0;O<2*I;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<w.g.length;N++){const k=this.i(O)>>>16,R=this.i(O)&65535,lt=w.i(N)>>>16,kt=w.i(N)&65535;D[2*O+2*N]+=R*kt,oe(D,2*O+2*N),D[2*O+2*N+1]+=k*kt,oe(D,2*O+2*N+1),D[2*O+2*N+1]+=R*lt,oe(D,2*O+2*N+1),D[2*O+2*N+2]+=k*lt,oe(D,2*O+2*N+2)}for(w=0;w<I;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=I;w<2*I;w++)D[w]=0;return new c(D,0)};function oe(w,I){for(;(w[I]&65535)!=w[I];)w[I+1]+=w[I]>>>16,w[I]&=65535,I++}function ie(w,I){this.g=w,this.h=I}function _e(w,I){if(G(I))throw Error("division by zero");if(G(w))return new ie(T,T);if(K(w))return I=_e(Z(w),I),new ie(Z(I.g),Z(I.h));if(K(I))return I=_e(w,Z(I)),new ie(Z(I.g),I.h);if(w.g.length>30){if(K(w)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var D=b,O=I;O.l(w)<=0;)D=Ie(D),O=Ie(O);var N=Ee(D,1),k=Ee(O,1);for(O=Ee(O,2),D=Ee(D,2);!G(O);){var R=k.add(O);R.l(w)<=0&&(N=N.add(D),k=R),O=Ee(O,1),D=Ee(D,1)}return I=fe(w,N.j(I)),new ie(N,I)}for(N=T;w.l(I)>=0;){for(D=Math.max(1,Math.floor(w.m()/I.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=p(D),R=k.j(I);K(R)||R.l(w)>0;)D-=O,k=p(D),R=k.j(I);G(k)&&(k=b),N=N.add(k),w=fe(w,R)}return new ie(N,w)}s.B=function(w){return _e(this,w).h},s.and=function(w){const I=Math.max(this.g.length,w.g.length),D=[];for(let O=0;O<I;O++)D[O]=this.i(O)&w.i(O);return new c(D,this.h&w.h)},s.or=function(w){const I=Math.max(this.g.length,w.g.length),D=[];for(let O=0;O<I;O++)D[O]=this.i(O)|w.i(O);return new c(D,this.h|w.h)},s.xor=function(w){const I=Math.max(this.g.length,w.g.length),D=[];for(let O=0;O<I;O++)D[O]=this.i(O)^w.i(O);return new c(D,this.h^w.h)};function Ie(w){const I=w.g.length+1,D=[];for(let O=0;O<I;O++)D[O]=w.i(O)<<1|w.i(O-1)>>>31;return new c(D,w.h)}function Ee(w,I){const D=I>>5;I%=32;const O=w.g.length-D,N=[];for(let k=0;k<O;k++)N[k]=I>0?w.i(k+D)>>>I|w.i(k+D+1)<<32-I:w.i(k+D);return new c(N,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=E,_s=c}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HA,Cu,GA,of,tp,KA,QA,YA;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var v=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in v))break e;v=v[U]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,v){return h.call.apply(h.bind,arguments)}function p(h,y,v){return p=g,p.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,U,F){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return y.prototype[U].apply(S,ne)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function G(h,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const F=U.length||0;h.length=v+F;for(let ne=0;ne<F;ne++)h[v+ne]=U[ne]}else h.push(U)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(h){c.setTimeout(()=>{throw h},0)}function fe(){var h=w;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new _e,h=>h.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Ee=!1,w=new oe,I=()=>{const h=Promise.resolve(void 0);Ie=()=>{h.then(D)}};function D(){for(var h;h=fe();){try{h.h.call(h.g)}catch(v){Z(v)}var y=ie;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Ee=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function lt(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(lt,N),lt.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(h,y,v,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=U,this.key=++X,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function Qe(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function V(h){const y={};for(const v in h)y[v]=h[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)h[v]=S[v];for(let F=0;F<W.length;F++)v=W[F],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,y,v,S,U){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const ne=Ce(h,y,S,U);return ne>-1?(y=h[ne],v||(y.fa=!1)):(y=new se(y,this.src,F,!!S,U),y.fa=v,h.push(y)),y};function Ae(h,y){const v=y.type;if(v in h.g){var S=h.g[v],U=Array.prototype.indexOf.call(S,y,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(ye(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Ce(h,y,v,S){for(let U=0;U<h.length;++U){const F=h[U];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==S)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Lt={};function ut(h,y,v,S,U){if(Array.isArray(y)){for(let F=0;F<y.length;F++)ut(h,y[F],v,S,U);return null}return v=yl(v),h&&h[kt]?h.J(y,v,m(S)?!!S.capture:!1,U):xs(h,y,v,!1,S,U)}function xs(h,y,v,S,U,F){if(!y)throw Error("Invalid event type");const ne=m(U)?!!U.capture:!!U;let we=Ns(h);if(we||(h[ze]=we=new le(h)),v=we.add(y,v,S,ne,F),v.proxy)return v;if(S=Oa(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)k||(U=ne),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(hi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Oa(){function h(v){return y.call(h.src,h.listener,v)}const y=gl;return h}function Ma(h,y,v,S,U){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ma(h,y[F],v,S,U);else S=m(S)?!!S.capture:!!S,v=yl(v),h&&h[kt]?(h=h.i,F=String(y).toString(),F in h.g&&(y=h.g[F],v=Ce(y,v,S,U),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[F],h.h--)))):h&&(h=Ns(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ce(y,v,S,U)),(v=h>-1?y[h]:null)&&Pa(v))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[kt])Ae(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(hi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ns(y))?(Ae(v,h),v.h==0&&(v.src=null,y[ze]=null)):ye(h)}}}function hi(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function gl(h,y){if(h.da)h=!0;else{y=new lt(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&Pa(h),h=v.call(S,y)}return h}function Ns(h){return h=h[ze],h instanceof le?h:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(h){return typeof h=="function"?h:(h[pl]||(h[pl]=function(y){return h.handleEvent(y)}),h[pl])}function It(){O.call(this),this.i=new le(this),this.M=this,this.G=null}T(It,O),It.prototype[kt]=!0,It.prototype.removeEventListener=function(h,y,v,S){Ma(this,h,y,v,S)};function Ut(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var U=y;y=new N(S,h),ae(y,U)}U=!0;let F,ne;if(v)for(ne=v.length-1;ne>=0;ne--)F=y.g=v[ne],U=Ir(F,S,!0,y)&&U;if(F=y.g=h,U=Ir(F,S,!0,y)&&U,U=Ir(F,S,!1,y)&&U,v)for(ne=0;ne<v.length;ne++)F=y.g=v[ne],U=Ir(F,S,!1,y)&&U}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)ye(v[S]);delete h.g[y],h.h--}}this.G=null},It.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},It.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Ir(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let F=0;F<y.length;++F){const ne=y[F];if(ne&&!ne.da&&ne.capture==v){const we=ne.listener,_t=ne.ha||ne.src;ne.fa&&Ae(h.i,ne),U=we.call(_t,S)!==!1&&U}}return U&&!S.defaultPrevented}function Dd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ac(h){h.g=Dd(()=>{h.g=null,h.i&&(h.i=!1,Ac(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ln extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(h){O.call(this),this.h=h,this.g={}}T(Vs,O);var _l=[];function vl(h){je(h.g,function(y,v){this.g.hasOwnProperty(v)&&Pa(y)},h),h.g={}}Vs.prototype.N=function(){Vs.Z.N.call(this),vl(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=c.JSON.stringify,xd=c.JSON.parse,Sc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function bc(){}function Ic(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){N.call(this,"d")}T(Qt,N);function Pn(){N.call(this,"c")}T(Pn,N);var yt={},wc=null;function ka(){return wc=wc||new It}yt.Ia="serverreachability";function Rc(h){N.call(this,yt.Ia,h)}T(Rc,N);function fi(h){const y=ka();Ut(y,new Rc(y))}yt.STAT_EVENT="statevent";function Os(h,y){N.call(this,yt.STAT_EVENT,h),this.stat=y}T(Os,N);function wt(h){const y=ka();Ut(y,new Os(y,h))}yt.Ja="timingevent";function di(h,y){N.call(this,yt.Ja,h),this.size=y}T(di,N);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Nd(h,y,v,S,U,F){h.info(function(){if(h.g)if(F){var ne="",we=F.split("&");for(let He=0;He<we.length;He++){var _t=we[He].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const zn=ct.split("_");ne=zn.length>=2&&zn[1]=="type"?ne+(ct+"="+_t+"&"):ne+(ct+"=redacted&")}}}else ne=null;else ne=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+v+`
`+ne})}function Cc(h,y,v,S,U,F,ne){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+v+`
`+F+" "+ne})}function gi(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vd(h,v)+(S?" "+S:"")})}function Ms(h,y){h.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function Vd(h,y){if(!h.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var v=F[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return wr(F)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tl;function ks(){}T(ks,bc),ks.prototype.g=function(){return new XMLHttpRequest},Tl=new ks;function Hi(h){return encodeURIComponent(String(h))}function Dc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Jn(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new Vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function pi(h,y,v){h.M=1,h.A=Ls(Dt(y)),h.u=v,h.R=!0,La(h,null)}function La(h,y){h.F=Date.now(),yi(h),h.B=Dt(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),ja(v.i,"t",S),h.C=0,v=h.j.L,h.h=new Wn,h.g=Hc(h.j,v?y:null,!h.u),h.P>0&&(h.O=new ln(p(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(_l[0]=U.toString()),U=_l);for(let F=0;F<U.length;F++){const ne=ut(v,U[F],S||y.handleEvent,!1,y.h||y);if(!ne)break;y.g[ne.key]=ne}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),Nd(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ti(h)==3?y.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const we=ti(this.g),_t=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||we!=4||_t==7||(_t==8||He<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=Od(this);if(this.o=y==200,Cc(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break t}}F=null}if(h=F)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,h);else{this.o=!1,this.m=3,wt(12),Tn(this),kn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=Nc(this,v),ct==qt){we==4&&(this.m=4,wt(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,wt(15),gi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,ct,null),vi(this,ct);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,wt(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(ne),ne.P=!0,wt(11))}}else gi(this.i,this.l,v,null),vi(this,v);we==4&&Tn(this),this.o&&!this.K&&(we==4?Bc(this.j,this):(this.o=!1,yi(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Tn(this),kn(this)}}}catch{}};function Od(h){if(!xc(h))return h.g.la();const y=Yt(h.g);if(y==="")return"";let v="";const S=y.length,U=ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<S;F++)h.h.h=!0,v+=h.h.i.decode(y[F],{stream:!(U&&F==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function xc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Nc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?qt:(v=Number(y.substring(v,S)),isNaN(v)?Rt:(S+=1,S+v>y.length?qt:(y=y.slice(S,S+v),h.C=S+v,y)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function yi(h){h.T=Date.now()+h.H,Ua(h,h.H)}function Ua(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(p(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(fi(),wt(17)),Tn(this),this.m=2,kn(this)):Ua(this,this.T-h)};function kn(h){h.j.I==0||h.K||Bc(h.j,h)}function Tn(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,vl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function vi(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ti(v.h,h))){if(!h.L&&Ti(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ka(v),Mr(v);else break e;Hs(v),wt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(p(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((h.L||v.g==h)&&Ka(v),!R(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let He=U[y];const ct=He[0];if(!(ct<=v.K))if(v.K=ct,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const zn=He[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ci=He[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ni=He[5];ni!=null&&typeof ni=="number"&&ni>0&&(S=1.5*ni,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ii=h.g;if(ii){const Gs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var F=S.h;F.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(bl(F,F.h),F.h=null))}if(S.G){const Qa=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(S.wa=Qa,Ye(S.J,S.G,Qa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=h;if(S.na=Fc(S,S.L?S.ba:null,S.W),ne.L){Il(S.h,ne);var we=ne,_t=S.O;_t&&(we.H=_t),we.D&&(_i(we),yi(we)),S.g=ne}else Uc(S);v.i.length>0&&wi(v)}else He[0]!="stop"&&He[0]!="close"||Ri(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ri(v,7):Ml(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}fi(4)}catch{}}var Ct=class{constructor(h,y){this.g=h,this.map=y}};function Al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function bl(h,y){h.g?h.g.add(y):h.h=y}function Il(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Al.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return M(h.i)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let U,F=null;S>=0?(U=h[v].substring(0,S),F=h[v].substring(S+1)):U=h[v],y(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,Rr(this,h.u),this.h=h.h,Rl(this,kc(h.i)),this.m=h.m):h&&(y=String(h).match(Vc))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),Rr(this,y[4]),this.h=Ai(y[5]||"",!0),Rl(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Us(y,Ba,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Us(y,Ba,!0),"@"),h.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Us(v,v.charAt(0)=="/"?Cl:Oc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Us(v,Mc)),h.join("")},An.prototype.resolve=function(h){const y=Dt(this);let v=!!h.j;v?Ft(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)Rr(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ne=0;ne<U.length;){const we=U[ne++];we=="."?S&&ne==U.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&ne==U.length&&F.push("")):(F.push(we),S=!0)}S=F.join("/")}else S=U}return v?y.h=S:v=h.i.toString()!=="",v?Rl(y,kc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Dt(h){return new An(h)}function Ft(h,y,v){h.j=v?Ai(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Rr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Rl(h,y,v){y instanceof Dr?(h.i=y,qa(h.i,h.l)):(v||(y=Us(y,Cr)),h.i=new Dr(y,h.l))}function Ye(h,y,v){h.i.set(y,v)}function Ls(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ba=/[#\/\?@]/g,Oc=/[#\?:]/g,Cl=/[#\?]/g,Cr=/[#\?@]/g,Mc=/#/g;function Dr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&za(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=Dr.prototype,s.add=function(h,y){dn(this),this.i=null,h=xr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Pc(h,y){dn(h),y=xr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Dl(h,y){return dn(h),y=xr(h,y),h.g.has(y)}s.forEach=function(h,y){dn(this),this.g.forEach(function(v,S){v.forEach(function(U){h.call(y,U,S,this)},this)},this)};function xl(h,y){dn(h);let v=[];if(typeof y=="string")Dl(h,y)&&(v=v.concat(h.g.get(xr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}s.set=function(h,y){return dn(this),this.i=null,h=xr(this,h),Dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=xl(this,h),h.length>0?String(h[0]):y):y};function ja(h,y,v){Pc(h,y),v.length>0&&(h.i=null,h.g.set(xr(h,y),M(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const U=Hi(v);v=xl(this,v);for(let F=0;F<v.length;F++){let ne=U;v[F]!==""&&(ne+="="+Hi(v[F])),h.push(ne)}}return this.i=h.join("&")};function kc(h){const y=new Dr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function xr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function qa(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Pc(this,S),ja(this,U,v))},h)),h.j=y}function Zn(h,y){const v=new $n;if(c.Image){const S=new Image;S.onload=E(Ln,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Ln,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Ln,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Nl(h,y){const v=new $n,S=new AbortController,U=setTimeout(()=>{S.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,y)})}function Ln(h,y,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Nr(){this.g=new Sc}function Si(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Si,bc),Si.prototype.g=function(){return new zs(this.i,this.h)};function zs(h,y){It.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zs,It),s=zs.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Vr(this):ei(this),this.readyState==3&&Fa(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Vr(this))},s.Na=function(h){this.g&&(this.response=h,Vr(this))},s.ga=function(){this.g&&Vr(this)};function Vr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return je(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Bs(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Un(v),typeof h=="string"?v!=null&&Hi(v):Ye(h,y,v))}function et(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,It);var bi=/^https?$/i,Vl=["POST","PUT"];s=et.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(F){js(this,F);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Vl,y,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of v)this.g.setRequestHeader(F,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){js(this,F)}};function js(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Ol(h),Gi(h)}function Ol(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},s.Xa=function(){qs(this)};function qs(h){if(h.h&&typeof u<"u"){if(h.v&&ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),ti(h)==4){h.h=!1;try{const F=h.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=F===0){let ne=String(h.D).match(Vc)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),S=!bi.test(ne?ne.toLowerCase():"")}v=S}if(v)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var U=ti(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Ol(h)}}finally{Gi(h)}}}}function Gi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ut(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),xd(y)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const y={};h=(h.g&&ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(R(h[S]))continue;var v=Dc(h[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[U]||[];y[U]=F,F.push(v)}Qe(y,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Or(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new Nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Or.prototype,s.ka=8,s.I=1,s.connect=function(h,y,v,S){wt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Fc(this,null,this.W),wi(this)};function Ml(h){if(Ha(h),h.I==3){var y=h.V++,v=Dt(h.J);if(Ye(v,"SID",h.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Fs(h,v),y=new Jn(h,h.j,y),y.M=2,y.A=Ls(Dt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}qc(h)}function Mr(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function Ha(h){Mr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wi(h){if(!Sl(h.h)&&!h.m){h.m=!0;var y=h.Ea;Ie||I(),Ee||(Ie(),Ee=!0),w.add(y,h),h.D=0}}function Ga(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(p(h.Ea,h,y),jc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Jn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=V(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lc(this,U,y),v=Dt(this.J),Ye(v,"RID",h),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Fs(this,v),F&&(this.R?y="headers="+Hi(Un(F))+"&"+y:this.u&&Bs(v,this.u,F)),bl(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),U.U=!0,pi(U,v,null)):pi(U,v,y),this.I=2}}else this.I==3&&(h?Pl(this,h):this.i.length==0||Sl(this.h)||Pl(this))};function Pl(h,y){var v;y?v=y.l:v=h.V++;const S=Dt(h.J);Ye(S,"SID",h.M),Ye(S,"RID",v),Ye(S,"AID",h.K),Fs(h,S),h.u&&h.o&&Bs(S,h.u,h.o),v=new Jn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Lc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,v),pi(v,S,y)}function Fs(h,y){h.H&&je(h.H,function(v,S){Ye(y,S,v)}),h.l&&je({},function(v,S){Ye(y,S,v)})}function Lc(h,y,v){v=Math.min(h.i.length,v);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var U=h.i;let we=-1;for(;;){const _t=["count="+v];we==-1?v>0?(we=U[0].g,_t.push("ofs="+we)):we=0:_t.push("ofs="+we);let He=!0;for(let ct=0;ct<v;ct++){var F=U[ct].g;const zn=U[ct].map;if(F-=we,F<0)we=Math.max(0,U[ct].g-100),He=!1;else try{F="req"+F+"_"||"";try{var ne=zn instanceof Map?zn:Object.entries(zn);for(const[Ci,ni]of ne){let ii=ni;m(ni)&&(ii=wr(ni)),_t.push(F+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw _t.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(zn)}}if(He){ne=_t.join("&");break e}}ne=void 0}return h=h.i.splice(0,v),y.G=h,ne}function Uc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Ie||I(),Ee||(Ie(),Ee=!0),w.add(y,h),h.A=0}}function Hs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(p(h.Da,h),jc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(p(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Mr(this),zc(this))};function kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function zc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Dt(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),Fs(h,y),h.u&&h.o&&Bs(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ls(Dt(y)),v.u=null,v.R=!0,La(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Mr(this),Hs(this),wt(19))};function Ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Bc(h,y){var v=null;if(h.g==y){Ka(h),kl(h),h.g=null;var S=2}else if(Ti(h.h,y))v=y.G,Il(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;S=ka(),Ut(S,new di(S,v)),wi(h)}else Uc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&Ga(h,y)||S==2&&Hs(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),U){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function jc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var v=p(h.bb,h),S=h.Ua;const U=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(S,"https"),Ls(S),U?Zn(S.toString(),v):Nl(S.toString(),v)}else wt(2);h.I=0,h.l&&h.l.pa(y),qc(h),Ha(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function qc(h){if(h.I=0,h.ja=[],h.l){const y=wl(h.h);(y.length!=0||h.i.length!=0)&&(G(h.ja,y),G(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Fc(h,y,v){var S=v instanceof An?Dt(v):new An(v);if(S.g!="")y&&(S.g=y+"."+S.g),Rr(S,S.u);else{var U=c.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const F=new An(null);S&&Ft(F,S),y&&(F.g=y),U&&Rr(F,U),v&&(F.h=v),S=F}return v=h.G,y=h.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",h.ka),Fs(h,S),S}function Hc(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new et(new Si({ab:v})):new et(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}s=Gc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Pr(){}Pr.prototype.g=function(h,y){return new un(h,y)};function un(h,y){It.call(this),this.g=new Or(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Qi(this)}T(un,It),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ml(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=wr(h),h=v);y.i.push(new Ct(y.Ya++,h)),y.I==3&&wi(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,un.Z.N.call(this)};function Kc(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Kc,Qt);function Qc(){Pn.call(this),this.status=1}T(Qc,Pn);function Qi(h){this.g=h}T(Qi,Gc),Qi.prototype.ra=function(){Ut(this.g,"a")},Qi.prototype.qa=function(h){Ut(this.g,new Kc(h))},Qi.prototype.pa=function(h){Ut(this.g,new Qc)},Qi.prototype.oa=function(){Ut(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,YA=function(){return new Pr},QA=function(){return ka()},KA=yt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,of=Ps,El.COMPLETE="complete",GA=El,Ic.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",It.prototype.listen=It.prototype.J,Cu=Ic,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,HA=et}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",LT="4.9.3";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let ll="12.7.0";const ba=new Mp("@firebase/firestore");function xo(){return ba.logLevel}function ee(s,...e){if(ba.logLevel<=ke.DEBUG){const t=e.map(Lp);ba.debug(`Firestore (${ll}): ${s}`,...t)}}function Tt(s,...e){if(ba.logLevel<=ke.ERROR){const t=e.map(Lp);ba.error(`Firestore (${ll}): ${s}`,...t)}}function Ku(s,...e){if(ba.logLevel<=ke.WARN){const t=e.map(Lp);ba.warn(`Firestore (${ll}): ${s}`,...t)}}function Lp(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function ue(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,XA(s,r,t)}function XA(s,e,t){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Tt(r),new Error(r)}function me(s,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,s||XA(e,o,r)}function he(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nn.UNAUTHENTICATED)))}shutdown(){}}class _C{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){me(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new pC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class vC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new vC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){me(this.o===void 0,3512);const r=u=>{u.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(me(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function Se(s,e){return s<e?-1:s>e?1:0}function np(s,e){const t=Math.min(s.length,e.length);for(let r=0;r<t;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Ug(o)===Ug(u)?Se(o,u):Ug(o)?1:-1}return Se(s.length,e.length)}const SC=55296,bC=57343;function Ug(s){const e=s.charCodeAt(0);return e>=SC&&e<=bC}function jo(s,e,t){return s.length===e.length&&s.every(((r,o)=>t(r,e[o])))}function $A(s){return s+"\0"}const zT="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=Oi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Se(e.length,t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),o=Oi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Ke extends Oi{construct(e,t,r){return new Ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const IC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Oi{construct(e,t,r){return new dt(e,t,r)}static isValidIdentifier(e){return IC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new dt([zT])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new te(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new te(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new te(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new te(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(t)}static emptyPath(){return new dt([])}}class re{constructor(e){this.path=e}static fromPath(e){return new re(Ke.fromString(e))}static fromName(e){return new re(Ke.fromString(e).popFirst(5))}static empty(){return new re(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ke(e.slice()))}}function JA(s,e,t){if(!t)throw new te(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function wC(s,e,t,r){if(e===!0&&r===!0)throw new te(Y.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function BT(s){if(!re.isDocumentKey(s))throw new te(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jT(s){if(re.isDocumentKey(s))throw new te(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function WA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ue(12329,{type:typeof s})}function ui(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new te(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zf(s);throw new te(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function Pt(s,e){const t={typeString:s};return e&&(t.value=e),t}function cc(s,e){if(!WA(s))throw new te(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new te(Y.INVALID_ARGUMENT,t);return!0}const qT=-62135596800,FT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*FT);return new Je(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qT)throw new te(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Pt("string",Je._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Je(0,0))}static max(){return new pe(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;class If{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function ip(s){return s.fields.find((e=>e.kind===2))}function ua(s){return s.fields.filter((e=>e.kind!==2))}If.UNKNOWN_ID=-1;class lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qu(0,Mn.min())}}function ZA(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=pe.fromTimestamp(r===1e9?new Je(t+1,0):new Je(t,r));return new Mn(o,re.empty(),e)}function eS(s){return new Mn(s.readTime,s.key,qo)}class Mn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mn(pe.min(),re.empty(),qo)}static max(){return new Mn(pe.max(),re.empty(),qo)}}function zp(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(s.documentKey,e.documentKey),t!==0?t:Se(s.largestBatchId,e.largestBatchId))}const tS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ws(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==tS)throw s;ee("LocalStore","Unexpectedly lost primary lease")}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):L.reject(t)}static resolve(e){return new L(((t,r)=>{t(e)}))}static reject(e){return new L(((t,r)=>{r(e)}))}static waitFor(e){return new L(((t,r)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(g=>r(g)))})),c=!0,u===o&&t()}))}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next((o=>o?L.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,u)=>{r.push(t.call(this,o,u))})),this.waitFor(r)}static mapArray(e,t){return new L(((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next((E=>{c[p]=E,++m,m===u&&r(c)}),(E=>o(E)))}}))}static doWhile(e,t){return new L(((r,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):r()};u()}))}}const xn="SimpleDb";class ed{static open(e,t,r,o){try{return new ed(t,e.transaction(o,r))}catch(u){throw new Mu(t,u)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new fr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Mu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=Bp(r.target.error);this.S.reject(new Mu(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ee(xn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CC(t)}}class vs{static delete(e){return ee(xn,"Removing database:",e),ha(xA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!LA())return!1;if(vs.F())return!0;const e=Bt(),t=vs.M(e),r=0<t&&t<10,o=iS(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,vs.M(Bt())===12.2&&Tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ee(xn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;t(c)},o.onblocked=()=>{r(new Mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new te(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new te(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Mu(e,c))},o.onupgradeneeded=u=>{ee(xn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{ee(xn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,o){const u=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const m=ed.open(this.db,e,u?"readonly":"readwrite",r),g=o(m).next((p=>(m.C(),p))).catch((p=>(m.abort(p),L.reject(p)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,p=g.name!=="FirebaseError"&&c<3;if(ee(xn,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iS(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class RC{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ha(this.U.delete())}}class Mu extends te{constructor(e,t){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rs(s){return s.name==="IndexedDbTransactionError"}class CC{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ee(xn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ee(xn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ha(r)}add(e){return ee(xn,"ADD",this.store.name,e,e),ha(this.store.add(e))}get(e){return ha(this.store.get(e)).next((t=>(t===void 0&&(t=null),ee(xn,"GET",this.store.name,e,t),t)))}delete(e){return ee(xn,"DELETE",this.store.name,e),ha(this.store.delete(e))}count(){return ee(xn,"COUNT",this.store.name),ha(this.store.count())}J(e,t){const r=this.options(e,t),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new L(((c,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{c(g.target.result)}}))}{const u=this.cursor(r),c=[];return this.H(u,((m,g)=>{c.push(g)})).next((()=>c))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new L(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}Z(e,t){ee(xn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,((u,c,m)=>m.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}te(e){const t=this.cursor({});return new L(((r,o)=>{t.onerror=u=>{const c=Bp(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}H(e,t){const r=[];return new L(((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const g=new RC(m),p=t(m.primaryKey,m.value,g);if(p instanceof L){const E=p.catch((T=>(g.done(),L.reject(T))));r.push(E)}g.isDone?o():g.G===null?m.continue():m.continue(g.G)}})).next((()=>L.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ha(s){return new L(((e,t)=>{s.onsuccess=r=>{const o=r.target.result;e(o)},s.onerror=r=>{const o=Bp(r.target.error);t(o)}}))}let HT=!1;function Bp(s){const e=vs.M(Bt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HT||(HT=!0,setTimeout((()=>{throw r}),0)),r}}return s}const Pu="IndexBackfiller";class DC{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ee(Pu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ee(Pu,`Documents written: ${t}`)}catch(t){Rs(t)?ee(Pu,"Ignoring IndexedDB error during index backfill: ",t):await ws(t)}await this.re(6e4)}))}}class xC{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let o=t,u=!0;return L.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ee(Pu,`Processing collection: ${c}`),this.oe(e,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>t-o))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(o,u))).next((m=>(ee(Pu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((o,u)=>{const c=eS(u);zp(c,r)>0&&(r=c)})),new Mn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class vn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vn.ce=-1;const ya=-1;function td(s){return s==null}function Yu(s){return s===0&&1/s==-1/0}function rS(s){return typeof s=="number"&&Number.isInteger(s)&&!Yu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const wf="";function on(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=GT(e)),e=NC(s.get(t),e);return GT(e)}function NC(s,e){let t=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":t+="";break;case wf:t+="";break;default:t+=u}}return t}function GT(s){return s+wf+""}function ki(s){const e=s.length;if(me(e>=2,64408,{path:s}),e===2)return me(s.charAt(0)===wf&&s.charAt(1)==="",56145,{path:s}),Ke.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const c=s.indexOf(wf,u);switch((c<0||c>t)&&ue(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let g;o.length===0?g=m:(o+=m,g=o,o=""),r.push(g);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:ue(61167,{path:s})}u=c+2}return new Ke(r)}const ca="remoteDocuments",hc="owner",bo="owner",Xu="mutationQueues",VC="userId",oi="mutations",KT="batchId",ga="userMutationsIndex",QT=["userId","batchId"];function uf(s,e){return[s,on(e)]}function sS(s,e,t){return[s,on(e),t]}const OC={},Fo="documentMutations",Rf="remoteDocumentsV14",MC=["prefixPath","collectionGroup","readTime","documentId"],cf="documentKeyIndex",PC=["prefixPath","collectionGroup","documentId"],aS="collectionGroupIndex",kC=["collectionGroup","readTime","prefixPath","documentId"],$u="remoteDocumentGlobal",rp="remoteDocumentGlobalKey",Ho="targets",oS="queryTargetsIndex",LC=["canonicalId","targetId"],Go="targetDocuments",UC=["targetId","path"],jp="documentTargetsIndex",zC=["path","targetId"],Cf="targetGlobalKey",_a="targetGlobal",Ju="collectionParents",BC=["collectionId","parent"],Ko="clientMetadata",jC="clientId",nd="bundles",qC="bundleId",id="namedQueries",FC="name",qp="indexConfiguration",HC="indexId",sp="collectionGroupIndex",GC="collectionGroup",ku="indexState",KC=["indexId","uid"],lS="sequenceNumberIndex",QC=["uid","sequenceNumber"],Lu="indexEntries",YC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uS="documentKeyIndex",XC=["indexId","uid","orderedDocumentKey"],rd="documentOverlays",$C=["userId","collectionPath","documentId"],ap="collectionPathOverlayIndex",JC=["userId","collectionPath","largestBatchId"],cS="collectionGroupOverlayIndex",WC=["userId","collectionGroup","largestBatchId"],Fp="globals",ZC="name",hS=[Xu,oi,Fo,ca,Ho,hc,_a,Go,Ko,$u,Ju,nd,id],eD=[...hS,rd],fS=[Xu,oi,Fo,Rf,Ho,hc,_a,Go,Ko,$u,Ju,nd,id,rd],dS=fS,Hp=[...dS,qp,ku,Lu],tD=Hp,mS=[...Hp,Fp],nD=mS;class op extends nS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function jt(s,e){const t=he(s);return vs.O(t.le,e)}function YT(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Cs(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function gS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XT(this.data.getIterator())}getIteratorFrom(e){return new XT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class XT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Io(s){return s.hasNext()?s.getNext():void 0}class En{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new En([])}unionWith(e){let t=new Ze(dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pS("Invalid base64 string: "+u):u}})(e);return new St(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new St(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(me(!!s,39018),typeof s=="string"){let e=0;const t=iD.exec(s);if(me(!!t,46558,{timestamp:s}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(s.seconds),nanos:ft(s.nanos)}}function ft(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}const yS="server_timestamp",_S="__type__",vS="__previous_value__",ES="__local_write_time__";function Gp(s){return(s?.mapValue?.fields||{})[_S]?.stringValue===yS}function sd(s){const e=s.mapValue.fields[vS];return Gp(e)?sd(e):e}function Wu(s){const e=mr(s.mapValue.fields[ES].timestampValue);return new Je(e.seconds,e.nanos)}class rD{constructor(e,t,r,o,u,c,m,g,p,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Df="(default)";class Ia{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const Kp="__type__",TS="__max__",ds={mapValue:{fields:{__type__:{stringValue:TS}}}},Qp="__vector__",Qo="value",hf={nullValue:"NULL_VALUE"};function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gp(s)?4:AS(s)?9007199254740991:ad(s)?10:11:ue(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const t=Ts(s);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wu(s).isEqual(Wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=mr(o.timestampValue),m=mr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return gr(o.bytesValue).isEqual(gr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ft(o.doubleValue),m=ft(u.doubleValue);return c===m?Yu(c)===Yu(m):isNaN(c)&&isNaN(m)}return!1})(s,e);case 9:return jo(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(YT(c)!==YT(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!Fi(c[g],m[g])))return!1;return!0})(s,e);default:return ue(52216,{left:s})}}function Zu(s,e){return(s.values||[]).find((t=>Fi(t,e)))!==void 0}function As(s,e){if(s===e)return 0;const t=Ts(s),r=Ts(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(s.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=ft(u.integerValue||u.doubleValue),g=ft(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return $T(s.timestampValue,e.timestampValue);case 4:return $T(Wu(s),Wu(e));case 5:return np(s.stringValue,e.stringValue);case 6:return(function(u,c){const m=gr(u),g=gr(c);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Se(m[p],g[p]);if(E!==0)return E}return Se(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Se(ft(u.latitude),ft(c.latitude));return m!==0?m:Se(ft(u.longitude),ft(c.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return JT(s.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},p=m[Qo]?.arrayValue,E=g[Qo]?.arrayValue,T=Se(p?.values?.length||0,E?.values?.length||0);return T!==0?T:JT(p,E)})(s.mapValue,e.mapValue);case 11:return(function(u,c){if(u===ds.mapValue&&c===ds.mapValue)return 0;if(u===ds.mapValue)return 1;if(c===ds.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=c.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const b=np(g[T],E[T]);if(b!==0)return b;const M=As(m[g[T]],p[E[T]]);if(M!==0)return M}return Se(g.length,E.length)})(s.mapValue,e.mapValue);default:throw ue(23264,{he:t})}}function $T(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Se(s,e);const t=mr(s),r=mr(e),o=Se(t.seconds,r.seconds);return o!==0?o:Se(t.nanos,r.nanos)}function JT(s,e){const t=s.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=As(t[o],r[o]);if(u)return u}return Se(t.length,r.length)}function Yo(s){return lp(s)}function lp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const r=mr(t);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return gr(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return re.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=lp(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${lp(t.fields[c])}`;return o+"}"})(s.mapValue):ue(61005,{value:s})}function ff(s){switch(Ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(s);return e?16+ff(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ff(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Cs(r.fields,((u,c)=>{o+=u.length+ff(c)})),o})(s.mapValue);default:throw ue(13486,{value:s})}}function ec(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function up(s){return!!s&&"integerValue"in s}function tc(s){return!!s&&"arrayValue"in s}function WT(s){return!!s&&"nullValue"in s}function ZT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function df(s){return!!s&&"mapValue"in s}function ad(s){return(s?.mapValue?.fields||{})[Kp]?.stringValue===Qp}function Uu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cs(s.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Uu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(s.arrayValue.values[t]);return e}return{...s}}function AS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===TS}const SS={mapValue:{fields:{[Kp]:{stringValue:Qp},[Qo]:{arrayValue:{}}}}};function sD(s){return"nullValue"in s?hf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ec(Ia.empty(),re.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?ad(s)?SS:{mapValue:{}}:ue(35942,{value:s})}function aD(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ec(Ia.empty(),re.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?SS:"mapValue"in s?ad(s)?{mapValue:{}}:ds:ue(61959,{value:s})}function e0(s,e){const t=As(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function t0(s,e){const t=As(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=dt.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=Uu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Cs(t,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new sn(Uu(this.value))}}function bS(s){const e=[];return Cs(s.fields,((t,r)=>{const o=new dt([t]);if(df(r)){const u=bS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new En(e)}class pt{constructor(e,t,r,o,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new pt(e,0,pe.min(),pe.min(),pe.min(),sn.empty(),0)}static newFoundDocument(e,t,r,o){return new pt(e,1,t,pe.min(),r,o,0)}static newNoDocument(e,t){return new pt(e,2,t,pe.min(),pe.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new pt(e,3,t,pe.min(),pe.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xo{constructor(e,t){this.position=e,this.inclusive=t}}function n0(s,e,t){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],c=s.position[o];if(u.field.isKeyField()?r=re.comparator(re.fromName(c.referenceValue),t.key):r=As(c,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Fi(s.position[t],e.position[t]))return!1;return!0}class nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function oD(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class IS{}class Le extends IS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lD(e,t,r):t==="array-contains"?new hD(e,r):t==="in"?new NS(e,r):t==="not-in"?new fD(e,r):t==="array-contains-any"?new dD(e,r):new Le(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uD(e,r):new cD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(As(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class We extends IS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new We(e,t)}matches(e){return $o(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $o(s){return s.op==="and"}function cp(s){return s.op==="or"}function Yp(s){return wS(s)&&$o(s)}function wS(s){for(const e of s.filters)if(e instanceof We)return!1;return!0}function hp(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+Yo(s.value);if(Yp(s))return s.filters.map((e=>hp(e))).join(",");{const e=s.filters.map((t=>hp(t))).join(",");return`${s.op}(${e})`}}function RS(s,e){return s instanceof Le?(function(r,o){return o instanceof Le&&r.op===o.op&&r.field.isEqual(o.field)&&Fi(r.value,o.value)})(s,e):s instanceof We?(function(r,o){return o instanceof We&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&RS(c,o.filters[m])),!0):!1})(s,e):void ue(19439)}function CS(s,e){const t=s.filters.concat(e);return We.create(t,s.op)}function DS(s){return s instanceof Le?(function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`})(s):s instanceof We?(function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"})(s):"Filter"}class lD extends Le{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){const t=re.comparator(e.key,this.key);return this.matchesComparison(t)}}class uD extends Le{constructor(e,t){super(e,"in",t),this.keys=xS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cD extends Le{constructor(e,t){super(e,"not-in",t),this.keys=xS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xS(s,e){return(e.arrayValue?.values||[]).map((t=>re.fromName(t.referenceValue)))}class hD extends Le{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tc(t)&&Zu(t.arrayValue,this.value)}}class NS extends Le{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}}class fD extends Le{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zu(this.value.arrayValue,t)}}class dD extends Le{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zu(this.value.arrayValue,r)))}}class mD{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function fp(s,e=null,t=[],r=[],o=null,u=null,c=null){return new mD(s,e,t,r,o,u,c)}function wa(s){const e=he(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>hp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Yo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Yo(r))).join(",")),e.Te=t}return e.Te}function fc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!oD(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!RS(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!i0(s.startAt,e.startAt)&&i0(s.endAt,e.endAt)}function xf(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Nf(s,e){return s.filters.filter((t=>t instanceof Le&&t.field.isEqual(e)))}function r0(s,e,t){let r=hf,o=!0;for(const u of Nf(s,e)){let c=hf,m=!0;switch(u.op){case"<":case"<=":c=sD(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=hf}e0({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(t!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const c=t.position[u];e0({value:r,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(r=c,o=t.inclusive);break}}return{value:r,inclusive:o}}function s0(s,e,t){let r=ds,o=!0;for(const u of Nf(s,e)){let c=ds,m=!0;switch(u.op){case">=":case">":c=aD(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=ds}t0({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(t!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const c=t.position[u];t0({value:r,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(r=c,o=t.inclusive);break}}return{value:r,inclusive:o}}class ul{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VS(s,e,t,r,o,u,c,m){return new ul(s,e,t,r,o,u,c,m)}function od(s){return new ul(s)}function a0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function OS(s){return s.collectionGroup!==null}function zu(s){const e=he(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ze(dt.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nc(u,r))})),t.has(dt.keyField().canonicalString())||e.Ie.push(new nc(dt.keyField(),r))}return e.Ie}function On(s){const e=he(s);return e.Ee||(e.Ee=gD(e,zu(s))),e.Ee}function gD(s,e){if(s.limitType==="F")return fp(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nc(o.field,u)}));const t=s.endAt?new Xo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xo(s.startAt.position,s.startAt.inclusive):null;return fp(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function dp(s,e){const t=s.filters.concat([e]);return new ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Vf(s,e,t){return new ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function ld(s,e){return fc(On(s),On(e))&&s.limitType===e.limitType}function MS(s){return`${wa(On(s))}|lt:${s.limitType}`}function No(s){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>DS(o))).join(", ")}]`),td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Yo(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Yo(o))).join(",")),`Target(${r})`})(On(s))}; limitType=${s.limitType})`}function dc(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):re.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of zu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const p=n0(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,zu(r),o)||r.endAt&&!(function(c,m,g){const p=n0(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,zu(r),o))})(s,e)}function PS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kS(s){return(e,t)=>{let r=!1;for(const o of zu(s)){const u=pD(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pD(s,e,t){const r=s.field.isKeyField()?re.comparator(e.key,t.key):(function(u,c,m){const g=c.data.field(u),p=m.data.field(u);return g!==null&&p!==null?As(g,p):ue(42886)})(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:s.dir})}}class vr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((t,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}const yD=new st(re.comparator);function Vn(){return yD}const LS=new st(re.comparator);function Du(...s){let e=LS;for(const t of s)e=e.insert(t.key,t);return e}function US(s){let e=LS;return s.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Li(){return Bu()}function zS(){return Bu()}function Bu(){return new vr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const _D=new st(re.comparator),vD=new Ze(re.comparator);function Ne(...s){let e=vD;for(const t of s)e=e.add(t);return e}const ED=new Ze(Se);function Xp(){return ED}function $p(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function BS(s){return{integerValue:""+s}}function jS(s,e){return rS(e)?BS(e):$p(s,e)}class ud{constructor(){this._=void 0}}function TD(s,e,t){return s instanceof ic?(function(o,u){const c={fields:{[_S]:{stringValue:yS},[ES]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=sd(u)),u&&(c.fields[vS]=u),{mapValue:c}})(t,e):s instanceof Jo?FS(s,e):s instanceof Wo?HS(s,e):(function(o,u){const c=qS(o,u),m=o0(c)+o0(o.Ae);return up(c)&&up(o.Ae)?BS(m):$p(o.serializer,m)})(s,e)}function AD(s,e,t){return s instanceof Jo?FS(s,e):s instanceof Wo?HS(s,e):t}function qS(s,e){return s instanceof Zo?(function(r){return up(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ic extends ud{}class Jo extends ud{constructor(e){super(),this.elements=e}}function FS(s,e){const t=GS(e);for(const r of s.elements)t.some((o=>Fi(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Wo extends ud{constructor(e){super(),this.elements=e}}function HS(s,e){let t=GS(e);for(const r of s.elements)t=t.filter((o=>!Fi(o,r)));return{arrayValue:{values:t}}}class Zo extends ud{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function o0(s){return ft(s.integerValue||s.doubleValue)}function GS(s){return tc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class KS{constructor(e,t){this.field=e,this.transform=t}}function SD(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Jo&&o instanceof Jo||r instanceof Wo&&o instanceof Wo?jo(r.elements,o.elements,Fi):r instanceof Zo&&o instanceof Zo?Fi(r.Ae,o.Ae):r instanceof ic&&o instanceof ic})(s.transform,e.transform)}class bD{constructor(e,t){this.version=e,this.transformResults=t}}class an{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class cd{}function QS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hd(s.key,an.none()):new cl(s.key,s.data,an.none());{const t=s.data,r=sn.empty();let o=new Ze(dt.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Er(s.key,r,new En(o.toArray()),an.none())}}function ID(s,e,t){s instanceof cl?(function(o,u,c){const m=o.value.clone(),g=u0(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,e,t):s instanceof Er?(function(o,u,c){if(!mf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=u0(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(YS(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(s,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ju(s,e,t,r){return s instanceof cl?(function(u,c,m,g){if(!mf(u.precondition,c))return m;const p=u.value.clone(),E=c0(u.fieldTransforms,g,c);return p.setAll(E),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(s,e,t,r):s instanceof Er?(function(u,c,m,g){if(!mf(u.precondition,c))return m;const p=c0(u.fieldTransforms,g,c),E=c.data;return E.setAll(YS(u)),E.setAll(p),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,t,r):(function(u,c,m){return mf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,e,t)}function wD(s,e){let t=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=qS(r.transform,o||null);u!=null&&(t===null&&(t=sn.empty()),t.set(r.field,u))}return t||null}function l0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jo(r,o,((u,c)=>SD(u,c)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cl extends cd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends cd{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YS(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}})),e}function u0(s,e,t){const r=new Map;me(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let o=0;o<t.length;o++){const u=s[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,AD(c,m,t[o]))}return r}function c0(s,e,t){const r=new Map;for(const o of s){const u=o.transform,c=t.data.field(o.field);r.set(o.field,TD(u,c,e))}return r}class hd extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XS extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jp{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ID(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const g=QS(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((t,r)=>l0(t,r)))&&jo(this.baseMutations,e.baseMutations,((t,r)=>l0(t,r)))}}class Wp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _D})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Wp(e,t,r,o)}}class Zp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mt,Be;function CD(s){switch(s){case Y.OK:return ue(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ue(15467,{code:s})}}function $S(s){if(s===void 0)return Tt("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Mt.OK:return Y.OK;case Mt.CANCELLED:return Y.CANCELLED;case Mt.UNKNOWN:return Y.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Y.INTERNAL;case Mt.UNAVAILABLE:return Y.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Y.NOT_FOUND;case Mt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Mt.ABORTED:return Y.ABORTED;case Mt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Mt.DATA_LOSS:return Y.DATA_LOSS;default:return ue(39323,{code:s})}}(Be=Mt||(Mt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function DD(){return new TextEncoder}const xD=new _s([4294967295,4294967295],0);function h0(s){const e=DD().encode(s),t=new FA;return t.update(e),new Uint8Array(t.digest())}function f0(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _s([t,r],0),new _s([o,u],0)]}class ey{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xu(`Invalid padding: ${t}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_s.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(_s.fromNumber(r)));return o.compare(xD)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=h0(e),[r,o]=f0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new ey(u,o,t);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=h0(e),[r,o]=f0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mc{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mc(pe.min(),o,new st(Se),Vn(),Ne())}}class gc{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gc(r,t,Ne(),Ne(),Ne())}}class gf{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class JS{constructor(e,t){this.targetId=e,this.Ce=t}}class WS{constructor(e,t,r=St.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ue(38017,{changeType:u})}})),new gc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=m0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ND{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vn(),this.Je=Zh(),this.He=Zh(),this.Ye=new st(Se)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(xf(u))if(r===0){const c=new re(u.path);this.et(t,c,pt.newNoDocument(c,pe.min()))}else me(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const m=this.ut(e),g=m?this.ct(m,e,c):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=gr(r).toUint8Array()}catch(g){if(g instanceof pS)return Ku("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ey(c,o,u)}catch(g){return Ku(g instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&xf(m.target)){const g=new re(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,pt.newNoDocument(g,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let r=Ne();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new mc(e,t,this.Ye,this.je,r);return this.je=Vn(),this.Je=Zh(),this.He=Zh(),this.Ye=new st(Se),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ze(Se),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ze(Se),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zh(){return new st(re.comparator)}function m0(){return new st(re.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},OD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class PD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mp(s,e){return s.useProto3Json||td(e)?e:{value:e}}function el(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function kD(s,e){return el(s,e.toTimestamp())}function hn(s){return me(!!s,49232),pe.fromTimestamp((function(t){const r=mr(t);return new Je(r.seconds,r.nanos)})(s))}function ty(s,e){return gp(s,e).canonicalString()}function gp(s,e){const t=(function(o){return new Ke(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?t:t.child(e)}function e1(s){const e=Ke.fromString(s);return me(u1(e),10190,{key:e.toString()}),e}function Of(s,e){return ty(s.databaseId,e.path)}function va(s,e){const t=e1(e);if(t.get(1)!==s.databaseId.projectId)throw new te(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new te(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new re(i1(t))}function t1(s,e){return ty(s.databaseId,e)}function n1(s){const e=e1(s);return e.length===4?Ke.emptyPath():i1(e)}function pp(s){return new Ke(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function i1(s){return me(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function g0(s,e,t){return{name:Of(s,e),fields:t.value.mapValue.fields}}function LD(s,e,t){const r=va(s,e.name),o=hn(e.updateTime),u=e.createTime?hn(e.createTime):pe.min(),c=new sn({mapValue:{fields:e.fields}}),m=pt.newFoundDocument(r,o,u,c);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function UD(s,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ue(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(me(E===void 0||typeof E=="string",58123),St.fromBase64String(E||"")):(me(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),St.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(p){const E=p.code===void 0?Y.UNKNOWN:$S(p.code);return new te(E,p.message||"")})(c);t=new WS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=va(s,r.document.name),u=hn(r.document.updateTime),c=r.document.createTime?hn(r.document.createTime):pe.min(),m=new sn({mapValue:{fields:r.document.fields}}),g=pt.newFoundDocument(o,u,c,m),p=r.targetIds||[],E=r.removedTargetIds||[];t=new gf(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=va(s,r.document),u=r.readTime?hn(r.readTime):pe.min(),c=pt.newNoDocument(o,u),m=r.removedTargetIds||[];t=new gf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=va(s,r.document),u=r.removedTargetIds||[];t=new gf([],u,o,null)}else{if(!("filter"in e))return ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new RD(o,u),m=r.targetId;t=new JS(m,c)}}return t}function Mf(s,e){let t;if(e instanceof cl)t={update:g0(s,e.key,e.value)};else if(e instanceof hd)t={delete:Of(s,e.key)};else if(e instanceof Er)t={update:g0(s,e.key,e.data),updateMask:HD(e.fieldMask)};else{if(!(e instanceof XS))return ue(16599,{Vt:e.type});t={verify:Of(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof ic)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zo)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw ue(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ue(27497)})(s,e.precondition)),t}function yp(s,e){const t=e.currentDocument?(function(u){return u.updateTime!==void 0?an.updateTime(hn(u.updateTime)):u.exists!==void 0?an.exists(u.exists):an.none()})(e.currentDocument):an.none(),r=e.updateTransforms?e.updateTransforms.map((o=>(function(c,m){let g=null;if("setToServerValue"in m)me(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new ic;else if("appendMissingElements"in m){const E=m.appendMissingElements.values||[];g=new Jo(E)}else if("removeAllFromArray"in m){const E=m.removeAllFromArray.values||[];g=new Wo(E)}else"increment"in m?g=new Zo(c,m.increment):ue(16584,{proto:m});const p=dt.fromServerFormat(m.fieldPath);return new KS(p,g)})(s,o))):[];if(e.update){e.update.name;const o=va(s,e.update.name),u=new sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new En(p.map((E=>dt.fromServerFormat(E))))})(e.updateMask);return new Er(o,u,c,t,r)}return new cl(o,u,t,r)}if(e.delete){const o=va(s,e.delete);return new hd(o,t)}if(e.verify){const o=va(s,e.verify);return new XS(o,t)}return ue(1463,{proto:e})}function zD(s,e){return s&&s.length>0?(me(e!==void 0,14353),s.map((t=>(function(o,u){let c=o.updateTime?hn(o.updateTime):hn(u);return c.isEqual(pe.min())&&(c=hn(u)),new bD(c,o.transformResults||[])})(t,e)))):[]}function r1(s,e){return{documents:[t1(s,e.path)]}}function s1(s,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=t1(s,o);const u=(function(p){if(p.length!==0)return l1(We.create(p,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((E=>(function(b){return{field:Vo(b.field),direction:jD(b.dir)}})(E)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=mp(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function a1(s){let e=n1(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){me(r===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(T){const b=o1(T);return b instanceof We&&Yp(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((b=>(function(G){return new nc(Oo(G.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(b)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,td(b)?null:b})(t.limit));let g=null;t.startAt&&(g=(function(T){const b=!!T.before,M=T.values||[];return new Xo(M,b)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const b=!T.before,M=T.values||[];return new Xo(M,b)})(t.endAt)),VS(e,o,c,u,m,"F",g,p)}function BD(s,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function o1(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Oo(t.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(t.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return Le.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Le.create(Oo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return We.create(t.compositeFilter.filters.map((r=>o1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ue(1026)}})(t.compositeFilter.op))})(s):ue(30097,{filter:s})}function jD(s){return VD[s]}function qD(s){return OD[s]}function FD(s){return MD[s]}function Vo(s){return{fieldPath:s.canonicalString()}}function Oo(s){return dt.fromServerFormat(s.fieldPath)}function l1(s){return s instanceof Le?(function(t){if(t.op==="=="){if(ZT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(WT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(WT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:qD(t.op),value:t.value}}})(s):s instanceof We?(function(t){const r=t.getFilters().map((o=>l1(o)));return r.length===1?r[0]:{compositeFilter:{op:FD(t.op),filters:r}}})(s):ue(54877,{filter:s})}function HD(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function u1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,t,r,o,u=pe.min(),c=pe.min(),m=St.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c1{constructor(e){this.yt=e}}function GD(s,e){let t;if(e.document)t=LD(s.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=re.fromSegments(e.noDocument.path),o=Ca(e.noDocument.readTime);t=pt.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue(56709);{const r=re.fromSegments(e.unknownDocument.path),o=Ca(e.unknownDocument.version);t=pt.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime((function(o){const u=new Je(o[0],o[1]);return pe.fromTimestamp(u)})(e.readTime)),t}function p0(s,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(u,c){return{name:Of(u,c.key),fields:c.data.value.mapValue.fields,updateTime:el(u,c.version.toTimestamp()),createTime:el(u,c.createTime.toTimestamp())}})(s.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ra(e.version)};else{if(!e.isUnknownDocument())return ue(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ra(e.version)}}return r}function Pf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ca(s){const e=new Je(s.seconds,s.nanoseconds);return pe.fromTimestamp(e)}function fa(s,e){const t=(e.baseMutations||[]).map((u=>yp(s.yt,u)));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const m=e.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const r=e.mutations.map((u=>yp(s.yt,u))),o=Je.fromMillis(e.localWriteTimeMs);return new Jp(e.batchId,o,t,r)}function Nu(s){const e=Ca(s.readTime),t=s.lastLimboFreeSnapshotVersion!==void 0?Ca(s.lastLimboFreeSnapshotVersion):pe.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return me(c===1,1966,{count:c}),On(od(n1(u.documents[0])))})(s.query):(function(u){return On(a1(u))})(s.query),new ur(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,St.fromBase64String(s.resumeToken))}function h1(s,e){const t=Ra(e.snapshotVersion),r=Ra(e.lastLimboFreeSnapshotVersion);let o;o=xf(e.target)?r1(s.yt,e.target):s1(s.yt,e.target).ft;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function f1(s){const e=a1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vf(e,e.limit,"L"):e}function zg(s,e){return new Zp(e.largestBatchId,yp(s.yt,e.overlayMutation))}function y0(s,e){const t=e.path.lastSegment();return[s,on(e.path.popLast()),t]}function _0(s,e,t,r){return{indexId:s,uid:e,sequenceNumber:t,readTime:Ra(r.readTime),documentKey:on(r.documentKey.path),largestBatchId:r.largestBatchId}}class KD{getBundleMetadata(e,t){return v0(e).get(t).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:Ca(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(e,t){return v0(e).put((function(o){return{bundleId:o.id,createTime:Ra(hn(o.createTime)),version:o.version}})(t))}getNamedQuery(e,t){return E0(e).get(t).next((r=>{if(r)return(function(u){return{name:u.name,query:f1(u.bundledQuery),readTime:Ca(u.readTime)}})(r)}))}saveNamedQuery(e,t){return E0(e).put((function(o){return{name:o.name,readTime:Ra(hn(o.readTime)),bundledQuery:o.bundledQuery}})(t))}}function v0(s){return jt(s,nd)}function E0(s){return jt(s,id)}class fd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new fd(e,r)}getOverlay(e,t){return Tu(e).get(y0(this.userId,t)).next((r=>r?zg(this.serializer,r):null))}getOverlays(e,t){const r=Li();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){const o=[];return r.forEach(((u,c)=>{const m=new Zp(t,c);o.push(this.St(e,m))})),L.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach((c=>o.add(on(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Tu(e).Z(ap,m))})),L.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Li(),u=on(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Tu(e).J(ap,c).next((m=>{for(const g of m){const p=zg(this.serializer,g);o.set(p.getKey(),p)}return o}))}getOverlaysForCollectionGroup(e,t,r,o){const u=Li();let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tu(e).ee({index:cS,range:m},((g,p,E)=>{const T=zg(this.serializer,p);u.size()<o||T.largestBatchId===c?(u.set(T.getKey(),T),c=T.largestBatchId):E.done()})).next((()=>u))}St(e,t){return Tu(e).put((function(o,u,c){const[m,g,p]=y0(u,c.mutation.key);return{userId:u,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Mf(o.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Tu(s){return jt(s,rd)}class QD{bt(e){return jt(e,Fp)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?St.fromUint8Array(r):St.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class da{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Yu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=mr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(gr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?AS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ad(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ue(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const o of Object.keys(r))this.Ot(o,t),this.Ct(r[o],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const o=Qo,u=r[o].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ft(u)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const o of r)this.Ct(o,t)}Lt(e,t){this.Ft(t,37),re.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}da.Kt=new da;const wo=255;function YD(s){if(s===0)return 8;let e=0;return s>>4||(e+=4,s<<=4),s>>6||(e+=2,s<<=2),s>>7||(e+=1),e}function T0(s){const e=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=YD(255&r[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(e/8)}class XD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=t.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=t.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(e){const t=this.en(e),r=T0(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}nn(e){const t=this.en(e),r=T0(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}rn(){this.sn(wo),this.sn(255)}_n(){this.an(wo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===wo?(this.sn(wo),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===wo?(this.an(wo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class $D{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class JD{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Au{constructor(){this.cn=new XD,this.ln=new $D(this.cn),this.hn=new JD(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class ma{constructor(e,t,r,o){this.Tn=e,this.In=t,this.En=r,this.dn=o}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ma(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:pf(this.En),directionalValue:pf(this.dn),orderedDocumentKey:pf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const o=this.Rn(e,t,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function rs(s,e){let t=s.Tn-e.Tn;return t!==0?t:(t=A0(s.En,e.En),t!==0?t:(t=A0(s.dn,e.dn),t!==0?t:re.comparator(s.In,e.In)))}function A0(s,e){for(let t=0;t<s.length&&t<e.length;++t){const r=s[t]-e[t];if(r!==0)return r}return s.length-e.length}function pf(s){return kA()?(function(t){let r="";for(let o=0;o<t.length;o++)r+=String.fromCharCode(t[o]);return r})(s):s}function S0(s){return typeof s!="string"?s:(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(s)}class b0{constructor(e){this.mn=new Ze(((t,r)=>dt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(me(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=ip(e);if(t!==void 0&&!this.wn(t))return!1;const r=ua(e);let o=new Set,u=0,c=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const g=r[u];if(!this.Sn(m,g)||!this.bn(this.fn[c++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ze(dt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new lf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new lf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new lf(r.field,r.dir==="asc"?0:1)));return new If(If.UNKNOWN_ID,this.collectionId,t,Qu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function d1(s){if(me(s instanceof Le||s instanceof We,20012),s instanceof Le){if(s instanceof NS){const t=s.value.arrayValue?.values?.map((r=>Le.create(s.field,"==",r)))||[];return We.create(t,"or")}return s}const e=s.filters.map((t=>d1(t)));return We.create(e,s.op)}function WD(s){if(s.getFilters().length===0)return[];const e=Ep(d1(s));return me(m1(e),7391),_p(e)||vp(e)?[e]:e.getFilters()}function _p(s){return s instanceof Le}function vp(s){return s instanceof We&&Yp(s)}function m1(s){return _p(s)||vp(s)||(function(t){if(t instanceof We&&cp(t)){for(const r of t.getFilters())if(!_p(r)&&!vp(r))return!1;return!0}return!1})(s)}function Ep(s){if(me(s instanceof Le||s instanceof We,34018),s instanceof Le)return s;if(s.filters.length===1)return Ep(s.filters[0]);const e=s.filters.map((r=>Ep(r)));let t=We.create(e,s.op);return t=kf(t),m1(t)?t:(me(t instanceof We,64498),me($o(t),40251),me(t.filters.length>1,57927),t.filters.reduce(((r,o)=>ny(r,o))))}function ny(s,e){let t;return me(s instanceof Le||s instanceof We,38388),me(e instanceof Le||e instanceof We,25473),t=s instanceof Le?e instanceof Le?(function(o,u){return We.create([o,u],"and")})(s,e):I0(s,e):e instanceof Le?I0(e,s):(function(o,u){if(me(o.filters.length>0&&u.filters.length>0,48005),$o(o)&&$o(u))return CS(o,u.getFilters());const c=cp(o)?o:u,m=cp(o)?u:o,g=c.filters.map((p=>ny(p,m)));return We.create(g,"or")})(s,e),kf(t)}function I0(s,e){if($o(e))return CS(e,s.getFilters());{const t=e.filters.map((r=>ny(s,r)));return We.create(t,"or")}}function kf(s){if(me(s instanceof Le||s instanceof We,11850),s instanceof Le)return s;const e=s.getFilters();if(e.length===1)return kf(e[0]);if(wS(s))return s;const t=e.map((o=>kf(o))),r=[];return t.forEach((o=>{o instanceof Le?r.push(o):o instanceof We&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:We.create(r,s.op)}class ZD{constructor(){this.Cn=new iy}addToCollectionParentIndex(e,t){return this.Cn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Mn.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class iy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ze(Ke.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ze(Ke.comparator)).toArray()}}const w0="IndexedDbIndexManager",ef=new Uint8Array(0);class ex{constructor(e,t){this.databaseId=t,this.vn=new iy,this.Fn=new vr((r=>wa(r)),((r,o)=>fc(r,o))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const u={collectionId:r,parent:on(o)};return R0(e).put(u)}return L.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[$A(t),""],!1,!0);return R0(e).J(o).next((u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ki(c.parent))}return r}))}addFieldIndex(e,t){const r=Su(e),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(t);delete o.indexId;const u=r.add(o);if(t.indexState){const c=Co(e);return u.next((m=>{c.put(_0(m,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return u.next()}deleteFieldIndex(e,t){const r=Su(e),o=Co(e),u=Ro(e);return r.delete(t.indexId).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Su(e),r=Ro(e),o=Co(e);return t.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(e,t){return L.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((o=>{if(o===0||o===1){const u=new b0(r).Dn();if(u!=null)return this.addFieldIndex(e,u)}}))))}getDocumentsMatchingTarget(e,t){const r=Ro(e);let o=!0;const u=new Map;return L.forEach(this.Mn(t),(c=>this.xn(e,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Ne();const m=[];return L.forEach(u,((g,p)=>{ee(w0,`Using index ${(function(ie){return`id=${ie.indexId}|cg=${ie.collectionGroup}|f=${ie.fields.map((_e=>`${_e.fieldPath}:${_e.kind}`)).join(",")}`})(g)} to execute ${wa(t)}`);const E=(function(ie,_e){const Ie=ip(_e);if(Ie===void 0)return null;for(const Ee of Nf(ie,Ie.fieldPath))switch(Ee.op){case"array-contains-any":return Ee.value.arrayValue.values||[];case"array-contains":return[Ee.value]}return null})(p,g),T=(function(ie,_e){const Ie=new Map;for(const Ee of ua(_e))for(const w of Nf(ie,Ee.fieldPath))switch(w.op){case"==":case"in":Ie.set(Ee.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return Ie.set(Ee.fieldPath.canonicalString(),w.value),Array.from(Ie.values())}return null})(p,g),b=(function(ie,_e){const Ie=[];let Ee=!0;for(const w of ua(_e)){const I=w.kind===0?r0(ie,w.fieldPath,ie.startAt):s0(ie,w.fieldPath,ie.startAt);Ie.push(I.value),Ee&&(Ee=I.inclusive)}return new Xo(Ie,Ee)})(p,g),M=(function(ie,_e){const Ie=[];let Ee=!0;for(const w of ua(_e)){const I=w.kind===0?s0(ie,w.fieldPath,ie.endAt):r0(ie,w.fieldPath,ie.endAt);Ie.push(I.value),Ee&&(Ee=I.inclusive)}return new Xo(Ie,Ee)})(p,g),G=this.On(g,p,b),K=this.On(g,p,M),Z=this.Nn(g,p,T),fe=this.Bn(g.indexId,E,G,b.inclusive,K,M.inclusive,Z);return L.forEach(fe,(oe=>r.Y(oe,t.limit).next((ie=>{ie.forEach((_e=>{const Ie=re.fromSegments(_e.documentKey);c.has(Ie)||(c=c.add(Ie),m.push(Ie))}))}))))})).next((()=>m))}return L.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=WD(We.create(e.filters,"and")).map((r=>fp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,o,u,c,m){const g=(t!=null?t.length:1)*Math.max(r.length,u.length),p=g/(t!=null?t.length:1),E=[];for(let T=0;T<g;++T){const b=t?this.Ln(t[T/p]):ef,M=this.kn(e,b,r[T%p],o),G=this.qn(e,b,u[T%p],c),K=m.map((Z=>this.kn(e,b,Z,!0)));E.push(...this.createRange(M,G,K))}return E}kn(e,t,r,o){const u=new ma(e,re.empty(),t,r);return o?u:u.An()}qn(e,t,r,o){const u=new ma(e,re.empty(),t,r);return o?u.An():u}xn(e,t){const r=new b0(t),o=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next((u=>{let c=null;for(const m of u)r.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(e,t){let r=2;const o=this.Mn(t);return L.forEach(o,(u=>this.xn(e,u).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new Ze(dt.comparator),E=!1;for(const T of g.filters)for(const b of T.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?E=!0:p=p.add(b.field));for(const T of g.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(E?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&o.length>1&&r===2?1:r))}Qn(e,t){const r=new Au;for(const o of ua(e)){const u=t.data.field(o.fieldPath);if(u==null)return null;const c=r.Pn(o.kind);da.Kt.Dt(u,c)}return r.un()}Ln(e){const t=new Au;return da.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Au;return da.Kt.Dt(ec(this.databaseId,t),r.Pn((function(u){const c=ua(u);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let o=[];o.push(new Au);let u=0;for(const c of ua(e)){const m=r[u++];for(const g of o)if(this.Un(t,c.fieldPath)&&tc(m))o=this.Kn(o,c,m);else{const p=g.Pn(c.kind);da.Kt.Dt(m,p)}}return this.Wn(o)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const o=[...e],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const g=new Au;g.seed(m.un()),da.Kt.Dt(c,g.Pn(t.kind)),u.push(g)}return u}Un(e,t){return!!e.filters.find((r=>r instanceof Le&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Su(e),o=Co(e);return(t?r.J(sp,IDBKeyRange.bound(t,t)):r.J()).next((u=>{const c=[];return L.forEach(u,(m=>o.get([m.indexId,this.uid]).next((g=>{c.push((function(E,T){const b=T?new Qu(T.sequenceNumber,new Mn(Ca(T.readTime),new re(ki(T.documentKey)),T.largestBatchId)):Qu.empty(),M=E.fields.map((([G,K])=>new lf(dt.fromServerFormat(G),K)));return new If(E.indexId,E.collectionGroup,M,b)})(m,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:Se(r.collectionGroup,o.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const o=Su(e),u=Co(e);return this.Gn(e).next((c=>o.J(sp,IDBKeyRange.bound(t,t)).next((m=>L.forEach(m,(g=>u.put(_0(g.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return L.forEach(t,((o,u)=>{const c=r.get(o.collectionGroup);return(c?L.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),L.forEach(m,(g=>this.zn(e,o,g).next((p=>{const E=this.jn(u,g);return p.isEqual(E)?L.resolve():this.Jn(e,u,g,p,E)})))))))}))}Hn(e,t,r,o){return Ro(e).put(o.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,o){return Ro(e).delete(o.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const o=Ro(e);let u=new Ze(rs);return o.ee({index:uS,range:IDBKeyRange.only([r.indexId,this.uid,pf(this.$n(r,t))])},((c,m)=>{u=u.add(new ma(r.indexId,t,S0(m.arrayValue),S0(m.directionalValue)))})).next((()=>u))}jn(e,t){let r=new Ze(rs);const o=this.Qn(t,e);if(o==null)return r;const u=ip(t);if(u!=null){const c=e.data.field(u.fieldPath);if(tc(c))for(const m of c.arrayValue.values||[])r=r.add(new ma(t.indexId,e.key,this.Ln(m),o))}else r=r.add(new ma(t.indexId,e.key,ef,o));return r}Jn(e,t,r,o,u){ee(w0,"Updating index entries for document '%s'",t.key);const c=[];return(function(g,p,E,T,b){const M=g.getIterator(),G=p.getIterator();let K=Io(M),Z=Io(G);for(;K||Z;){let fe=!1,oe=!1;if(K&&Z){const ie=E(K,Z);ie<0?oe=!0:ie>0&&(fe=!0)}else K!=null?oe=!0:fe=!0;fe?(T(Z),Z=Io(G)):oe?(b(K),K=Io(M)):(K=Io(M),Z=Io(G))}})(o,u,rs,(m=>{c.push(this.Hn(e,t,r,m))}),(m=>{c.push(this.Yn(e,t,r,m))})),L.waitFor(c)}Gn(e){let t=1;return Co(e).ee({index:lS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),t=o.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,m)=>rs(c,m))).filter(((c,m,g)=>!m||rs(c,g[m-1])!==0));const o=[];o.push(e);for(const c of r){const m=rs(c,e),g=rs(c,t);if(m===0)o[0]=e.An();else if(m>0&&g<0)o.push(c),o.push(c.An());else if(g>0)break}o.push(t);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,ef,re.empty()),g=o[c+1].Vn(this.uid,ef,re.empty());u.push(IDBKeyRange.bound(m,g))}return u}Zn(e,t){return rs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(C0)}getMinOffset(e,t){return L.mapArray(this.Mn(t),(r=>this.xn(e,r).next((o=>o||ue(44426))))).next(C0)}}function R0(s){return jt(s,Ju)}function Ro(s){return jt(s,Lu)}function Su(s){return jt(s,qp)}function Co(s){return jt(s,ku)}function C0(s){me(s.length!==0,28825);let e=s[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;zp(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Mn(e.readTime,e.documentKey,t)}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function p1(s,e,t){const r=s.store(oi),o=s.store(Fo),u=[],c=IDBKeyRange.only(t.batchId);let m=0;const g=r.ee({range:c},((E,T,b)=>(m++,b.delete())));u.push(g.next((()=>{me(m===1,47070,{batchId:t.batchId})})));const p=[];for(const E of t.mutations){const T=sS(e,E.key.path,t.batchId);u.push(o.delete(T)),p.push(E.key)}return L.waitFor(u).next((()=>p))}function Lf(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw ue(14731);e=s.noDocument}return JSON.stringify(e).length}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(g1,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class dd{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(e,t,r,o){me(e.uid!=="",64387);const u=e.isAuthenticated()?e.uid:"";return new dd(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ss(e).ee({index:ga,range:r},((o,u,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,o){const u=Mo(e),c=ss(e);return c.add({}).next((m=>{me(typeof m=="number",49019);const g=new Jp(m,t,r,o),p=(function(M,G,K){const Z=K.baseMutations.map((oe=>Mf(M.yt,oe))),fe=K.mutations.map((oe=>Mf(M.yt,oe)));return{userId:G,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:Z,mutations:fe}})(this.serializer,this.userId,g),E=[];let T=new Ze(((b,M)=>Se(b.canonicalString(),M.canonicalString())));for(const b of o){const M=sS(this.userId,b.key.path,m);T=T.add(b.key.path.popLast()),E.push(c.put(p)),E.push(u.put(M,OC))}return T.forEach((b=>{E.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[m]=g.keys()})),L.waitFor(E).next((()=>g))}))}lookupMutationBatch(e,t){return ss(e).get(t).next((r=>r?(me(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),fa(this.serializer,r)):null))}er(e,t){return this.Xn[t]?L.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const o=r.keys();return this.Xn[t]=o,o}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ss(e).ee({index:ga,range:o},((c,m,g)=>{m.userId===this.userId&&(me(m.batchId>=r,47524,{tr:r}),u=fa(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ya;return ss(e).ee({index:ga,range:t,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ya],[this.userId,Number.POSITIVE_INFINITY]);return ss(e).J(ga,t).next((r=>r.map((o=>fa(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=uf(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Mo(e).ee({range:o},((c,m,g)=>{const[p,E,T]=c,b=ki(E);if(p===this.userId&&t.path.isEqual(b))return ss(e).get(T).next((M=>{if(!M)throw ue(61480,{nr:c,batchId:T});me(M.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:M.userId,batchId:T}),u.push(fa(this.serializer,M))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Se);const o=[];return t.forEach((u=>{const c=uf(this.userId,u.path),m=IDBKeyRange.lowerBound(c),g=Mo(e).ee({range:m},((p,E,T)=>{const[b,M,G]=p,K=ki(M);b===this.userId&&u.path.isEqual(K)?r=r.add(G):T.done()}));o.push(g)})),L.waitFor(o).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=uf(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Ze(Se);return Mo(e).ee({range:c},((g,p,E)=>{const[T,b,M]=g,G=ki(b);T===this.userId&&r.isPrefixOf(G)?G.length===o&&(m=m.add(M)):E.done()})).next((()=>this.rr(e,m)))}rr(e,t){const r=[],o=[];return t.forEach((u=>{o.push(ss(e).get(u).next((c=>{if(c===null)throw ue(35274,{batchId:u});me(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push(fa(this.serializer,c))})))})),L.waitFor(o).next((()=>r))}removeMutationBatch(e,t){return p1(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),L.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return L.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return Mo(e).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const g=ki(u[1]);o.push(g)}else m.done()})).next((()=>{me(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(e,t){return y1(e,this.userId,t)}_r(e){return _1(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ya,lastStreamToken:""}))}}function y1(s,e,t){const r=uf(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Mo(s).ee({range:u,X:!0},((m,g,p)=>{const[E,T,b]=m;E===e&&T===o&&(c=!0),p.done()})).next((()=>c))}function ss(s){return jt(s,oi)}function Mo(s){return jt(s,Fo)}function _1(s){return jt(s,Xu)}class Da{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Da(0)}static cr(){return new Da(-1)}}class tx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Da(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>pe.fromTimestamp(new Je(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.hr(e,o))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Do(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(me(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let o=0;const u=[];return Do(e).ee(((c,m)=>{const g=Nu(m);g.sequenceNumber<=t&&r.get(g.targetId)===null&&(o++,u.push(this.removeTargetData(e,g)))})).next((()=>L.waitFor(u))).next((()=>o))}forEachTarget(e,t){return Do(e).ee(((r,o)=>{const u=Nu(o);t(u)}))}lr(e){return x0(e).get(Cf).next((t=>(me(t!==null,2888),t)))}hr(e,t){return x0(e).put(Cf,t)}Pr(e,t){return Do(e).put(h1(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=wa(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Do(e).ee({range:o,index:oS},((c,m,g)=>{const p=Nu(m);fc(t,p.target)&&(u=p,g.done())})).next((()=>u))}addMatchingKeys(e,t,r){const o=[],u=ls(e);return t.forEach((c=>{const m=on(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,c))})),L.waitFor(o)}removeMatchingKeys(e,t,r){const o=ls(e);return L.forEach(t,(u=>{const c=on(u.path);return L.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])}))}removeMatchingKeysForTargetId(e,t){const r=ls(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ls(e);let u=Ne();return o.ee({range:r,X:!0},((c,m,g)=>{const p=ki(c[1]),E=new re(p);u=u.add(E)})).next((()=>u))}containsKey(e,t){const r=on(t.path),o=IDBKeyRange.bound([r],[$A(r)],!1,!0);let u=0;return ls(e).ee({index:jp,X:!0,range:o},(([c,m],g,p)=>{c!==0&&(u++,p.done())})).next((()=>u>0))}At(e,t){return Do(e).get(t).next((r=>r?Nu(r):null))}}function Do(s){return jt(s,Ho)}function x0(s){return jt(s,_a)}function ls(s){return jt(s,Go)}const N0="LruGarbageCollector",v1=1048576;function V0([s,e],[t,r]){const o=Se(s,t);return o===0?Se(e,r):o}class nx{constructor(e){this.Ir=e,this.buffer=new Ze(V0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();V0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(N0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Rs(t)?ee(N0,"Ignoring IndexedDB error during garbage collection: ",t):await ws(t)}await this.Vr(3e5)}))}}class ix{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return L.resolve(vn.ce);const r=new nx(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(D0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,u,c,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,t)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),xo()<=ke.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function T1(s,e){return new ix(s,e)}class rx{constructor(e,t){this.db=e,this.garbageCollector=T1(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,o)=>t(o)))}addReference(e,t,r){return tf(e,r)}removeReference(e,t,r){return tf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tf(e,t)}br(e,t){return(function(o,u){let c=!1;return _1(o).te((m=>y1(o,m,u).next((g=>(g&&(c=!0),L.resolve(!g)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(e,((c,m)=>{if(m<=t){const g=this.br(e,c).next((p=>{if(!p)return u++,r.getEntry(e,c).next((()=>(r.removeEntry(c,pe.min()),ls(e).delete((function(T){return[0,on(T.path)]})(c)))))}));o.push(g)}})).next((()=>L.waitFor(o))).next((()=>r.apply(e))).next((()=>u))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tf(e,t)}Sr(e,t){const r=ls(e);let o,u=vn.ce;return r.ee({index:jp},(([c,m],{path:g,sequenceNumber:p})=>{c===0?(u!==vn.ce&&t(new re(ki(o)),u),u=p,o=g):u=vn.ce})).next((()=>{u!==vn.ce&&t(new re(ki(o)),u)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tf(s,e){return ls(s).put((function(r,o){return{targetId:0,path:on(r.path),sequenceNumber:o}})(e,s.currentSequenceNumber))}class A1{constructor(){this.changes=new vr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return oa(e).put(r)}removeEntry(e,t,r){return oa(e).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Pf(c),m[m.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=pt.newInvalidDocument(t);return oa(e).ee({index:cf,range:IDBKeyRange.only(bu(t))},((o,u)=>{r=this.Cr(t,u)})).next((()=>r))}vr(e,t){let r={size:0,document:pt.newInvalidDocument(t)};return oa(e).ee({index:cf,range:IDBKeyRange.only(bu(t))},((o,u)=>{r={document:this.Cr(t,u),size:Lf(u)}})).next((()=>r))}getEntries(e,t){let r=Vn();return this.Fr(e,t,((o,u)=>{const c=this.Cr(o,u);r=r.insert(o,c)})).next((()=>r))}Mr(e,t){let r=Vn(),o=new st(re.comparator);return this.Fr(e,t,((u,c)=>{const m=this.Cr(u,c);r=r.insert(u,m),o=o.insert(u,Lf(c))})).next((()=>({documents:r,Or:o})))}Fr(e,t,r){if(t.isEmpty())return L.resolve();let o=new Ze(P0);t.forEach((g=>o=o.add(g)));const u=IDBKeyRange.bound(bu(o.first()),bu(o.last())),c=o.getIterator();let m=c.getNext();return oa(e).ee({index:cf,range:u},((g,p,E)=>{const T=re.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;m&&P0(m,T)<0;)r(m,null),m=c.getNext();m&&m.isEqual(T)&&(r(m,p),m=c.hasNext()?c.getNext():null),m?E.j(bu(m)):E.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,o,u){const c=t.path,m=[c.popLast().toArray(),c.lastSegment(),Pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).J(IDBKeyRange.bound(m,g,!0)).next((p=>{u?.incrementDocumentReadCount(p.length);let E=Vn();for(const T of p){const b=this.Cr(re.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);b.isFoundDocument()&&(dc(t,b)||o.has(b.key))&&(E=E.insert(b.key,b))}return E}))}getAllFromCollectionGroup(e,t,r,o){let u=Vn();const c=M0(t,r),m=M0(t,Mn.max());return oa(e).ee({index:aS,range:IDBKeyRange.bound(c,m,!0)},((g,p,E)=>{const T=this.Cr(re.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);u=u.insert(T.key,T),u.size===o&&E.done()})).next((()=>u))}newChangeBuffer(e){return new ax(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return O0(e).get(rp).next((t=>(me(!!t,20021),t)))}Dr(e,t){return O0(e).put(rp,t)}Cr(e,t){if(t){const r=GD(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(pe.min())))return r}return pt.newInvalidDocument(e)}}function S1(s){return new sx(s)}class ax extends A1{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new vr((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(e){const t=[];let r=0,o=new Ze(((u,c)=>Se(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(t.push(this.Nr.removeEntry(e,u,m.readTime)),c.isValidDocument()){const g=p0(this.Nr.serializer,c);o=o.add(u.path.popLast());const p=Lf(g);r+=p-m.size,t.push(this.Nr.addEntry(e,u,g))}else if(r-=m.size,this.trackRemovals){const g=p0(this.Nr.serializer,c.convertToNoDocument(pe.min()));t.push(this.Nr.addEntry(e,u,g))}})),o.forEach((u=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,u))})),t.push(this.Nr.updateMetadata(e,r)),L.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function O0(s){return jt(s,$u)}function oa(s){return jt(s,Rf)}function bu(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function M0(s,e){const t=e.documentKey.path.toArray();return[s,Pf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function P0(s,e){const t=s.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Se(t[u],r[u]),o)return o;return o=Se(t.length,r.length),o||(o=Se(t[t.length-2],r[r.length-2]),o||Se(t[t.length-1],r[r.length-1]))}class ox{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class b1{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&ju(r.mutation,o,En.empty(),Je.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ne()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ne()){const o=Li();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((u=>{let c=Du();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Li();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ne())))}populateOverlays(e,t,r){const o=[];return r.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,r,o){let u=Vn();const c=Bu(),m=(function(){return Bu()})();return t.forEach(((g,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Er)?u=u.insert(p.key,p):E!==void 0?(c.set(p.key,E.mutation.getFieldMask()),ju(E.mutation,p,E.mutation.getFieldMask(),Je.now())):c.set(p.key,En.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>c.set(p,E))),t.forEach(((p,E)=>m.set(p,new ox(E,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=Bu();let o=new st(((c,m)=>c-m)),u=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let E=r.get(g)||En.empty();E=m.applyToLocalView(p,E),r.set(g,E);const T=(o.get(m.batchId)||Ne()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=zS();E.forEach((b=>{if(!u.has(b)){const M=QS(t.get(b),r.get(b));M!==null&&T.set(b,M),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return L.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):L.resolve(Li());let m=qo,g=u;return c.next((p=>L.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?L.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ne()))).next((E=>({batchId:m,changes:US(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next((r=>{let o=Du();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,u).next((m=>L.forEach(m,(g=>{const p=(function(T,b){return new ul(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((E=>{E.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o)))).next((c=>{u.forEach(((g,p)=>{const E=p.getKey();c.get(E)===null&&(c=c.insert(E,pt.newInvalidDocument(E)))}));let m=Du();return c.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&ju(E.mutation,p,En.empty(),Je.now()),dc(t,p)&&(m=m.insert(g,p))})),m}))}}class lx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return L.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hn(o.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:f1(o.bundledQuery),readTime:hn(o.readTime)}})(t)),L.resolve()}}class ux{constructor(){this.overlays=new st(re.comparator),this.qr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Li();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,u)=>{this.St(e,t,u)})),L.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const o=Li(),u=t.length+1,c=new re(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return L.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new st(((p,E)=>p-E));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=Li(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Li(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return L.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Zp(t,r));let u=this.qr.get(t);u===void 0&&(u=Ne(),this.qr.set(t,u)),this.qr.set(t,u.add(r.key))}}class cx{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}}class ry{constructor(){this.Qr=new Ze(Gt.$r),this.Ur=new Ze(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new re(new Ke([])),r=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new re(new Ke([])),r=new Gt(t,e),o=new Gt(t,e+1);let u=Ne();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Gt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return re.comparator(e.key,t.key)||Se(e.Yr,t.Yr)}static Kr(e,t){return Se(e.Yr,t.Yr)||re.comparator(e.key,t.key)}}class hx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(Gt.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Jp(u,t,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(e,t){return L.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?ya:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Se);return t.forEach((o=>{const u=new Gt(o,0),c=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;re.isDocumentKey(u)||(u=u.child(""));const c=new Gt(new re(u),0);let m=new Ze(Se);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),c),L.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){me(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(t.mutations,(o=>{const u=new Gt(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Gt(t,0),o=this.Zr.firstAfterOrEqual(r);return L.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fx{constructor(e){this.ri=e,this.docs=(function(){return new st(re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(t))}getEntries(e,t){let r=Vn();return t.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():pt.newInvalidDocument(o))})),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Vn();const c=t.path,m=new re(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||zp(eS(E),r)<=0||(o.has(E.key)||dc(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(e,t,r,o){ue(9500)}ii(e,t){return L.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new dx(this)}getSize(e){return L.resolve(this.size)}}class dx extends A1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),L.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class mx{constructor(e){this.persistence=e,this.si=new vr((t=>wa(t)),fc),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new ry,this.targetCount=0,this.ai=Da.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),L.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Pr(t),L.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),L.waitFor(u).next((()=>o))}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),L.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this._i.containsKey(t))}}class sy{constructor(e,t){this.ui={},this.overlays={},this.ci=new vn(0),this.li=!1,this.li=!0,this.hi=new cx,this.referenceDelegate=e(this),this.Pi=new mx(this),this.indexManager=new ZD,this.remoteDocumentCache=(function(o){return new fx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c1(t),this.Ii=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ux,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new hx(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);const o=new gx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class gx extends nS{constructor(e){super(),this.currentSequenceNumber=e}}class md{constructor(e){this.persistence=e,this.Ri=new ry,this.Vi=null}static mi(e){return new md(e)}get fi(){if(this.Vi)return this.Vi;throw ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const o=re.fromPath(r);return this.gi(e,o).next((u=>{u||t.removeEntry(o,pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.pi=new vr((r=>on(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=T1(this,t)}static mi(e,t){return new Uf(e,t)}Ei(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return L.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?L.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(r++,u.removeEntry(c,pe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),L.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ff(e.data.value)),t}br(e,t,r){return L.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return L.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class px{constructor(e){this.serializer=e}k(e,t,r,o){const u=new ed("createOrUpgrade",t);r<1&&o>=1&&((function(g){g.createObjectStore(hc)})(e),(function(g){g.createObjectStore(Xu,{keyPath:VC}),g.createObjectStore(oi,{keyPath:KT,autoIncrement:!0}).createIndex(ga,QT,{unique:!0}),g.createObjectStore(Fo)})(e),k0(e),(function(g){g.createObjectStore(ca)})(e));let c=L.resolve();return r<3&&o>=3&&(r!==0&&((function(g){g.deleteObjectStore(Go),g.deleteObjectStore(Ho),g.deleteObjectStore(_a)})(e),k0(e)),c=c.next((()=>(function(g){const p=g.store(_a),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return p.put(Cf,E)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(oi).J().next((T=>{g.deleteObjectStore(oi),g.createObjectStore(oi,{keyPath:KT,autoIncrement:!0}).createIndex(ga,QT,{unique:!0});const b=p.store(oi),M=T.map((G=>b.put(G)));return L.waitFor(M)}))})(e,u)))),c=c.next((()=>{(function(g){g.createObjectStore(Ko,{keyPath:jC})})(e)}))),r<5&&o>=5&&(c=c.next((()=>this.yi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(g){g.createObjectStore($u)})(e),this.wi(u))))),r<7&&o>=7&&(c=c.next((()=>this.Si(u)))),r<8&&o>=8&&(c=c.next((()=>this.bi(e,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&o>=10&&(c=c.next((()=>this.Di(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(nd,{keyPath:qC})})(e),(function(g){g.createObjectStore(id,{keyPath:FC})})(e)}))),r<12&&o>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(rd,{keyPath:$C});p.createIndex(ap,JC,{unique:!1}),p.createIndex(cS,WC,{unique:!1})})(e)}))),r<13&&o>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Rf,{keyPath:MC});p.createIndex(cf,PC),p.createIndex(aS,kC)})(e))).next((()=>this.Ci(e,u))).next((()=>e.deleteObjectStore(ca)))),r<14&&o>=14&&(c=c.next((()=>this.Fi(e,u)))),r<15&&o>=15&&(c=c.next((()=>(function(g){g.createObjectStore(qp,{keyPath:HC,autoIncrement:!0}).createIndex(sp,GC,{unique:!1}),g.createObjectStore(ku,{keyPath:KC}).createIndex(lS,QC,{unique:!1}),g.createObjectStore(Lu,{keyPath:YC}).createIndex(uS,XC,{unique:!1})})(e)))),r<16&&o>=16&&(c=c.next((()=>{t.objectStore(ku).clear()})).next((()=>{t.objectStore(Lu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(Fp,{keyPath:ZC})})(e)}))),r<18&&o>=18&&kA()&&(c=c.next((()=>{t.objectStore(ku).clear()})).next((()=>{t.objectStore(Lu).clear()}))),c}wi(e){let t=0;return e.store(ca).ee(((r,o)=>{t+=Lf(o)})).next((()=>{const r={byteSize:t};return e.store($u).put(rp,r)}))}yi(e){const t=e.store(Xu),r=e.store(oi);return t.J().next((o=>L.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,ya],[u.userId,u.lastAcknowledgedBatchId]);return r.J(ga,c).next((m=>L.forEach(m,(g=>{me(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=fa(this.serializer,g);return p1(e,u.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(Go),r=e.store(ca);return e.store(_a).get(Cf).next((o=>{const u=[];return r.ee(((c,m)=>{const g=new Ke(c),p=(function(T){return[0,on(T)]})(g);u.push(t.get(p).next((E=>E?L.resolve():(T=>t.put({targetId:0,path:on(T),sequenceNumber:o.highestListenSequenceNumber}))(g))))})).next((()=>L.waitFor(u)))}))}bi(e,t){e.createObjectStore(Ju,{keyPath:BC});const r=t.store(Ju),o=new iy,u=c=>{if(o.add(c)){const m=c.lastSegment(),g=c.popLast();return r.put({collectionId:m,parent:on(g)})}};return t.store(ca).ee({X:!0},((c,m)=>{const g=new Ke(c);return u(g.popLast())})).next((()=>t.store(Fo).ee({X:!0},(([c,m,g],p)=>{const E=ki(m);return u(E.popLast())}))))}Di(e){const t=e.store(Ho);return t.ee(((r,o)=>{const u=Nu(o),c=h1(this.serializer,u);return t.put(c)}))}Ci(e,t){const r=t.store(ca),o=[];return r.ee(((u,c)=>{const m=t.store(Rf),g=(function(T){return T.document?new re(Ke.fromString(T.document.name).popFirst(5)):T.noDocument?re.fromSegments(T.noDocument.path):T.unknownDocument?re.fromSegments(T.unknownDocument.path):ue(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(p))})).next((()=>L.waitFor(o)))}Fi(e,t){const r=t.store(oi),o=S1(this.serializer),u=new sy(md.mi,this.serializer.yt);return r.J().next((c=>{const m=new Map;return c.forEach((g=>{let p=m.get(g.userId)??Ne();fa(this.serializer,g).keys().forEach((E=>p=p.add(E))),m.set(g.userId,p)})),L.forEach(m,((g,p)=>{const E=new nn(p),T=fd.wt(this.serializer,E),b=u.getIndexManager(E),M=dd.wt(E,this.serializer,b,u.referenceDelegate);return new b1(o,M,T,b).recalculateAndSaveOverlaysForDocumentKeys(new op(t,vn.ce),g).next()}))}))}}function k0(s){s.createObjectStore(Go,{keyPath:UC}).createIndex(jp,zC,{unique:!0}),s.createObjectStore(Ho,{keyPath:"targetId"}).createIndex(oS,LC,{unique:!0}),s.createObjectStore(_a)}const as="IndexedDbPersistence",Bg=18e5,jg=5e3,qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yx="main";class ay{constructor(e,t,r,o,u,c,m,g,p,E,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=u,this.window=c,this.document=m,this.xi=p,this.Oi=E,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!ay.v())throw new te(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rx(this,o),this.$i=t+yx,this.serializer=new c1(g),this.Ui=new vs(this.$i,this.Ni,new px(this.serializer)),this.hi=new QD,this.Pi=new tx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S1(this.serializer),this.Ii=new KD,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,E===!1&&Tt(as,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(Y.FAILED_PRECONDITION,qg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new vn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>nf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Rs(e))return ee(as,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee(as,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Iu(e).get(bo).next((t=>L.resolve(this.es(t))))}ts(e){return nf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Bg)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=jt(t,Ko);return r.J().next((o=>{const u=this.ss(o,Bg),c=o.filter((m=>u.indexOf(m)===-1));return L.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?L.resolve(!0):Iu(e).get(bo).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,jg)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new te(Y.FAILED_PRECONDITION,qg);return!1}}return!(!this.networkEnabled||!this.inForeground)||nf(e).J().next((r=>this.ss(r,jg).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ee(as,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hc,Ko],(e=>{const t=new op(e,vn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>nf(e).J().next((t=>this.ss(t,Bg).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return dd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ex(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fd.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){ee(as,"Starting transaction:",e);const o=t==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?nD:g===17?mS:g===16?tD:g===15?Hp:g===14?dS:g===13?fS:g===12?eD:g===11?hS:void ue(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,o,u,(m=>(c=new op(m,this.ci?this.ci.next():vn.ce),t==="readwrite-primary"?this.Hi(c).next((g=>!!g||this.Yi(c))).next((g=>{if(!g)throw Tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new te(Y.FAILED_PRECONDITION,tS);return r(c)})).next((g=>this.Xi(c).next((()=>g)))):this.Is(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(e){return Iu(e).get(bo).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,jg)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(Y.FAILED_PRECONDITION,qg)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iu(e).put(bo,t)}static v(){return vs.v()}Zi(e){const t=Iu(e);return t.get(bo).next((r=>this.es(r)?(ee(as,"Releasing primary lease."),t.delete(bo)):L.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;PA()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return ee(as,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Tt(as,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Tt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iu(s){return jt(s,hc)}function nf(s){return jt(s,Ko)}function I1(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class oy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ne(),o=Ne();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new oy(e,t.fromCache,r,o)}}class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PA()?8:iS(Bt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new _x;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(xo()<=ke.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(xo()<=ke.DEBUG&&ee("QueryEngine","Query:",No(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(xo()<=ke.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(t))):L.resolve())}ys(e,t){if(a0(t))return L.resolve(null);let r=On(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Vf(t,null,"F"),r=On(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=Ne(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(t,m);return this.Cs(t,p,c,g.readTime)?this.ys(e,Vf(t,null,"F")):this.vs(e,p,t,g)}))))})))))}ws(e,t,r,o){return a0(t)||o.isEqual(pe.min())?L.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,r,o)?L.resolve(null):(xo()<=ke.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.vs(e,c,t,ZA(o,qo)).next((m=>m)))}))}Ds(e,t){let r=new Ze(kS(e));return t.forEach(((o,u)=>{dc(e,u)&&(r=r.add(u))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,r){return xo()<=ke.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",No(t)),this.ps.getDocumentsMatchingQuery(e,t,Mn.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const ly="LocalStore",vx=3e8;class Ex{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(Se),this.xs=new vr((u=>wa(u)),fc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function R1(s,e,t,r){return new Ex(s,e,t,r)}async function C1(s,e){const t=he(s);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=Ne();for(const p of o){c.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function Tx(s,e){const t=he(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,b=T.keys();let M=L.resolve();return b.forEach((G=>{M=M.next((()=>E.getEntry(g,G))).next((K=>{const Z=p.docVersions.get(G);me(Z!==null,48541),K.version.compareTo(Z)<0&&(T.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ne();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function D1(s){const e=he(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Ax(s,e){const t=he(s),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(St.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,r)),o=o.insert(T,M),(function(K,Z,fe){return K.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=vx?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(b,M,E)&&m.push(t.Pi.updateTargetData(u,M))}));let g=Vn(),p=Ne();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Sx(u,c,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!r.isEqual(pe.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return L.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function Sx(s,e,t){let r=Ne(),o=Ne();return t.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let c=Vn();return t.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(pe.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):ee(ly,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function bx(s,e){const t=he(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ya),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zf(s,e){const t=he(s);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((u=>u?(o=u,L.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new ur(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function tl(s,e,t){const r=he(s),o=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Rs(c))throw c;ee(ly,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Tp(s,e,t){const r=he(s);let o=pe.min(),u=Ne();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,E){const T=he(g),b=T.xs.get(E);return b!==void 0?L.resolve(T.Ms.get(b)):T.Pi.getTargetData(p,E)})(r,c,On(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:pe.min(),t?u:Ne()))).next((m=>(V1(r,PS(e),m),{documents:m,Qs:u})))))}function x1(s,e){const t=he(s),r=he(t.Pi),o=t.Ms.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",(u=>r.At(u,e).next((c=>c?c.target:null))))}function N1(s,e){const t=he(s),r=t.Os.get(e)||pe.min();return t.persistence.runTransaction("Get new document changes","readonly",(o=>t.Ns.getAllFromCollectionGroup(o,e,ZA(r,qo),Number.MAX_SAFE_INTEGER))).then((o=>(V1(t,e,o),o)))}function V1(s,e,t){let r=s.Os.get(e)||pe.min();t.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}const O1="firestore_clients";function L0(s,e){return`${O1}_${s}_${e}`}const M1="firestore_mutations";function U0(s,e,t){let r=`${M1}_${s}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const P1="firestore_targets";function Fg(s,e){return`${P1}_${s}_${e}`}const Mi="SharedClientState";class Bf{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ws(e,t,r){const o=JSON.parse(r);let u,c=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return c&&o.error&&(c=typeof o.error.message=="string"&&typeof o.error.code=="string",c&&(u=new te(o.error.code,o.error.message))),c?new Bf(e,t,o.state,u):(Tt(Mi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let o,u=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return u&&r.error&&(u=typeof r.error.message=="string"&&typeof r.error.code=="string",u&&(o=new te(r.error.code,r.error.message))),u?new qu(e,r.state,o):(Tt(Mi,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let o=typeof r=="object"&&r.activeTargetIds instanceof Array,u=Xp();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=rS(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return o?new jf(e,u):(Tt(Mi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class uy{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new uy(t.clientId,t.onlineState):(Tt(Mi,`Failed to parse online state: ${e}`),null)}}class Ap{constructor(){this.activeTargetIds=Xp()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hg{constructor(e,t,r,o,u){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new st(Se),this.started=!1,this.Xs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.eo=L0(this.persistenceKey,this.Js),this.no=(function(g){return`firestore_sequence_number_${g}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Ap),this.ro=new RegExp(`^${O1}_${c}_([^_]*)$`),this.io=new RegExp(`^${M1}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${P1}_${c}_(\\d+)$`),this.oo=(function(g){return`firestore_online_state_${g}`})(this.persistenceKey),this._o=(function(g){return`firestore_bundle_loaded_v2_${g}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const o=this.getItem(L0(this.persistenceKey,r));if(o){const u=jf.Ws(r,o);u&&(this.Zs=this.Zs.insert(u.clientId,u))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Fg(this.persistenceKey,e));if(o){const u=qu.Ws(e,o);u&&(r=u.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((o=>{this.Po(o)})),this.currentUser=e,r.forEach((o=>{this.addPendingMutation(o)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ee(Mi,"READ",e,t),t}setItem(e,t){ee(Mi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ee(Mi,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ee(Mi,"EVENT",t.key,t.newValue),t.key===this.eo)return void Tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(u){let c=vn.ce;if(u!=null)try{const m=JSON.parse(u);me(typeof m=="number",30636,{So:u}),c=m}catch(m){Tt(Mi,"Failed to read sequence number from WebStorage",m)}return c})(t.newValue);r!==vn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((o=>this.syncEngine.Do(o))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const o=new Bf(this.currentUser,e,t,r),u=U0(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Gs())}Po(e){const t=U0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const o=Fg(this.persistenceKey,e),u=new qu(e,t,r);this.setItem(o,u.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return jf.Ws(r,t)}fo(e,t){const r=this.io.exec(e),o=Number(r[1]),u=r[2]!==void 0?r[2]:null;return Bf.Ws(new nn(u),o,t)}yo(e,t){const r=this.so.exec(e),o=Number(r[1]);return qu.Ws(o,t)}uo(e){return uy.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ee(Mi,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),o=this.lo(this.Zs),u=this.lo(r),c=[],m=[];return u.forEach((g=>{o.has(g)||c.push(g)})),o.forEach((g=>{u.has(g)||m.push(g)})),this.syncEngine.Fo(c,m).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Xp();return e.forEach(((r,o)=>{t=t.unionWith(o.activeTargetIds)})),t}}class k1{constructor(){this.Mo=new Ap,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ap,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ix{Oo(e){}shutdown(){}}const z0="ConnectivityMonitor";class B0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function Sp(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const Gg="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Df?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,u){const c=Sp(),m=this.zo(e,t.toUriEncodedString());ee(Gg,`Sending RPC '${e}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=al(p);return this.Jo(e,m,g,r,E).then((T=>(ee(Gg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ku(Gg,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,t,r,o,u,c){return this.Go(e,t,r,o,u)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const r=wx[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Cx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Dx extends Rx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,u){const c=Sp();return new Promise(((m,g)=>{const p=new HA;p.setWithCredentials(!0),p.listenOnce(GA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case of.NO_ERROR:const T=p.getResponseJson();ee(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case of.TIMEOUT:ee(tn,`RPC '${e}' ${c} timed out`),g(new te(Y.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const b=p.getStatus();if(ee(tn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M?.error;if(G&&G.status&&G.message){const K=(function(fe){const oe=fe.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(oe)>=0?oe:Y.UNKNOWN})(G.status);g(new te(K,G.message))}else g(new te(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new te(Y.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ee(tn,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);ee(tn,`RPC '${e}' ${c} sending request:`,o),p.send(t,"POST",E,r,15)}))}T_(e,t,r){const o=Sp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YA(),m=QA(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const E=u.join("");ee(tn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=c.createWebChannel(E,g);this.I_(T);let b=!1,M=!1;const G=new Cx({Yo:Z=>{M?ee(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(b||(ee(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ee(tn,`RPC '${e}' stream ${o} sending:`,Z),T.send(Z))},Zo:()=>T.close()}),K=(Z,fe,oe)=>{Z.listen(fe,(ie=>{try{oe(ie)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return K(T,Cu.EventType.OPEN,(()=>{M||(ee(tn,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),K(T,Cu.EventType.CLOSE,(()=>{M||(M=!0,ee(tn,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),K(T,Cu.EventType.ERROR,(Z=>{M||(M=!0,Ku(tn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),G.a_(new te(Y.UNAVAILABLE,"The operation could not be completed")))})),K(T,Cu.EventType.MESSAGE,(Z=>{if(!M){const fe=Z.data[0];me(!!fe,16349);const oe=fe,ie=oe?.error||oe[0]?.error;if(ie){ee(tn,`RPC '${e}' stream ${o} received error:`,ie);const _e=ie.status;let Ie=(function(I){const D=Mt[I];if(D!==void 0)return $S(D)})(_e),Ee=ie.message;Ie===void 0&&(Ie=Y.INTERNAL,Ee="Unknown error status: "+_e+" with message "+ie.message),M=!0,G.a_(new te(Ie,Ee)),T.close()}else ee(tn,`RPC '${e}' stream ${o} received:`,fe),G.u_(fe)}})),K(m,KA.STAT_EVENT,(Z=>{Z.stat===tp.PROXY?ee(tn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===tp.NOPROXY&&ee(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function L1(){return typeof window<"u"?window:null}function yf(){return typeof document<"u"?document:null}function gd(s){return new PD(s,!0)}class U1{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const j0="PersistentStream";class z1{constructor(e,t,r,o,u,c,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Tt(t.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new te(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ee(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xx extends z1{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UD(this.serializer,e),r=(function(u){if(!("targetChange"in u))return pe.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?pe.min():c.readTime?hn(c.readTime):pe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=pp(this.serializer),t.addTarget=(function(u,c){let m;const g=c.target;if(m=xf(g)?{documents:r1(u,g)}:{query:s1(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=ZS(u,c.resumeToken);const p=mp(u,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(pe.min())>0){m.readTime=el(u,c.snapshotVersion.toTimestamp());const p=mp(u,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=BD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.q_(t)}}class Nx extends z1{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zD(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Mf(this.serializer,r)))};this.q_(t)}}class Vx{}class Ox extends Vx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new te(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,gp(t,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new te(Y.UNKNOWN,u.toString())}))}Ho(e,t,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,gp(t,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new te(Y.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tt(t),this.aa=!1):ee("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xa="RemoteStore";class Px{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Va(this)&&(ee(xa,"Restarting streams for network reachability change."),await(async function(g){const p=he(g);p.Ea.add(4),await pc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await pd(p)})(this))}))})),this.Ra=new Mx(r,o)}}async function pd(s){if(Va(s))for(const e of s.da)await e(!0)}async function pc(s){for(const e of s.da)await e(!1)}function yd(s,e){const t=he(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),fy(t)?hy(t):fl(t).O_()&&cy(t,e))}function nl(s,e){const t=he(s),r=fl(t);t.Ia.delete(e),r.O_()&&B1(t,e),t.Ia.size===0&&(r.O_()?r.L_():Va(t)&&t.Ra.set("Unknown"))}function cy(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(s).Y_(e)}function B1(s,e){s.Va.Ue(e),fl(s).Z_(e)}function hy(s){s.Va=new ND({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),fl(s).start(),s.Ra.ua()}function fy(s){return Va(s)&&!fl(s).x_()&&s.Ia.size>0}function Va(s){return he(s).Ea.size===0}function j1(s){s.Va=void 0}async function kx(s){s.Ra.set("Online")}async function Lx(s){s.Ia.forEach(((e,t)=>{cy(s,e)}))}async function Ux(s,e){j1(s),fy(s)?(s.Ra.ha(e),hy(s)):s.Ra.set("Unknown")}async function zx(s,e,t){if(s.Ra.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){ee(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qf(s,r)}else if(e instanceof gf?s.Va.Ze(e):e instanceof JS?s.Va.st(e):s.Va.tt(e),!t.isEqual(pe.min()))try{const r=await D1(s.localStore);t.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(St.EMPTY_BYTE_STRING,E.snapshotVersion)),B1(u,g);const T=new ur(E.target,g,p,E.sequenceNumber);cy(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,t)}catch(r){ee(xa,"Failed to raise snapshot:",r),await qf(s,r)}}async function qf(s,e,t){if(!Rs(e))throw e;s.Ea.add(1),await pc(s),s.Ra.set("Offline"),t||(t=()=>D1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ee(xa,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await pd(s)}))}function q1(s,e){return e().catch((t=>qf(s,t,e)))}async function hl(s){const e=he(s),t=Ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ya;for(;Bx(e);)try{const o=await bx(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,jx(e,o)}catch(o){await qf(e,o)}F1(e)&&H1(e)}function Bx(s){return Va(s)&&s.Ta.length<10}function jx(s,e){s.Ta.push(e);const t=Ss(s);t.O_()&&t.X_&&t.ea(e.mutations)}function F1(s){return Va(s)&&!Ss(s).x_()&&s.Ta.length>0}function H1(s){Ss(s).start()}async function qx(s){Ss(s).ra()}async function Fx(s){const e=Ss(s);for(const t of s.Ta)e.ea(t.mutations)}async function Hx(s,e,t){const r=s.Ta.shift(),o=Wp.from(r,e,t);await q1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await hl(s)}async function Gx(s,e){e&&Ss(s).X_&&await(async function(r,o){if((function(c){return CD(c)&&c!==Y.ABORTED})(o.code)){const u=r.Ta.shift();Ss(r).B_(),await q1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hl(r)}})(s,e),F1(s)&&H1(s)}async function q0(s,e){const t=he(s);t.asyncQueue.verifyOperationInProgress(),ee(xa,"RemoteStore received new credentials");const r=Va(t);t.Ea.add(3),await pc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await pd(t)}async function bp(s,e){const t=he(s);e?(t.Ea.delete(2),await pd(t)):e||(t.Ea.add(2),await pc(t),t.Ra.set("Unknown"))}function fl(s){return s.ma||(s.ma=(function(t,r,o){const u=he(t);return u.sa(),new xx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:kx.bind(null,s),t_:Lx.bind(null,s),r_:Ux.bind(null,s),H_:zx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),fy(s)?hy(s):s.Ra.set("Unknown")):(await s.ma.stop(),j1(s))}))),s.ma}function Ss(s){return s.fa||(s.fa=(function(t,r,o){const u=he(t);return u.sa(),new Nx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:qx.bind(null,s),r_:Gx.bind(null,s),ta:Fx.bind(null,s),na:Hx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await hl(s)):(await s.fa.stop(),s.Ta.length>0&&(ee(xa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dy{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new dy(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(s,e){if(Tt("AsyncQueue",`${e}: ${s}`),Rs(s))return new te(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Du(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class F0{constructor(){this.ga=new st(re.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class il{constructor(e,t,r,o,u,c,m,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new il(e,t,ko.emptySet(t),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Kx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Qx{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=he(t),u=o.queries;o.queries=H0(),u.forEach(((c,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new te(Y.ABORTED,"Firestore shutting down"))}}function H0(){return new vr((s=>MS(s)),ld)}async function G1(s,e){const t=he(s);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new Kx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=my(c,`Initialization of query '${No(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&gy(t)}async function K1(s,e){const t=he(s),r=e.query;let o=3;const u=t.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Yx(s,e){const t=he(s);let r=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&gy(t)}function Xx(s,e,t){const r=he(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);r.queries.delete(e)}function gy(s){s.Ca.forEach((e=>{e.next()}))}var Ip,G0;(G0=Ip||(Ip={})).Ma="default",G0.Cache="cache";class Q1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}class Y1{constructor(e){this.key=e}}class X1{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=kS(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new F0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),M=dc(this.query,T)?T:null,G=!!b&&this.mutatedKeys.has(b.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Z=!1;b&&M?b.data.isEqual(M.data)?G!==K&&(r.track({type:3,doc:M}),Z=!0):this.su(b,M)||(r.track({type:2,doc:M}),Z=!0,(g&&this.eu(M,g)>0||p&&this.eu(M,p)<0)&&(m=!0)):!b&&M?(r.track({type:0,doc:M}),Z=!0):b&&!M&&(r.track({type:1,doc:b}),Z=!0,(g||p)&&(m=!0)),Z&&(M?(c=c.add(M),u=K?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,T)=>(function(M,G){const K=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Rt:Z})}};return K(M)-K(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,c.length!==0||p?{snapshot:new il(this.query,e.tu,u,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new X1(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Y1(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dl="SyncEngine";class Jx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wx{constructor(e){this.key=e,this.hu=!1}}class Zx{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new vr((m=>MS(m)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new st(re.comparator),this.Au=new Map,this.Ru=new ry,this.Vu={},this.mu=new Map,this.fu=Da.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eN(s,e,t=!0){const r=_d(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $1(r,e,t,!0),o}async function tN(s,e){const t=_d(s);await $1(t,e,!0,!1)}async function $1(s,e,t,r){const o=await zf(s.localStore,On(e)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await py(s,e,u,c==="current",o.resumeToken)),s.isPrimaryClient&&t&&yd(s.remoteStore,o),m}async function py(s,e,t,r,o){s.pu=(T,b,M)=>(async function(K,Z,fe,oe){let ie=Z.view.ru(fe);ie.Cs&&(ie=await Tp(K.localStore,Z.query,!1).then((({documents:w})=>Z.view.ru(w,ie))));const _e=oe&&oe.targetChanges.get(Z.targetId),Ie=oe&&oe.targetMismatches.get(Z.targetId)!=null,Ee=Z.view.applyChanges(ie,K.isPrimaryClient,_e,Ie);return wp(K,Z.targetId,Ee.au),Ee.snapshot})(s,T,b,M);const u=await Tp(s.localStore,e,!0),c=new $x(e,u.Qs),m=c.ru(u.documents),g=gc.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",o),p=c.applyChanges(m,s.isPrimaryClient,g);wp(s,t,p.au);const E=new Jx(e,t,c);return s.Tu.set(e,E),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),p.snapshot}async function nN(s,e,t){const r=he(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!ld(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await tl(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&nl(r.remoteStore,o.targetId),rl(r,o.targetId)})).catch(ws)):(rl(r,o.targetId),await tl(r.localStore,o.targetId,!0))}async function iN(s,e){const t=he(s),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nl(t.remoteStore,r.targetId))}async function rN(s,e,t){const r=Ey(s);try{const o=await(function(c,m){const g=he(c),p=Je.now(),E=m.reduce(((M,G)=>M.add(G.key)),Ne());let T,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=Vn(),K=Ne();return g.Ns.getEntries(M,E).next((Z=>{G=Z,G.forEach(((fe,oe)=>{oe.isValidDocument()||(K=K.add(fe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,G))).next((Z=>{T=Z;const fe=[];for(const oe of m){const ie=wD(oe,T.get(oe.key).overlayedDocument);ie!=null&&fe.push(new Er(oe.key,ie,bS(ie.value.mapValue),an.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,fe,m)})).next((Z=>{b=Z;const fe=Z.applyToLocalDocumentSet(T,K);return g.documentOverlayCache.saveOverlays(M,Z.batchId,fe)}))})).then((()=>({batchId:b.batchId,changes:US(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.Vu[c.currentUser.toKey()];p||(p=new st(Se)),p=p.insert(m,g),c.Vu[c.currentUser.toKey()]=p})(r,o.batchId,t),await Ds(r,o.changes),await hl(r.remoteStore)}catch(o){const u=my(o,"Failed to persist write");t.reject(u)}}async function J1(s,e){const t=he(s);try{const r=await Ax(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(me(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?me(c.hu,14607):o.removedDocuments.size>0&&(me(c.hu,42227),c.hu=!1))})),await Ds(t,r,e)}catch(r){await ws(r)}}function K0(s,e,t){const r=he(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=he(c);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(p=!0)})),p&&gy(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sN(s,e,t){const r=he(s);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new st(re.comparator);c=c.insert(u,pt.newNoDocument(u,pe.min()));const m=Ne().add(u),g=new mc(pe.min(),new Map,new st(Se),c,m);await J1(r,g),r.du=r.du.remove(u),r.Au.delete(e),vy(r)}else await tl(r.localStore,e,!1).then((()=>rl(r,e,t))).catch(ws)}async function aN(s,e){const t=he(s),r=e.batch.batchId;try{const o=await Tx(t.localStore,e);_y(t,r,null),yy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ds(t,o)}catch(o){await ws(o)}}async function oN(s,e,t){const r=he(s);try{const o=await(function(c,m){const g=he(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(me(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(r.localStore,e);_y(r,e,t),yy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ds(r,o)}catch(o){await ws(o)}}function yy(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function _y(s,e,t){const r=he(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function rl(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),t&&s.Pu.yu(r,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||W1(s,r)}))}function W1(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(nl(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),vy(s))}function wp(s,e,t){for(const r of t)r instanceof Y1?(s.Ru.addReference(r.key,e),lN(s,r)):r instanceof X1?(ee(dl,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||W1(s,r.key)):ue(19791,{wu:r})}function lN(s,e){const t=e.key,r=t.path.canonicalString();s.du.get(t)||s.Eu.has(r)||(ee(dl,"New document in limbo: "+t),s.Eu.add(r),vy(s))}function vy(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new re(Ke.fromString(e)),r=s.fu.next();s.Au.set(r,new Wx(t)),s.du=s.du.insert(t,r),yd(s.remoteStore,new ur(On(od(t.path)),r,"TargetPurposeLimboResolution",vn.ce))}}async function Ds(s,e,t){const r=he(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const E=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=oy.As(g.targetId,p);u.push(E)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,p){const E=he(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>L.forEach(p,(b=>L.forEach(b.Es,(M=>E.persistence.referenceDelegate.addReference(T,b.targetId,M))).next((()=>L.forEach(b.ds,(M=>E.persistence.referenceDelegate.removeReference(T,b.targetId,M)))))))))}catch(T){if(!Rs(T))throw T;ee(ly,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const M=E.Ms.get(b),G=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(b,K)}}})(r.localStore,u))}async function uN(s,e){const t=he(s);if(!t.currentUser.isEqual(e)){ee(dl,"User change. New user:",e.toKey());const r=await C1(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new te(Y.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ds(t,r.Ls)}}function cN(s,e){const t=he(s),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let o=Ne();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}async function hN(s,e){const t=he(s),r=await Tp(t.localStore,e.query,!0),o=e.view.cu(r);return t.isPrimaryClient&&wp(t,e.targetId,o.au),o}async function fN(s,e){const t=he(s);return N1(t.localStore,e).then((r=>Ds(t,r)))}async function dN(s,e,t,r){const o=he(s),u=await(function(m,g){const p=he(m),E=he(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(T=>E.er(T,g).next((b=>b?p.localDocuments.getDocuments(T,b):L.resolve(null)))))})(o.localStore,e);u!==null?(t==="pending"?await hl(o.remoteStore):t==="acknowledged"||t==="rejected"?(_y(o,e,r||null),yy(o,e),(function(m,g){he(he(m).mutationQueue).ir(g)})(o.localStore,e)):ue(6720,"Unknown batchState",{Su:t}),await Ds(o,u)):ee(dl,"Cannot apply mutation batch with id: "+e)}async function mN(s,e){const t=he(s);if(_d(t),Ey(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),o=await Q0(t,r.toArray());t.gu=!0,await bp(t.remoteStore,!0);for(const u of o)yd(t.remoteStore,u)}else if(e===!1&&t.gu!==!1){const r=[];let o=Promise.resolve();t.Iu.forEach(((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then((()=>(rl(t,c),tl(t.localStore,c,!0)))),nl(t.remoteStore,c)})),await o,await Q0(t,r),(function(c){const m=he(c);m.Au.forEach(((g,p)=>{nl(m.remoteStore,p)})),m.Ru.Jr(),m.Au=new Map,m.du=new st(re.comparator)})(t),t.gu=!1,await bp(t.remoteStore,!1)}}async function Q0(s,e,t){const r=he(s),o=[],u=[];for(const c of e){let m;const g=r.Iu.get(c);if(g&&g.length!==0){m=await zf(r.localStore,On(g[0]));for(const p of g){const E=r.Tu.get(p),T=await hN(r,E);T.snapshot&&u.push(T.snapshot)}}else{const p=await x1(r.localStore,c);m=await zf(r.localStore,p),await py(r,Z1(p),c,!1,m.resumeToken)}o.push(m)}return r.Pu.H_(u),o}function Z1(s){return VS(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function gN(s){return(function(t){return he(he(t).persistence).Ts()})(he(s).localStore)}async function pN(s,e,t,r){const o=he(s);if(o.gu)return void ee(dl,"Ignoring unexpected query state notification.");const u=o.Iu.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=await N1(o.localStore,PS(u[0])),m=mc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",St.EMPTY_BYTE_STRING);await Ds(o,c,m);break}case"rejected":await tl(o.localStore,e,!0),rl(o,e,r);break;default:ue(64155,t)}}async function yN(s,e,t){const r=_d(s);if(r.gu){for(const o of e){if(r.Iu.has(o)&&r.sharedClientState.isActiveQueryTarget(o)){ee(dl,"Adding an already active target "+o);continue}const u=await x1(r.localStore,o),c=await zf(r.localStore,u);await py(r,Z1(u),c.targetId,!1,c.resumeToken),yd(r.remoteStore,c)}for(const o of t)r.Iu.has(o)&&await tl(r.localStore,o,!1).then((()=>{nl(r.remoteStore,o),rl(r,o)})).catch(ws)}}function _d(s){const e=he(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=Yx.bind(null,e.eventManager),e.Pu.yu=Xx.bind(null,e.eventManager),e}function Ey(s){const e=he(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return R1(this.persistence,new w1,e.initialUser,this.serializer)}Cu(e){return new sy(md.mi,this.serializer)}Du(e){return new k1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class _N extends rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){me(this.persistence.referenceDelegate instanceof Uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E1(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new sy((r=>Uf.mi(r,t)),this.serializer)}}class eb extends rc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Ey(this.xu.syncEngine),await hl(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return R1(this.persistence,new w1,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new E1(r,e.asyncQueue,t)}Mu(e,t){const r=new xC(t,this.persistence);return new DC(e.asyncQueue,r)}Cu(e){const t=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new ay(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,L1(),yf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new k1}}class vN extends eb{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Hg&&(this.sharedClientState.syncEngine={Co:dN.bind(null,t),vo:pN.bind(null,t),Fo:yN.bind(null,t),Ts:gN.bind(null,t),Do:fN.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await mN(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=L1();if(!Hg.v(t))throw new te(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await bp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Qx})()}createDatastore(e){const t=gd(e.databaseInfo.databaseId),r=(function(u){return new Dx(u)})(e.databaseInfo);return(function(u,c,m,g){return new Ox(u,c,m,g)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,u,c,m){return new Px(r,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>K0(this.syncEngine,t,0)),(function(){return B0.v()?new B0:new Ix})())}createSyncEngine(e,t){return(function(o,u,c,m,g,p,E){const T=new Zx(o,u,c,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=he(t);ee(xa,"RemoteStore shutting down."),r.Ea.add(5),await pc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sc.provider={build:()=>new sc};class tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const bs="FirestoreClient";class EN{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ee(bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ee(bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=my(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kg(s,e){s.asyncQueue.verifyOperationInProgress(),ee(bs,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await C1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Y0(s,e){s.asyncQueue.verifyOperationInProgress();const t=await TN(s);ee(bs,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((r=>q0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>q0(e.remoteStore,o))),s._onlineComponents=e}async function TN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee(bs,"Using user provided OfflineComponentProvider");try{await Kg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ku("Error using user provided cache. Falling back to memory cache: "+t),await Kg(s,new rc)}}else ee(bs,"Using default OfflineComponentProvider"),await Kg(s,new _N(void 0));return s._offlineComponents}async function nb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee(bs,"Using user provided OnlineComponentProvider"),await Y0(s,s._uninitializedComponentsProvider._online)):(ee(bs,"Using default OnlineComponentProvider"),await Y0(s,new sc))),s._onlineComponents}function AN(s){return nb(s).then((e=>e.syncEngine))}async function Rp(s){const e=await nb(s),t=e.eventManager;return t.onListen=eN.bind(null,e.syncEngine),t.onUnlisten=nN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iN.bind(null,e.syncEngine),t}function SN(s,e,t={}){const r=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const E=new tb({next:b=>{E.Nu(),c.enqueueAndForget((()=>K1(u,T))),b.fromCache&&g.source==="server"?p.reject(new te(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Q1(m,E,{includeMetadataChanges:!0,qa:!0});return G1(u,T)})(await Rp(s),s.asyncQueue,e,t,r))),r.promise}function ib(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const X0=new Map;const bN="firestore.googleapis.com",$0=!0;class J0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bN,this.ssl=$0}else this.host=e.host,this.ssl=e.ssl??$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v1)throw new te(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ty{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yC;switch(r.type){case"firstParty":return new EC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=X0.get(t);r&&(ee("ComponentProvider","Removing Datastore"),X0.delete(t),r.terminate())})(this),Promise.resolve()}}class Tr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class At{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cc(t,At._jsonSchema))return new At(e,r||null,new re(Ke.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Pt("string",At._jsonSchemaVersion),referencePath:Pt("string")};class Es extends Tr{constructor(e,t,r){super(e,t,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new re(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Fu(s,e,...t){if(s=Kt(s),JA("collection","path",e),s instanceof Ty){const r=Ke.fromString(e,...t);return jT(r),new Es(s,null,r)}{if(!(s instanceof At||s instanceof Es))throw new te(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ke.fromString(e,...t));return jT(r),new Es(s.firestore,null,r)}}function sl(s,e,...t){if(s=Kt(s),arguments.length===1&&(e=Up.newId()),JA("doc","path",e),s instanceof Ty){const r=Ke.fromString(e,...t);return BT(r),new At(s,null,new re(r))}{if(!(s instanceof At||s instanceof Es))throw new te(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ke.fromString(e,...t));return BT(r),new At(s.firestore,s instanceof Es?s.converter:null,new re(r))}}const W0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U1(this,"async_queue_retry"),this._c=()=>{const r=yf();r&&ee(W0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rs(e))throw e;ee(W0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Tt("INTERNAL UNHANDLED ERROR: ",eA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=dy.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ue(47125,{Pc:eA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function eA(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function tA(s){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Is extends Ty{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function IN(s,e,t){t||(t=Df);const r=kp(s,"firestore");if(r.isInitialized(t)){const o=r.getImmediate({identifier:t}),u=r.getOptions(t);if(Aa(u,e))return o;throw new te(Y.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new te(Y.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v1)throw new te(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&al(e.host)&&OA(e.host),r.initialize({options:e,instanceIdentifier:t})}function Ay(s){if(s._terminated)throw new te(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wN(s),s._firestoreClient}function wN(s){const e=s._freezeSettings(),t=(function(o,u,c,m){return new rD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ib(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new EN(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(St.fromBase64String(e))}catch(t){throw new te(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pt("string",Yn._jsonSchemaVersion),bytes:Pt("string")};class vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._methodName=e}}class Ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class zi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zi(e.vectorValues);throw new te(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Pt("string",zi._jsonSchemaVersion),vectorValues:Pt("object")};const RN=/^__.*__$/;class CN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,t,this.fieldTransforms):new cl(e,this.data,t,this.fieldTransforms)}}class rb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Er(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ac:s})}}class Sy{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sb(this.Ac)&&RN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gd(e)}Cc(e,t,r,o=!1){return new Sy({Ac:e,methodName:t,Dc:r,path:dt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(s){const e=s._freezeSettings(),t=gd(s._databaseId);return new DN(s._databaseId,!!e.ignoreUndefinedProperties,t)}function ab(s,e,t,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,e,t,o);Iy("Data must be an object, but it was:",c,r);const m=ob(r,c);let g,p;if(u.merge)g=new En(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=Cp(e,T,t);if(!c.contains(b))throw new te(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ub(E,b)||E.push(b)}g=new En(E),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new CN(new sn(m),g,p)}class Ad extends Ed{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}class by extends Ed{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Zo(e.serializer,jS(e.serializer,this.Fc));return new KS(e.path,t)}isEqual(e){return e instanceof by&&this.Fc===e.Fc}}function xN(s,e,t,r){const o=s.Cc(1,e,t);Iy("Data must be an object, but it was:",o,r);const u=[],c=sn.empty();Cs(r,((g,p)=>{const E=wy(e,g,t);p=Kt(p);const T=o.yc(E);if(p instanceof Ad)u.push(E);else{const b=yc(p,T);b!=null&&(u.push(E),c.set(E,b))}}));const m=new En(u);return new rb(c,m,o.fieldTransforms)}function NN(s,e,t,r,o,u){const c=s.Cc(1,e,t),m=[Cp(e,r,t)],g=[o];if(u.length%2!=0)throw new te(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Cp(e,u[b])),g.push(u[b+1]);const p=[],E=sn.empty();for(let b=m.length-1;b>=0;--b)if(!ub(p,m[b])){const M=m[b];let G=g[b];G=Kt(G);const K=c.yc(M);if(G instanceof Ad)p.push(M);else{const Z=yc(G,K);Z!=null&&(p.push(M),E.set(M,Z))}}const T=new En(p);return new rb(E,T,c.fieldTransforms)}function VN(s,e,t,r=!1){return yc(t,s.Cc(r?4:3,e))}function yc(s,e){if(lb(s=Kt(s)))return Iy("Unsupported field value:",e,s),ob(s,e);if(s instanceof Ed)return(function(r,o){if(!sb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=yc(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Je.fromDate(r);return{timestampValue:el(o.serializer,u)}}if(r instanceof Je){const u=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:el(o.serializer,u)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:ZS(o.serializer,r._byteString)};if(r instanceof At){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ty(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zi)return(function(c,m){return{mapValue:{fields:{[Kp]:{stringValue:Qp},[Qo]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return $p(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Zf(r)}`)})(s,e)}function ob(s,e){const t={};return gS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(s,((r,o)=>{const u=yc(o,e.mc(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function lb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Je||s instanceof Ui||s instanceof Yn||s instanceof At||s instanceof Ed||s instanceof zi)}function Iy(s,e,t){if(!lb(t)||!WA(t)){const r=Zf(t);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Cp(s,e,t){if((e=Kt(e))instanceof vd)return e._internalPath;if(typeof e=="string")return wy(s,e);throw Ff("Field path arguments must be of type string or ",s,!1,void 0,t)}const ON=new RegExp("[~\\*/\\[\\]]");function wy(s,e,t){if(e.search(ON)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new vd(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ff(s,e,t,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new te(Y.INVALID_ARGUMENT,m+s+g)}function ub(s,e){return s.some((t=>t.isEqual(e)))}class cb{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MN extends cb{data(){return super.data()}}function Sd(s,e){return typeof e=="string"?wy(s,e):e instanceof vd?e._internalPath:e._delegate._internalPath}function hb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new te(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ry{}class Cy extends Ry{}function fb(s,e,...t){let r=[];e instanceof Ry&&r.push(e),r=r.concat(t),(function(u){const c=u.filter((g=>g instanceof Dy)).length,m=u.filter((g=>g instanceof bd)).length;if(c>1||c>0&&m>0)throw new te(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class bd extends Cy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bd(e,t,r)}_apply(e){const t=this._parse(e);return mb(e._query,t),new Tr(e.firestore,e.converter,dp(e._query,t))}_parse(e){const t=Td(e.firestore);return(function(u,c,m,g,p,E,T){let b;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new te(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iA(T,E);const G=[];for(const K of T)G.push(nA(g,u,K));b={arrayValue:{values:G}}}else b=nA(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iA(T,E),b=VN(m,c,T,E==="in"||E==="not-in");return Le.create(p,E,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function db(s,e,t){const r=e,o=Sd("where",s);return bd._create(o,r,t)}class Dy extends Ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:We.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const g of m)mb(c,g),c=dp(c,g)})(e._query,t),new Tr(e.firestore,e.converter,dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends Cy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xy(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new te(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new te(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(u,c)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function RM(s,e="asc"){const t=e,r=Sd("orderBy",s);return xy._create(r,t)}class Ny extends Cy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ny(e,t,r)}_apply(e){return new Tr(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function CM(s){return Ny._create("limit",s,"F")}function nA(s,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new te(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&t.indexOf("/")!==-1)throw new te(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ke.fromString(t));if(!re.isDocumentKey(r))throw new te(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ec(s,new re(r))}if(t instanceof At)return ec(s,t._key);throw new te(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(t)}.`)}function iA(s,e){if(!Array.isArray(s)||s.length===0)throw new te(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mb(s,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new te(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PN{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cs(e,((o,u)=>{r[o]=this.convertValue(u,t)})),r}convertVectorValue(e){const t=e.fields?.[Qo].arrayValue?.values?.map((r=>ft(r.doubleValue)));return new zi(t)}convertGeoPoint(e){return new Ui(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=mr(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ke.fromString(e);me(u1(r),9688,{name:e});const o=new Ia(r.get(1),r.get(3)),u=new re(r.popFirst(5));return o.isEqual(t)||Tt(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function gb(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends cb{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Pt("string",Ea._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class _f extends Ea{data(e={}){return super.data(e)}}class Ta{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new _f(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new _f(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new _f(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:kN(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:s})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Pt("string",Ta._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Vy extends PN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function DM(s){s=ui(s,Tr);const e=ui(s.firestore,Is),t=Ay(e),r=new Vy(e);return hb(s._query),SN(t,s._query).then((o=>new Ta(e,r,s,o)))}function rA(s,e,t){s=ui(s,At);const r=ui(s.firestore,Is),o=gb(s.converter,e,t);return Id(r,[ab(Td(r),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,an.none())])}function LN(s,e,t,...r){s=ui(s,At);const o=ui(s.firestore,Is),u=Td(o);let c;return c=typeof(e=Kt(e))=="string"||e instanceof vd?NN(u,"updateDoc",s._key,e,t,r):xN(u,"updateDoc",s._key,e),Id(o,[c.toMutation(s._key,an.exists(!0))])}function pb(s){return Id(ui(s.firestore,Is),[new hd(s._key,an.none())])}function Dp(s,e){const t=ui(s.firestore,Is),r=sl(s),o=gb(s.converter,e);return Id(t,[ab(Td(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function Oy(s,...e){s=Kt(s);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tA(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tA(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,c,m;if(s instanceof At)c=ui(s.firestore,Is),m=od(s._key.path),u={next:g=>{e[r]&&e[r](UN(c,s,g))},error:e[r+1],complete:e[r+2]};else{const g=ui(s,Tr);c=ui(g.firestore,Is),m=g._query;const p=new Vy(c);u={next:E=>{e[r]&&e[r](new Ta(c,p,g,E))},error:e[r+1],complete:e[r+2]},hb(s._query)}return(function(p,E,T,b){const M=new tb(b),G=new Q1(E,M,T);return p.asyncQueue.enqueueAndForget((async()=>G1(await Rp(p),G))),()=>{M.Nu(),p.asyncQueue.enqueueAndForget((async()=>K1(await Rp(p),G)))}})(Ay(c),m,o,u)}function Id(s,e){return(function(r,o){const u=new fr;return r.asyncQueue.enqueueAndForget((async()=>rN(await AN(r),o,u))),u.promise})(Ay(s),e)}function UN(s,e,t){const r=t.docs.get(e._key),o=new Vy(s);return new Ea(s,o,e._key,r,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}class zN{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=FN(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function BN(s){return new zN(s)}class jN{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sc.provider,this._offlineComponentProvider={build:t=>new eb(t,e?.cacheSizeBytes,this.forceOwnership)}}}class qN{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sc.provider,this._offlineComponentProvider={build:t=>new vN(t,e?.cacheSizeBytes)}}}function FN(s){return new jN(s?.forceOwnership)}function HN(){return new qN}function xM(s){return new by("increment",s)}(function(e,t=!0){(function(o){ll=o})(ol),Bo(new Sa("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Is(new _C(r.getProvider("auth-internal")),new TC(c,r.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new te(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(p.options.projectId,E)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ys(kT,LT,e),ys(kT,LT,"esm2020")})();function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=yb,_b=new lc("auth","Firebase",yb());const Hf=new Mp("@firebase/auth");function KN(s,...e){Hf.logLevel<=ke.WARN&&Hf.warn(`Auth (${ol}): ${s}`,...e)}function vf(s,...e){Hf.logLevel<=ke.ERROR&&Hf.error(`Auth (${ol}): ${s}`,...e)}function ci(s,...e){throw My(s,...e)}function Bi(s,...e){return My(s,...e)}function vb(s,e,t){const r={...GN(),[e]:t};return new lc("auth","Firebase",r).create(e,{appName:s.name})}function ji(s){return vb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return _b.create(s,...e)}function Te(s,e,...t){if(!s)throw My(e,...t)}function cr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw vf(e),new Error(e)}function pr(s,e){s||cr(e)}function xp(){return typeof self<"u"&&self.location?.href||""}function QN(){return sA()==="http:"||sA()==="https:"}function sA(){return typeof self<"u"&&self.location?.protocol||null}function YN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QN()||YR()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=KR()||XR()}get(){return YN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Py(s,e){pr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Eb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WN=new _c(3e4,6e4);function Ar(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sr(s,e,t,r,o={}){return Tb(s,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const m=uc({key:s.config.apiKey,...c}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:g,...u};return QR()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(p.credentials="include"),Eb.fetch()(await Ab(s,s.config.apiHost,t,m),p)})}async function Tb(s,e,t){s._canInitEmulator=!1;const r={...$N,...e};try{const o=new eV(s),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw sf(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(s,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw sf(s,"email-already-in-use",c);if(g==="USER_DISABLED")throw sf(s,"user-disabled",c);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vb(s,E,p);ci(s,E)}}catch(o){if(o instanceof _r)throw o;ci(s,"network-request-failed",{message:String(o)})}}async function vc(s,e,t,r,o={}){const u=await Sr(s,e,t,r,o);return"mfaPendingCredential"in u&&ci(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ab(s,e,t,r){const o=`${e}${t}?${r}`,u=s,c=u.config.emulator?Py(s.config,o):`${s.config.apiScheme}://${o}`;return JN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function ZN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),WN.get())})}}function sf(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Bi(s,e,r);return o.customData._tokenResponse=t,o}function aA(s){return s!==void 0&&s.enterprise!==void 0}class tV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nV(s,e){return Sr(s,"GET","/v2/recaptchaConfig",Ar(s,e))}async function iV(s,e){return Sr(s,"POST","/v1/accounts:delete",e)}async function Gf(s,e){return Sr(s,"POST","/v1/accounts:lookup",e)}function Hu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(s,e=!1){const t=Kt(s),r=await t.getIdToken(e),o=ky(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Hu(Qg(o.auth_time)),issuedAtTime:Hu(Qg(o.iat)),expirationTime:Hu(Qg(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qg(s){return Number(s)*1e3}function ky(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const o=DA(t);return o?JSON.parse(o):(vf("Failed to decode base64 JWT payload"),null)}catch(o){return vf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function oA(s){const e=ky(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ac(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _r&&sV(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function sV({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class aV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kf(s){const e=s.auth,t=await s.getIdToken(),r=await ac(s,Gf(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?Sb(o.providerUserInfo):[],c=lV(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!c?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function oV(s){const e=Kt(s);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lV(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Sb(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function uV(s,e){const t=await Tb(s,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await Ab(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(g.credentials="include"),Eb.fetch()(c,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cV(s,e){return Sr(s,"POST","/v2/accounts:revokeToken",Ar(s,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=oA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await uV(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,c=new Lo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return cr("not implemented")}}function os(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new aV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rV(this,e)}reload(){return oV(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await ac(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:M,providerData:G,stsTokenManager:K}=t;Te(T&&K,e,"internal-error");const Z=Lo.fromJSON(this.name,K);Te(typeof T=="string",e,"internal-error"),os(r,e.name),os(o,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof M=="boolean",e,"internal-error"),os(u,e.name),os(c,e.name),os(m,e.name),os(g,e.name),os(p,e.name),os(E,e.name);const fe=new li({uid:T,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:M,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(fe.providerData=G.map(oe=>({...oe}))),g&&(fe._redirectEventId=g),fe}static async _fromIdTokenResponse(e,t,r=!1){const o=new Lo;o.updateFromServerResponse(t);const u=new li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Kf(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Sb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Lo;m.updateFromIdToken(r);const g=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const lA=new Map;function hr(s){pr(s instanceof Function,"Expected a class definition");let e=lA.get(s);return e?(pr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,lA.set(s,e),e)}class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bb.type="NONE";const uA=bb;function Ef(s,e,t){return`firebase:${s}:${e}:${t}`}class Uo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ef(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ef("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gf(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Uo(hr(uA),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||hr(uA);const c=Ef(r,e.config.apiKey,e.name);let m=null;for(const p of t)try{const E=await p._get(c);if(E){let T;if(typeof E=="string"){const b=await Gf(e,{idToken:E}).catch(()=>{});if(!b)break;T=await li._fromGetAccountInfoResponse(e,b,E)}else T=li._fromJSON(e,E);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Uo(u,e,r):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Uo(u,e,r))}}function cA(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Nb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||Rb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function Ib(s=Bt()){return/firefox\//i.test(s)}function wb(s=Bt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rb(s=Bt()){return/crios\//i.test(s)}function Cb(s=Bt()){return/iemobile/i.test(s)}function Db(s=Bt()){return/android/i.test(s)}function xb(s=Bt()){return/blackberry/i.test(s)}function Nb(s=Bt()){return/webos/i.test(s)}function Ly(s=Bt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hV(s=Bt()){return Ly(s)&&!!window.navigator?.standalone}function fV(){return $R()&&document.documentMode===10}function Vb(s=Bt()){return Ly(s)||Db(s)||Nb(s)||xb(s)||/windows phone/i.test(s)||Cb(s)}function Ob(s,e=[]){let t;switch(s){case"Browser":t=cA(Bt());break;case"Worker":t=`${cA(Bt())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${r}`}class dV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((c,m)=>{try{const g=e(u);c(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function mV(s,e={}){return Sr(s,"GET","/v2/passwordPolicy",Ar(s,e))}const gV=6;class pV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class yV{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hA(this),this.idTokenSubscription=new hA(this),this.beforeStateQueue=new dV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gf(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(ji(this));const t=e?Kt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mV(this),t=new pV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function br(s){return Kt(s)}class hA{constructor(e){this.auth=e,this.observer=null,this.addObserver=n2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _V(s){wd=s}function Mb(s){return wd.loadJS(s)}function vV(){return wd.recaptchaEnterpriseScript}function EV(){return wd.gapiScript}function TV(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class AV{constructor(){this.enterprise=new SV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bV="recaptcha-enterprise",Pb="NO_RECAPTCHA";class IV{constructor(e){this.type=bV,this.auth=br(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{nV(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new tV(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,c(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,c,m){const g=window.grecaptcha;aA(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{c(p)}).catch(()=>{c(Pb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AV().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!t&&aA(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=vV();g.length!==0&&(g+=m),Mb(g).then(()=>{o(m,u,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function fA(s,e,t,r=!1,o=!1){const u=new IV(s);let c;if(o)c=Pb;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qf(s,e,t,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fA(s,e,t,t==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fA(s,e,t,t==="getOobCode");return r(s,c)}else return Promise.reject(u)})}function wV(s,e){const t=kp(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Aa(u,e??{}))return o;ci(o,"already-initialized")}return t.initialize({options:e})}function RV(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function CV(s,e,t){const r=br(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=kb(e),{host:c,port:m}=DV(e),g=m===null?"":`:${m}`,p={url:`${u}//${c}${g}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Aa(p,r.config.emulator)&&Aa(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,al(c)?(OA(`${u}//${c}${g}`),GR("Auth",!0)):xV()}function kb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function DV(s){const e=kb(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:dA(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:dA(c)}}}function dA(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function xV(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,t){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function NV(s,e){return Sr(s,"POST","/v1/accounts:signUp",e)}async function VV(s,e){return vc(s,"POST","/v1/accounts:signInWithPassword",Ar(s,e))}async function OV(s,e){return Sr(s,"POST","/v1/accounts:sendOobCode",Ar(s,e))}async function MV(s,e){return OV(s,e)}async function PV(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",Ar(s,e))}async function kV(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",Ar(s,e))}class oc extends Uy{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new oc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,t,"signInWithPassword",VV);case"emailLink":return PV(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",NV);case"emailLink":return kV(e,{idToken:t,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(s,e){return vc(s,"POST","/v1/accounts:signInWithIdp",Ar(s,e))}const LV="http://localhost";class Na extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=t;if(!r||!o)return null;const c=new Na(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return zo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:LV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uc(t)}return e}}function UV(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(s){const e=wu(Ru(s)).link,t=e?wu(Ru(e)).deep_link_id:null,r=wu(Ru(s)).deep_link_id;return(r?wu(Ru(r)).link:null)||r||t||e||s}class zy{constructor(e){const t=wu(Ru(e)),r=t.apiKey??null,o=t.oobCode??null,u=UV(t.mode??null);Te(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zV(e);try{return new zy(t)}catch{return null}}}class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=zy.parseLink(t);return Te(r,"argument-error"),oc._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ec extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Ec{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class cs extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return cs.credential(t,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class hs extends Ec{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class fs extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fs.credential(t,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function Ub(s,e){return vc(s,"POST","/v1/accounts:signUp",Ar(s,e))}class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await li._fromIdTokenResponse(e,r,o),c=mA(r);return new yr({user:u,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=mA(r);return new yr({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function mA(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function BV(s){if(Nn(s.app))return Promise.reject(ji(s));const e=br(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new yr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await Ub(e,{returnSecureToken:!0}),r=await yr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Yf extends _r{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Yf(e,t,r,o)}}function zb(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(s,u,e,r):u})}async function jV(s,e,t=!1){const r=await ac(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return yr._forOperation(s,"link",r)}async function qV(s,e,t=!1){const{auth:r}=s;if(Nn(r.app))return Promise.reject(ji(r));const o="reauthenticate";try{const u=await ac(s,zb(r,o,e,s),t);Te(u.idToken,r,"internal-error");const c=ky(u.idToken);Te(c,r,"internal-error");const{sub:m}=c;return Te(s.uid===m,r,"user-mismatch"),yr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(r,"user-mismatch"),u}}async function Bb(s,e,t=!1){if(Nn(s.app))return Promise.reject(ji(s));const r="signIn",o=await zb(s,r,e),u=await yr._fromIdTokenResponse(s,r,o);return t||await s._updateCurrentUser(u.user),u}async function FV(s,e){return Bb(br(s),e)}async function jb(s){const e=br(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HV(s,e,t){const r=br(s);await Qf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",MV)}async function GV(s,e,t){if(Nn(s.app))return Promise.reject(ji(s));const r=br(s),c=await Qf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ub).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&jb(s),g}),m=await yr._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function KV(s,e,t){return Nn(s.app)?Promise.reject(ji(s)):FV(Kt(s),ml.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jb(s),r})}function QV(s,e,t,r){return Kt(s).onIdTokenChanged(e,t,r)}function YV(s,e,t){return Kt(s).beforeAuthStateChanged(e,t)}function XV(s,e,t,r){return Kt(s).onAuthStateChanged(e,t,r)}const Xf="__sak";class qb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $V=1e3,JV=10;class Fb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);fV()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JV):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fb.type="LOCAL";const WV=Fb;class Hb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hb.type="SESSION";const Gb=Hb;function ZV(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async p=>p(t.origin,u)),g=await ZV(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];function By(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}class eO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const p=By("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function qi(){return window}function tO(s){qi().location.href=s}function Kb(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function nO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iO(){return navigator?.serviceWorker?.controller||null}function rO(){return Kb()?self:null}const Qb="firebaseLocalStorageDb",sO=1,$f="firebaseLocalStorage",Yb="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cd(s,e){return s.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function aO(){const s=indexedDB.deleteDatabase(Qb);return new Tc(s).toPromise()}function Vp(){const s=indexedDB.open(Qb,sO);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore($f,{keyPath:Yb})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains($f)?e(r):(r.close(),await aO(),e(await Vp()))})})}async function gA(s,e,t){const r=Cd(s,!0).put({[Yb]:e,value:t});return new Tc(r).toPromise()}async function oO(s,e){const t=Cd(s,!1).get(e),r=await new Tc(t).toPromise();return r===void 0?null:r.value}function pA(s,e){const t=Cd(s,!0).delete(e);return new Tc(t).toPromise()}const lO=800,uO=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(rO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nO(),!this.activeServiceWorker)return;this.sender=new eO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await gA(e,Xf,"1"),await pA(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>gA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cd(o,!1).getAll();return new Tc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const cO=Xb;new _c(3e4,6e4);function hO(s,e){return e?hr(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jy extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fO(s){return Bb(s.auth,new jy(s),s.bypassAuthState)}function dO(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),qV(t,new jy(s),s.bypassAuthState)}async function mO(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),jV(t,new jy(s),s.bypassAuthState)}class $b{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fO;case"linkViaPopup":case"linkViaRedirect":return mO;case"reauthViaPopup":case"reauthViaRedirect":return dO;default:ci(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gO=new _c(2e3,1e4);class Po extends $b{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gO.get())};e()}}Po.currentPopupAction=null;const pO="pendingRedirect",Tf=new Map;class yO extends $b{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await _O(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _O(s,e){const t=TO(e),r=EO(s);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function vO(s,e){Tf.set(s._key(),e)}function EO(s){return hr(s._redirectPersistence)}function TO(s){return Ef(pO,s.config.apiKey,s.name)}async function AO(s,e,t=!1){if(Nn(s.app))return Promise.reject(ji(s));const r=br(s),o=hO(r,e),c=await new yO(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const SO=600*1e3;class bO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Jb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Bi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}}function yA(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Jb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function IO(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(s);default:return!1}}async function wO(s,e={}){return Sr(s,"GET","/v1/projects",e)}const RO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function DO(s){if(s.config.emulator)return;const{authorizedDomains:e}=await wO(s);for(const t of e)try{if(xO(t))return}catch{}ci(s,"unauthorized-domain")}function xO(s){const e=xp(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!CO.test(t))return!1;if(RO.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const NO=new _c(3e4,6e4);function _A(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function VO(s){return new Promise((e,t)=>{function r(){_A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_A(),t(Bi(s,"network-request-failed"))},timeout:NO.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const o=TV("iframefcb");return qi()[o]=()=>{gapi.load?r():t(Bi(s,"network-request-failed"))},Mb(`${EV()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Af=null,e})}let Af=null;function OO(s){return Af=Af||VO(s),Af}const MO=new _c(5e3,15e3),PO="__/auth/iframe",kO="emulator/auth/iframe",LO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zO(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Py(e,kO):`https://${s.config.authDomain}/${PO}`,r={apiKey:e.apiKey,appName:s.name,v:ol},o=UO.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${uc(r).slice(1)}`}async function BO(s){const e=await OO(s),t=qi().gapi;return Te(t,s,"internal-error"),e.open({where:document.body,url:zO(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Bi(s,"network-request-failed"),m=qi().setTimeout(()=>{u(c)},MO.get());function g(){qi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(c)})}))}const jO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qO=500,FO=600,HO="_blank",GO="http://localhost";class vA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KO(s,e,t,r=qO,o=FO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...jO,width:r.toString(),height:o.toString(),top:u,left:c},p=Bt().toLowerCase();t&&(m=Rb(p)?HO:t),Ib(p)&&(e=e||GO,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[M,G])=>`${b}${M}=${G},`,"");if(hV(p)&&m!=="_self")return QO(e||"",m),new vA(null);const T=window.open(e||"",m,E);Te(T,s,"popup-blocked");try{T.focus()}catch{}return new vA(T)}function QO(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const YO="__/auth/handler",XO="emulator/auth/handler",$O=encodeURIComponent("fac");async function EA(s,e,t,r,o,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:ol,eventId:o};if(e instanceof Lb){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",t2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof Ec){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),p=g?`#${$O}=${encodeURIComponent(g)}`:"";return`${JO(s)}?${uc(m).slice(1)}${p}`}function JO({config:s}){return s.emulator?Py(s,XO):`https://${s.authDomain}/${YO}`}const Yg="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gb,this._completeRedirectFn=AO,this._overrideRedirectResult=vO}async _openPopup(e,t,r,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await EA(e,t,r,xp(),o);return KO(e,u,By())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await EA(e,t,r,xp(),o);return tO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await BO(e),r=new bO(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yg,{type:Yg},o=>{const u=o?.[0]?.[Yg];u!==void 0&&t(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vb()||wb()||Ly()}}const ZO=WO;var TA="@firebase/auth",AA="1.12.0";class eM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tM(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nM(s){Bo(new Sa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(s)},p=new yV(r,o,u,g);return RV(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new Sa("auth-internal",e=>{const t=br(e.getProvider("auth").getImmediate());return(r=>new eM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(TA,AA,tM(s)),ys(TA,AA,"esm2020")}const iM=300,rM=VA("authIdTokenMaxAge")||iM;let SA=null;const sM=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rM)return;const o=t?.token;SA!==o&&(SA=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aM(s=iC()){const e=kp(s,"auth");if(e.isInitialized())return e.getImmediate();const t=wV(s,{popupRedirectResolver:ZO,persistence:[cO,WV,Gb]}),r=VA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=sM(u.toString());YV(t,c,()=>c(t.currentUser)),QV(t,m=>c(m))}}const o=jR("auth");return o&&CV(t,`http://${o}`),t}function oM(){return document.getElementsByTagName("head")?.[0]??document}_V({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Bi("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",oM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nM("Browser");const lM={apiKey:"AIzaSyDFJKoHEhMnpjt2bqTPpzru1qdA_rUOEdk",authDomain:"bitlkhzin-8d5c8.firebaseapp.com",projectId:"bitlkhzin-8d5c8",storageBucket:"bitlkhzin-8d5c8.firebasestorage.app",messagingSenderId:"862517672946",appId:"1:862517672946:web:66efa0f33cd67f0751896b"},Wb=BA(lM),Pi=IN(Wb,{localCache:BN({tabManager:HN()})}),pa=aM(Wb),uM=({children:s,currentView:e="inventory",onNavigate:t})=>j.jsxs("div",{className:"layout-container",style:{display:"flex",minHeight:"100vh"},children:[j.jsxs("aside",{className:"glass-panel sidebar desktop-only",style:{width:"260px",margin:"24px 0 24px 24px",height:"calc(100vh - 48px)",position:"sticky",top:"24px",display:"flex",flexDirection:"column",padding:"32px 24px",borderRadius:"32px"},children:[j.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px",paddingLeft:"12px"},children:[j.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, hsl(var(--color-primary)), #8b5cf6)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.4)"},children:j.jsx(Ww,{size:28,strokeWidth:2})}),j.jsx("span",{style:{fontSize:"1.25rem",fontWeight:800,color:"white",letterSpacing:"-0.02em"},children:"Tqadiya"})]}),j.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"12px",flex:1},children:[j.jsx(af,{icon:j.jsx(TT,{size:22}),label:"Inventory",active:e==="inventory",onClick:()=>t?.("inventory")}),j.jsx(af,{icon:j.jsx(ST,{size:22}),label:"Shopping List",active:e==="todo",onClick:()=>t?.("todo")}),j.jsx(af,{icon:j.jsx(AT,{size:22}),label:"Settings",active:e==="settings",onClick:()=>t?.("settings")})]}),j.jsx("div",{style:{marginTop:"auto",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,0.05)",width:"100%"},children:j.jsx(af,{icon:j.jsx(IA,{size:20}),label:"Sign Out",onClick:()=>pa.signOut(),active:!1,danger:!0})})]}),j.jsx("main",{className:"animate-fade-in",style:{flex:1,padding:"24px",maxWidth:"100%",paddingBottom:"100px",marginLeft:"0"},children:j.jsx("div",{style:{maxWidth:"900px",margin:"0 auto",width:"100%"},children:s})},e),j.jsx("div",{className:"mobile-nav-container mobile-only",style:{zIndex:50},children:j.jsxs("ul",{className:"nav-list",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",width:"100%"},children:[j.jsx("li",{className:`nav-item ${e==="inventory"||e==="add"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsxs("button",{className:`nav-link ${e==="inventory"||e==="add"?"active":""}`,onClick:()=>t?.("inventory"),children:[j.jsx("span",{className:"icon",children:j.jsx(TT,{size:24})}),j.jsx("span",{className:"text",children:"Pantry"})]})}),j.jsx("li",{className:`nav-item ${e==="todo"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsxs("button",{className:`nav-link ${e==="todo"?"active":""}`,onClick:()=>t?.("todo"),children:[j.jsx("span",{className:"icon",children:j.jsx(ST,{size:24})}),j.jsx("span",{className:"text",children:"Shop"})]})}),j.jsx("li",{className:`nav-item ${e==="settings"?"active":""}`,style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsxs("button",{className:`nav-link ${e==="settings"?"active":""}`,onClick:()=>t?.("settings"),children:[j.jsx("span",{className:"icon",children:j.jsx(AT,{size:24})}),j.jsx("span",{className:"text",children:"Settings"})]})}),j.jsx("div",{className:"indicator",style:{left:`calc(100% / 3 * ${e==="inventory"||e==="add"?0:e==="todo"?1:2} + 100% / 6 - 28px)`}})]})}),j.jsx("style",{children:`
        @media (max-width: 1024px) {
          .desktop-only { display: none !important; }
        }
        @media (min-width: 1025px) {
          .mobile-only { display: none !important; }
        }
      `})]}),af=({icon:s,label:e,active:t=!1,onClick:r,danger:o=!1})=>j.jsxs("button",{onClick:r,className:"tap-scale",style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px 24px",width:"100%",borderRadius:"20px",border:t?"1px solid rgba(59, 130, 246, 0.3)":"1px solid transparent",background:t?"rgba(59, 130, 246, 0.15)":"transparent",boxShadow:t?"0 0 20px -5px rgba(59, 130, 246, 0.3)":"none",color:t?"#60a5fa":o?"#ef4444":"rgba(255,255,255,0.6)",cursor:"pointer",fontWeight:t?600:500,transition:"all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",textAlign:"left",fontSize:"1rem",position:"relative"},children:[j.jsx("span",{style:{color:t?"#60a5fa":"currentColor",display:"flex",alignItems:"center",filter:t?"drop-shadow(0 0 8px rgba(96, 165, 250, 0.5))":"none"},children:s}),j.jsx("span",{style:{opacity:t?1:.9},children:e})]}),Sf=["Produce","Dairy","Bakery","Meat","Frozen","Pantry","Beverages","Snacks","Household","Other"],cM={milk:"Dairy",cheese:"Dairy",yogurt:"Dairy",butter:"Dairy",egg:"Dairy","7lib":"Dairy",lben:"Dairy",bayd:"Dairy",fermaj:"Dairy",danon:"Dairy",bread:"Bakery",bagel:"Bakery",sugar:"Bakery",flour:"Bakery",khobz:"Bakery",apple:"Produce",banana:"Produce",lettuce:"Produce",tomato:"Produce",onion:"Produce",potato:"Produce",maticha:"Produce",batata:"Produce",khei:"Produce",carrot:"Produce",khodra:"Produce",fakiya:"Produce",bsla:"Produce",touma:"Produce",na3na3:"Produce",rbi3:"Produce",chicken:"Meat",beef:"Meat",steak:"Meat",djaj:"Meat",l7em:"Meat",kefta:"Meat",saucisse:"Meat",hout:"Meat",water:"Beverages",juice:"Beverages",soda:"Beverages",coffee:"Beverages",tea:"Beverages",atay:"Beverages","9ahwa":"Beverages",monada:"Beverages",rice:"Pantry",pasta:"Pantry",oil:"Pantry",salt:"Pantry",pepper:"Pantry",zit:"Pantry","olive oil":"Pantry",skar:"Pantry",smida:"Pantry",semolina:"Pantry",laadas:"Pantry",lentils:"Pantry",homs:"Pantry",chickpeas:"Pantry",lubia:"Pantry",couscous:"Pantry"},Zb=xe.createContext({user:null,userProfile:null,loading:!0,updateHousehold:async()=>{}}),qy=()=>xe.useContext(Zb),hM=({children:s})=>{const[e,t]=xe.useState(null),[r,o]=xe.useState(null),[u,c]=xe.useState(!0);xe.useEffect(()=>{const g=XV(pa,async p=>{if(t(p),p){const E=sl(Pi,"users",p.uid),T=Oy(E,async b=>{if(b.exists())o(b.data());else{const M={uid:p.uid,email:p.email||"",householdId:p.uid};try{await rA(E,M),o(M)}catch(G){console.error("Error creating profile:",G)}}c(!1)});return()=>T()}else o(null),c(!1)});return()=>g()},[]);const m=async g=>{if(!e)return;const p=sl(Pi,"users",e.uid);await rA(p,{householdId:g},{merge:!0})};return j.jsx(Zb.Provider,{value:{user:e,userProfile:r,loading:u,updateHousehold:m},children:s})},fM=()=>{const[s,e]=xe.useState([]),[t,r]=xe.useState(!0),{user:o,userProfile:u}=qy();return xe.useEffect(()=>{if(!o||!u?.householdId){e([]),r(!1);return}const E=fb(Fu(Pi,"inventory"),db("householdId","==",u.householdId)),T=Oy(E,b=>{const M=b.docs.map(G=>({id:G.id,...G.data()}));M.sort((G,K)=>K.createdAt-G.createdAt),e(M),r(!1)},b=>{console.error("Error fetching inventory:",b),r(!1)});return()=>T()},[o,u?.householdId]),{items:s,loading:t,addItem:async E=>{if(!o||!u?.householdId)return;let T=E.category;if(!T||T==="Other"){const G=E.name.toLowerCase();for(const[K,Z]of Object.entries(cM))if(G.includes(K)){T=Z;break}}const b=Date.now().toString(),M={...E,category:T,stockLevel:E.stockLevel||"full",id:b,userId:o.uid,householdId:u.householdId,createdAt:Date.now(),updatedAt:Date.now()};e(G=>[M,...G]);try{await Dp(Fu(Pi,"inventory"),{...E,category:T,stockLevel:E.stockLevel||"full",userId:o.uid,householdId:u.householdId,createdAt:Date.now(),updatedAt:Date.now()})}catch(G){throw console.error("Error adding item:",G),e(K=>K.filter(Z=>Z.id!==b)),G}},updateItem:async(E,T)=>{e(b=>b.map(M=>M.id===E?{...M,...T,updatedAt:Date.now()}:M));try{await LN(sl(Pi,"inventory",E),{...T,updatedAt:Date.now()})}catch(b){console.error("Error updating item:",b)}},deleteItem:async E=>{const T=s.find(b=>b.id===E);if(T){e(b=>b.filter(M=>M.id!==E));try{await pb(sl(Pi,"inventory",E))}catch(b){console.error("Error deleting item:",b),T&&e(M=>[...M,T].sort((G,K)=>K.createdAt-G.createdAt))}}},seedData:async()=>{if(!o||!u?.householdId)return;const E=[{name:"Khobz (Bread)",category:"Bakery",stockLevel:"full"},{name:"Atay (Tea)",category:"Beverages",stockLevel:"full"},{name:"Skar (Sugar)",category:"Pantry",stockLevel:"full"},{name:"Zit Zitoune",category:"Pantry",stockLevel:"full"},{name:"Farine & Smida",category:"Pantry",stockLevel:"full"},{name:"Laadas/Homs",category:"Pantry",stockLevel:"low"},{name:"Maticha (Tomato)",category:"Produce",stockLevel:"full"},{name:"Batata (Potato)",category:"Produce",stockLevel:"full"},{name:"Milk",category:"Dairy",stockLevel:"full"},{name:"Eggs",category:"Dairy",stockLevel:"low"}];try{const T=E.map(b=>Dp(Fu(Pi,"inventory"),{...b,location:"kitchen",quantity:1,value:0,userId:o.uid,householdId:u.householdId,createdAt:Date.now(),updatedAt:Date.now()}));await Promise.all(T)}catch(T){console.error("Error seeding data:",T)}}}},eI=({children:s,className:e="",hoverEffect:t=!1,style:r,...o})=>j.jsx("div",{className:`glass-panel ${t?"hover-lift":""} ${e}`,style:{padding:"24px",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:t?"pointer":"default",...r},...o,children:s}),ms=({children:s,variant:e="primary",size:t="md",isLoading:r,className:o="",disabled:u,...c})=>{const m=()=>{switch(e){case"primary":return"btn-primary";case"secondary":return"btn-secondary";case"danger":return"btn-primary";case"ghost":return"btn-ghost";default:return"btn-primary"}},g=()=>{switch(t){case"sm":return{padding:"8px 16px",fontSize:"0.875rem"};case"lg":return{padding:"16px 32px",fontSize:"1.25rem"};default:return{}}},p=m();return j.jsxs("button",{className:`${p} tap-scale ${o}`,disabled:r||u,style:{...g(),opacity:r||u?.7:1,cursor:r||u?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",...c.style},...c,children:[r&&j.jsx("svg",{className:"animate-spin",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"30 60"})}),s]})},dM=()=>{const[s,e]=xe.useState(!1);return xe.useEffect(()=>{typeof window<"u"&&window.deferredPrompt&&(console.log("[PWA] Hook found global deferredPrompt on mount"),e(!0));const r=o=>{o.preventDefault(),console.log("[PWA] Hook captured beforeinstallprompt dynamically"),e(!0),window.deferredPrompt=o};return window.addEventListener("beforeinstallprompt",r),()=>window.removeEventListener("beforeinstallprompt",r)},[]),{canInstall:s,triggerInstall:async()=>{const r=window.deferredPrompt;if(!r)return console.warn("[PWA] No prompt event available to trigger"),!1;await r.prompt();const{outcome:o}=await r.userChoice;return console.log(`[PWA] User response: ${o}`),window.deferredPrompt=null,e(!1),!0}}},mM=()=>{const{triggerInstall:s,canInstall:e}=dM(),t=async()=>{if(!await s()){if(window.matchMedia("(display-mode: standalone)").matches){alert("The app is already installed and running in app mode.");return}if(window.location.hostname!=="localhost"&&window.location.protocol!=="https:"){alert("Installation requires HTTPS. If you are on a local network, please use a secure connection or localhost via port forwarding.");return}alert(`App installation is not available right now.

Possible reasons:
1. It's already installed (check your home screen)
2. Browser limitation (try Chrome/Edge)
3. You are effectively in Incognito mode`)}};return j.jsxs(j.Fragment,{children:[j.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),j.jsxs(ms,{onClick:t,style:{width:"100%",display:"flex",justifyContent:"center",gap:"8px",background:"linear-gradient(135deg, hsl(var(--color-primary)), hsl(var(--color-primary) / 0.8))",color:"white",border:"none",opacity:e?1:.9},children:[j.jsx(rR,{size:18}),"Install App"]})]})},tI=({message:s,type:e="info",isVisible:t,onClose:r,duration:o=3e3,actionLabel:u,onAction:c})=>{if(xe.useEffect(()=>{if(t&&o>0){const p=setTimeout(()=>{r()},o);return()=>clearTimeout(p)}},[t,o,r]),!t)return null;const m=()=>{switch(e){case"success":return j.jsx(nR,{size:20,color:"#4ade80"});case"error":return j.jsx(eR,{size:20,color:"#f87171"});default:return j.jsx(cR,{size:20,color:"#60a5fa"})}},g=()=>{switch(e){case"success":return"rgba(74, 222, 128, 0.5)";case"error":return"rgba(248, 113, 113, 0.5)";default:return"rgba(96, 165, 250, 0.5)"}};return j.jsxs("div",{style:{position:"fixed",top:"24px",left:"50%",transform:"translateX(-50%)",zIndex:2e3,display:"flex",alignItems:"center",gap:"12px",padding:"12px 20px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(12px)",border:`1px solid ${g()}`,borderRadius:"99px",color:"white",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",maxWidth:"90%",width:"max-content",animation:"slideDownFade 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[m(),j.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500,flex:1},children:s}),u&&c&&j.jsx("button",{onClick:c,style:{background:"rgba(255,255,255,0.15)",border:"none",color:"white",padding:"4px 10px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",fontSize:"0.85rem"},children:u}),j.jsx("button",{onClick:r,style:{background:"none",border:"none",padding:"4px",cursor:"pointer",color:"rgba(255,255,255,0.6)",display:"flex"},children:j.jsx(OR,{size:16})}),j.jsx("style",{children:`
                @keyframes slideDownFade {
                    from { opacity: 0; transform: translate(-50%, -20px); }
                    to { opacity: 1; transform: translate(-50%, 0); }
                }
            `})]})},gM=()=>{const[s,e]=xe.useState(!0),[t,r]=xe.useState(!1),[o,u]=xe.useState(""),[c,m]=xe.useState(""),[g,p]=xe.useState(!1),[E,T]=xe.useState(!1),[b,M]=xe.useState({msg:"",type:"info",show:!1}),G=(oe,ie)=>{M({msg:oe,type:ie,show:!0})},K=async oe=>{oe.preventDefault(),T(!0);try{s?await KV(pa,o,c):await GV(pa,o,c)}catch(ie){console.error(ie);let _e="Authentication failed";ie.code==="auth/invalid-credential"&&(_e="Invalid email or password."),ie.code==="auth/email-already-in-use"&&(_e="Email already in use."),ie.code==="auth/weak-password"&&(_e="Password should be at least 6 characters."),ie.code==="auth/operation-not-allowed"&&(_e="Enable Email/Password in Firebase Console!"),G(_e,"error"),T(!1)}},Z=async()=>{T(!0);try{await BV(pa)}catch(oe){console.error(oe),G("Failed to sign in anonymously.","error"),T(!1)}},fe=async oe=>{if(oe.preventDefault(),!o){G("Please enter your email address.","info");return}T(!0);try{await HV(pa,o),G("Password reset email sent! Check your inbox.","success"),r(!1)}catch(ie){console.error(ie);let _e="Failed to send reset email.";ie.code==="auth/user-not-found"&&(_e="No account found with this email."),ie.code==="auth/invalid-email"&&(_e="Invalid email address."),G(_e,"error")}finally{T(!1)}};return j.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"radial-gradient(circle at 50% 10%, rgba(37, 99, 235, 0.1) 0%, transparent 50%)"},children:[j.jsxs("div",{className:"animate-fade-in",style:{width:"100%",maxWidth:"400px"},children:[j.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[j.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:800,marginBottom:"8px",background:"linear-gradient(135deg, hsl(var(--color-primary)) 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Bitlkhzin"}),j.jsx("p",{className:"text-muted",children:"Your smart inventory companion."})]}),j.jsx(eI,{children:j.jsxs("form",{onSubmit:t?fe:K,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[j.jsx("h2",{className:"text-title",style:{fontSize:"1.5rem",textAlign:"center"},children:t?"Reset Password":s?"Welcome Back":"Create Account"}),j.jsxs("div",{className:"form-row",style:{display:"flex",flexDirection:"column"},children:[j.jsx("label",{style:{fontWeight:600,fontSize:"0.875rem",marginBottom:"8px"},children:"Email"}),j.jsx("input",{type:"email",required:!0,value:o,onChange:oe=>u(oe.target.value),className:"glass-panel",style:{padding:"12px",background:"rgba(255,255,255,0.5)",width:"100%"},placeholder:"you@example.com"})]}),!t&&j.jsxs("div",{className:"form-row",style:{display:"flex",flexDirection:"column"},children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[j.jsx("label",{style:{fontWeight:600,fontSize:"0.875rem"},children:"Password"}),s&&j.jsx("button",{type:"button",onClick:()=>r(!0),style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:"Forgot Password?"})]}),j.jsxs("div",{style:{position:"relative"},children:[j.jsx("input",{type:g?"text":"password",required:!0,minLength:6,value:c,onChange:oe=>m(oe.target.value),className:"glass-panel",style:{padding:"12px",paddingRight:"40px",background:"rgba(255,255,255,0.5)",width:"100%"},placeholder:""}),j.jsx("button",{type:"button",onClick:()=>p(!g),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--color-text-light)",opacity:.6,display:"flex",alignItems:"center"},children:g?j.jsx(aR,{size:18}):j.jsx(lR,{size:18})})]})]}),j.jsxs(ms,{type:"submit",style:{marginTop:"8px",display:"flex",justifyContent:"center",gap:"8px"},disabled:E,children:[E?j.jsx(Xg,{className:"animate-spin"}):t?j.jsx(pR,{size:18}):s?j.jsx(dR,{size:18}):j.jsx(NR,{size:18}),t?"Send Reset Link":s?"Sign In":"Create Account"]}),j.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:j.jsx("p",{className:"text-muted",style:{fontSize:"0.9rem"},children:t?j.jsx("button",{type:"button",onClick:()=>r(!1),style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontWeight:600,cursor:"pointer"},children:"Back to Login"}):j.jsxs(j.Fragment,{children:[s?"Don't have an account? ":"Already have an account? ",j.jsx("button",{type:"button",onClick:()=>{e(!s),u(""),m("")},style:{background:"none",border:"none",color:"hsl(var(--color-primary))",fontWeight:600,cursor:"pointer",textDecoration:"underline"},children:s?"Sign Up":"Log In"})]})})}),!t&&j.jsxs(j.Fragment,{children:[j.jsxs("div",{style:{position:"relative",margin:"20px 0",textAlign:"center"},children:[j.jsx("hr",{style:{borderColor:"var(--glass-border)",opacity:.5}}),j.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--color-surface-light)",padding:"0 10px",fontSize:"0.8rem",color:"var(--color-text-light)",opacity:.6},children:"OR"})]}),j.jsx(ms,{type:"button",variant:"secondary",onClick:Z,disabled:E,style:{width:"100%"},children:"Continue as Guest"})]})]})})]}),j.jsx(tI,{message:b.msg,type:b.type,isVisible:b.show,onClose:()=>M({...b,show:!1})})]})},nI=xe.createContext({categories:Sf,customCategories:[],addCategory:async()=>{},removeCategory:async()=>{},loading:!0}),pM=()=>xe.useContext(nI),yM=({children:s})=>{const{user:e,userProfile:t}=qy(),[r,o]=xe.useState([]),[u,c]=xe.useState(!0);xe.useEffect(()=>{if(!e||!t?.householdId){o([]),c(!1);return}const E=fb(Fu(Pi,"categories"),db("householdId","==",t.householdId)),T=Oy(E,b=>{const M=b.docs.map(G=>({id:G.id,...G.data(),isCustom:!0}));o(M),c(!1)});return()=>T()},[e,t?.householdId]);const m=async E=>{if(!(!E.trim()||!t?.householdId)){if(Sf.includes(E)||r.some(T=>T.name===E)){alert("Category already exists");return}await Dp(Fu(Pi,"categories"),{name:E,householdId:t.householdId,createdAt:Date.now()})}},g=async(E,T)=>{if(Sf.includes(T)){alert("Cannot delete default categories");return}await pb(sl(Pi,"categories",E))},p=[...new Set([...Sf,...r.map(E=>E.name)])];return j.jsx(nI.Provider,{value:{categories:p,customCategories:r,addCategory:m,removeCategory:g,loading:u},children:s})},_M=xe.lazy(()=>Jf(()=>import("./InventoryList-CBE-ZBBm.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(s=>({default:s.InventoryList}))),vM=xe.lazy(()=>Jf(()=>import("./InventoryForm-B31wbYAf.js"),[],import.meta.url).then(s=>({default:s.InventoryForm}))),EM=xe.lazy(()=>Jf(()=>import("./TodoView-DpxTO3kq.js"),__vite__mapDeps([3,2]),import.meta.url).then(s=>({default:s.TodoView}))),TM=()=>{const{customCategories:s,addCategory:e,removeCategory:t}=pM(),[r,o]=xe.useState(""),u=async c=>{c.preventDefault(),r.trim()&&(await e(r.trim()),o(""))};return j.jsxs("div",{children:[j.jsx("h3",{children:"Custom Categories"}),j.jsxs("form",{onSubmit:u,style:{display:"flex",gap:"8px",marginBottom:"12px",marginTop:"8px"},children:[j.jsx("input",{value:r,onChange:c=>o(c.target.value),placeholder:"New Category...",className:"glass-panel",style:{flex:1,padding:"8px"}}),j.jsx(ms,{size:"sm",type:"submit",children:j.jsx(TR,{size:16})})]}),j.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[s.length===0&&j.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem"},children:"No custom categories yet."}),s.map(c=>j.jsxs("div",{style:{background:"rgba(0,0,0,0.05)",padding:"4px 12px",borderRadius:"16px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px"},children:[c.name,j.jsx("button",{onClick:()=>t(c.id,c.name),style:{border:"none",background:"none",cursor:"pointer",color:"#ef4444",display:"flex"},children:j.jsx(DR,{size:14})})]},c.id))]})]})};function AM(){const[s,e]=xe.useState(()=>localStorage.getItem("currentView")||"inventory"),[t,r]=xe.useState({show:!1,msg:"",type:"success"}),o=(K,Z="success")=>{r({show:!0,msg:K,type:Z}),setTimeout(()=>r(fe=>({...fe,show:!1})),3e3)};xe.useEffect(()=>{localStorage.setItem("currentView",s)},[s]);const[u,c]=xe.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),{items:m,addItem:g,deleteItem:p}=fM(),{user:E,loading:T,userProfile:b,updateHousehold:M}=qy();if(xe.useEffect(()=>{const K=document.querySelector('meta[name="theme-color"]');u?(document.documentElement.classList.add("dark"),K&&K.setAttribute("content","#14171f")):(document.documentElement.classList.remove("dark"),K&&K.setAttribute("content","#f9fafb"))},[u]),T)return j.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:j.jsx(Xg,{className:"animate-spin",size:48,color:"hsl(var(--color-primary))"})});if(!E)return j.jsx(gM,{});const G=()=>{switch(s){case"add":return j.jsx(vM,{onSubmit:K=>{g(K),e("inventory")},onCancel:()=>e("inventory")});case"settings":return j.jsxs("div",{className:"animate-fade-in",children:[j.jsx("h2",{className:"text-title",children:"Settings"}),j.jsxs(eI,{children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[j.jsx("h3",{style:{margin:0},children:"Appearance"}),j.jsxs(ms,{variant:"secondary",onClick:()=>c(!u),style:{display:"flex",alignItems:"center",gap:"8px"},children:[u?j.jsx(RR,{size:18}):j.jsx(_R,{size:18}),u?"Light Mode":"Dark Mode"]})]}),j.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),j.jsxs("div",{style:{opacity:.6},children:[j.jsx("p",{children:"App Version: 1.2.1"}),j.jsxs("p",{children:["Account: ",E.email]}),j.jsx("p",{children:"Sync Status: Cloud (Firebase)"}),j.jsxs(ms,{size:"sm",variant:"secondary",onClick:()=>window.location.reload(),style:{marginTop:"12px",width:"100%",justifyContent:"center",gap:"8px"},children:[j.jsx(SR,{size:16}),"Check for Updates / Reload"]})]}),j.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),j.jsxs("div",{children:[j.jsx("h3",{children:"Family Sharing"}),j.jsx("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"8px"},children:"Share this code with your family to sync your list:"}),j.jsx("div",{style:{background:"rgba(0,0,0,0.05)",padding:"12px",borderRadius:"8px",fontFamily:"monospace",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",cursor:"pointer",userSelect:"all"},onClick:()=>{navigator.clipboard.writeText(b?.householdId||""),o("Code copied to clipboard!","success")},title:"Click to copy",children:b?.householdId||"Loading..."}),j.jsxs("details",{children:[j.jsx("summary",{style:{cursor:"pointer",fontSize:"0.9rem",color:"hsl(var(--color-primary))"},children:"Join a Family"}),j.jsxs("form",{onSubmit:async K=>{K.preventDefault();const Z=K.target.code.value;Z&&confirm("Joining a new family will switch your view. Continue?")&&(await M(Z),alert("You have joined the family!"),window.location.reload())},style:{marginTop:"12px",display:"flex",gap:"8px"},children:[j.jsx("input",{name:"code",placeholder:"Enter family code",className:"glass-panel",style:{padding:"8px",flex:1}}),j.jsx(ms,{size:"sm",type:"submit",children:"Join"})]})]})]}),j.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),j.jsxs(ms,{variant:"secondary",onClick:()=>pa.signOut(),style:{width:"100%",display:"flex",justifyContent:"center",gap:"8px",color:"#f87171",borderColor:"rgba(248, 113, 113, 0.3)"},children:[j.jsx(IA,{size:18}),"Log Out"]}),j.jsx(mM,{}),j.jsx("hr",{style:{margin:"16px 0",borderColor:"var(--glass-border)",opacity:.3}}),j.jsx(TM,{})]})]});case"todo":return j.jsx(EM,{});default:return j.jsx("div",{className:"animate-fade-in",children:j.jsx(_M,{items:m,onAddItem:()=>e("add"),onDeleteItem:p})})}};return j.jsxs(uM,{currentView:s,onNavigate:K=>e(K),children:[j.jsx(xe.Suspense,{fallback:j.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:j.jsx(Xg,{className:"animate-spin",size:32,color:"hsl(var(--color-primary))"})}),children:G()}),j.jsx(tI,{isVisible:t.show,message:t.msg,type:t.type,onClose:()=>r(K=>({...K,show:!1}))})]})}function SM(s={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:u,onRegisterError:c}=s;let m,g;const p=async(T=!0)=>{await g};async function E(){if("serviceWorker"in navigator){if(m=await Jf(async()=>{const{Workbox:T}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:T}},[],import.meta.url).then(({Workbox:T})=>new T("./sw.js",{scope:"./",type:"classic"})).catch(T=>{c?.(T)}),!m)return;m.addEventListener("activated",T=>{(T.isUpdate||T.isExternal)&&window.location.reload()}),m.addEventListener("installed",T=>{T.isUpdate||r?.()}),m.register({immediate:e}).then(T=>{u?u("./sw.js",T):o?.(T)}).catch(T=>{c?.(T)})}}return g=E(),p}const bM=SM({onNeedRefresh(){confirm("New content available. Reload?")&&bM(!0)},onOfflineReady(){console.log("App ready to work offline")}});Fw.createRoot(document.getElementById("root")).render(j.jsx(xe.StrictMode,{children:j.jsx(hM,{children:j.jsx(yM,{children:j.jsx(AM,{})})})}));export{cM as A,ms as B,eR as C,Xg as L,TR as P,IM as R,tI as T,OR as X,xe as a,pM as b,bt as c,eI as d,nR as e,qy as f,Fu as g,Pi as h,DM as i,j,sl as k,CM as l,xM as m,Oy as n,RM as o,pb as p,fb as q,Bw as r,rA as s,LN as t,fM as u,Dp as v,db as w,DR as x};
