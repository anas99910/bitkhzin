import{c as R,u as T,R as c,j as e,B as p,P as b,T as B}from"./index-K0rawSU5.js";import{InventoryForm as N}from"./InventoryForm-DsMUEtbu.js";import{u as D,S as P}from"./SwipeableItem-CP7Tb0Ue.js";const A=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E=R("check",A),F=({items:x,onAddItem:S,onDeleteItem:u})=>{const{addTodo:w}=D(),{updateItem:m,seedData:f}=T(),[y,a]=c.useState({show:!1,msg:""}),[o,v]=c.useState(!1),[n,g]=c.useState(new Set),[d,h]=c.useState(null),k=s=>{w(s.name,1,s.category),a({show:!0,msg:`Added ${s.name} to Shopping List`}),setTimeout(()=>a({show:!1,msg:""}),3e3)},j=(s,l)=>{m(s.id,{stockLevel:l})},I=s=>{const l=new Set(n);l.has(s)?l.delete(s):l.add(s),g(l)},C=()=>{confirm(`Delete ${n.size} items?`)&&(n.forEach(s=>u(s)),v(!1),g(new Set),a({show:!0,msg:"Items deleted"}),setTimeout(()=>a({show:!1,msg:""}),3e3))},L=s=>{d&&(m(d.id,s),h(null),a({show:!0,msg:"Item updated"}),setTimeout(()=>a({show:!1,msg:""}),3e3))},z=x.reduce((s,l)=>{const i=l.category||"Other";return s[i]||(s[i]=[]),s[i].push(l),s},{});return e.jsxs("div",{className:"animate-fade-in",style:{paddingBottom:"80px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[x.length>0&&e.jsx(p,{variant:"ghost",onClick:()=>{v(!o),g(new Set)},style:{color:o?"var(--color-primary)":"var(--text-muted)"},children:o?"Cancel":"Select"}),o&&n.size>0&&e.jsxs(p,{variant:"danger",size:"sm",onClick:C,children:["Delete (",n.size,")"]})]}),!o&&e.jsxs(p,{onClick:S,className:"tap-scale",children:[e.jsx(b,{size:18})," Add Item"]})]}),d&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:e.jsx("div",{style:{width:"100%",maxWidth:"500px"},children:e.jsx(N,{initialValues:d,onSubmit:L,onCancel:()=>h(null)})})}),x.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"48px",opacity:.8},children:[e.jsx("p",{style:{marginBottom:"16px"},children:"Your pantry is empty."}),e.jsx(p,{onClick:()=>f&&f(),children:"Preload Essentials"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:Object.entries(z).map(([s,l],i)=>e.jsxs("div",{className:"animate-slide-up",style:{animationDelay:`${i*50}ms`},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",paddingLeft:"8px",borderLeft:"4px solid hsl(var(--color-primary))"},children:e.jsx("h3",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"hsl(var(--color-primary))",textTransform:"uppercase",letterSpacing:"0.05em"},children:s})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1px"},children:l.map(t=>e.jsx(P,{onSwipeLeft:()=>u(t.id),disabled:o,children:e.jsxs("div",{className:"glass-panel",onClick:()=>{o&&I(t.id)},style:{display:"flex",alignItems:"center",padding:"16px",background:n.has(t.id)?"rgba(99, 102, 241, 0.1)":t.stockLevel==="low"?"rgba(239, 68, 68, 0.05)":"var(--color-surface)",border:n.has(t.id)?"1px solid var(--color-primary)":"1px solid var(--glass-border)",borderRadius:"12px",marginBottom:"8px",position:"relative",transition:"all 0.2s"},children:[o?e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"6px",border:n.has(t.id)?"none":"2px solid var(--text-muted)",background:n.has(t.id)?"var(--color-primary)":"transparent",marginRight:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:n.has(t.id)&&e.jsx(E,{size:16})}):e.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid var(--text-muted)",borderRadius:"6px",marginRight:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",opacity:.5},onClick:r=>{r.stopPropagation(),k(t)},title:"Add to Shopping List",children:e.jsx(b,{size:14})}),e.jsx("div",{style:{flex:1},onClick:()=>!o&&h(t),children:e.jsx("span",{style:{fontWeight:500,fontSize:"1rem",cursor:o?"default":"pointer"},children:t.name})}),!o&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),j(t,"low")},className:"tap-scale",style:{background:t.stockLevel==="low"?"rgba(239, 68, 68, 0.1)":"transparent",border:"none",fontSize:"0.8rem",fontWeight:"600",color:t.stockLevel==="low"?"#ef4444":"var(--text-muted)",cursor:"pointer",opacity:t.stockLevel==="low"?1:.4,transition:"all 0.2s",padding:"4px 8px",borderRadius:"8px"},children:"Low"}),e.jsx("button",{onClick:r=>{r.stopPropagation(),j(t,"full")},className:"tap-scale",style:{background:t.stockLevel==="full"?"rgba(16, 185, 129, 0.1)":"transparent",border:"none",fontSize:"0.8rem",fontWeight:"600",color:t.stockLevel==="full"?"#10b981":"var(--text-muted)",cursor:"pointer",opacity:t.stockLevel==="full"?1:.4,transition:"all 0.2s",padding:"4px 8px",borderRadius:"8px"},children:"Full"})]})]})},t.id))})]},s))}),e.jsx(B,{isVisible:y.show,message:y.msg,type:"success",onClose:()=>a({show:!1,msg:""})})]})};export{F as InventoryList};
